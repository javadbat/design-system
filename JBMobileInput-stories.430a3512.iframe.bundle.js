"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[379],{"./stories/JBMobileInput.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Normal:()=>Normal,__namedExportsOrder:()=>__namedExportsOrder,default:()=>JBMobileInput_stories});var react=__webpack_require__("./node_modules/react/index.js"),jb_input=__webpack_require__("../../web-component/jb-input/index.js");function t(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}var n,i,o,r,a=class extends jb_input.W{constructor(){super(),n.add(this),this.initMobileInputWebComponent()}initMobileInputWebComponent(){const e=document.createElement("template");e.innerHTML="<style>.jb-input-web-component{--jb-input-input-direction: var(--jb-mobile-input-input-direction, ltr)}</style>",this.shadowRoot.appendChild(e.content.cloneNode(!0)),this.validation.addValidationListGetter(t(this,n,"m",i).bind(this)),this.addStandardValueCallback(t(this,n,"m",r).bind(this))}};function JBMobileInput_o(e,t,u,i=!1){let l=(0,react.useCallback)((t=>{e.current&&"function"==typeof u&&u(t)}),[e,u]);(0,react.useEffect)((()=>{let r=e.current;return r&&r.addEventListener(t,l,{passive:i,capture:!1}),function(){r&&r.removeEventListener(t,l,{passive:i,capture:!1})}}),[e,t,u,i])}function JBMobileInput_a(e,t){JBMobileInput_o(e,"enter",t.onEnter),JBMobileInput_o(e,"input",t.onInput),JBMobileInput_o(e,"beforeinput",t.onBeforeinput),JBMobileInput_o(e,"change",t.onChange),JBMobileInput_o(e,"keydown",t.onKeydown),JBMobileInput_o(e,"keyup",t.onKeyup),JBMobileInput_o(e,"focus",t.onFocus),JBMobileInput_o(e,"blur",t.onBlur)}function c(e,t){(0,react.useEffect)((()=>{let r=t.value;(null==t.value||void 0===t.value)&&(r=""),e&&e.current&&e.current&&(e.current.value=r?.toString()||"")}),[t.value]),(0,react.useEffect)((()=>{t.type&&e?.current?.setAttribute("type",t.type)}),[t.type]),(0,react.useEffect)((()=>{e?.current?.setAttribute("name",t.name||"")}),[t.name]),(0,react.useEffect)((()=>{e&&e.current&&(e.current.validation.list=t.validationList||[])}),[t.validationList]),(0,react.useEffect)((()=>{e?.current?.setAttribute("label",t.label||"")}),[t.label]),(0,react.useEffect)((()=>{"boolean"==typeof t.disabled&&e?.current?.setAttribute("disabled",`${t.disabled}`)}),[t.disabled]),(0,react.useEffect)((()=>{"boolean"==typeof t.required&&e?.current?.setAttribute("required",`${t.required}`)}),[t.required]),(0,react.useEffect)((()=>{t.inputmode?e.current?.setAttribute("inputmode",t.inputmode):e.current?.removeAttribute("inputmode")}),[t.inputmode]),(0,react.useEffect)((()=>{e?.current?.setAttribute("message",t.message||"")}),[t.message]),(0,react.useEffect)((()=>{e?.current?.setAttribute("placeholder",t.placeholder||"")}),[t.placeholder])}n=new WeakSet,i=function(){const e=[];return e.push({validator:/^09[0-9]{2} [0-9]{7}$/g,message:"شماره موبایل معتبر نیست"}),e},o=function(e){const t=e.replace(/\s/g,"").replace(/\u06F0/g,"0").replace(/\u06F1/g,"1").replace(/\u06F2/g,"2").replace(/\u06F3/g,"3").replace(/\u06F4/g,"4").replace(/\u06F5/g,"5").replace(/\u06F6/g,"6").replace(/\u06F7/g,"7").replace(/\u06F8/g,"8").replace(/\u06F9/g,"9").replace(/[^0-9]/g,""),n=/(?<opCode>(09|0|9)?)(?<number>.{0,})/g.exec(t);if(n&&n.groups){let e,t=n.groups.number;if(t=t.substring(0,9),n.groups.opCode)e="9"===n.groups.opCode?"09":n.groups.opCode;else{if(!(t.length>0))return"";e="09"}return 1==e.length?e:e+t}return""},r=function(e){let i="",r="";r=t(this,n,"m",o).call(this,e);const a=/(09[0-9]{0,2})([0-9]{0,7})/g.exec(r);return i=a&&a.length>0?a.slice(1).filter((e=>""!==e)).join(" "):r,{value:r,displayValue:i}},!customElements.get("jb-mobile-input")&&window.customElements.define("jb-mobile-input",a),(0,react.forwardRef)(((t,r)=>{let o=(0,react.useRef)(null),[s,p]=(0,react.useState)(0);return(0,react.useImperativeHandle)(r,(()=>o?o.current:{}),[o]),(0,react.useEffect)((()=>{p(s+1)}),[o.current]),JBMobileInput_a(o,t),c(o,t),react.createElement("jb-input",{ref:o,class:t.className},t.children)})).displayName="JBInput";let s=(0,react.forwardRef)(((t,r)=>{let o=(0,react.useRef)(null),[s,p]=(0,react.useState)(0);return(0,react.useImperativeHandle)(r,(()=>o?o.current:{}),[o]),(0,react.useEffect)((()=>{p(s+1)}),[o.current]),c(o,t),JBMobileInput_a(o,t),react.createElement("jb-mobile-input",{ref:o,class:t.className},t.children)}));s.displayName="JBMobileInput";const JBMobileInput_stories={title:"Example/form elements/Inputs/JBMobileInput",component:s},Normal={args:{label:"mobile",message:"please enter your mobile number"}},__namedExportsOrder=["Normal"];Normal.parameters={...Normal.parameters,docs:{...Normal.parameters?.docs,source:{originalSource:'{\n  args: {\n    label: \'mobile\',\n    message: "please enter your mobile number"\n    // placeholder:"phone",\n  }\n}',...Normal.parameters?.docs?.source}}}}}]);