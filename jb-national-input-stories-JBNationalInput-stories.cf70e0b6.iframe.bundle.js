"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[476],{"../../web-component/jb-national-input/stories/JBNationalInput.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Normal:()=>Normal,__namedExportsOrder:()=>__namedExportsOrder,default:()=>JBNationalInput_stories});var react=__webpack_require__("./node_modules/react/index.js"),jb_input=__webpack_require__("../../web-component/jb-input/index.js");function n(t){return"string"!=typeof t?"":t.replace(/[۰-۹]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)-1728)}))}var e=class extends jb_input.W{constructor(){super(),this.initMobileInputWebComponent()}initMobileInputWebComponent(){const t=document.createElement("template");t.innerHTML="<style>.jb-input-web-component{--jb-input-input-direction: var(--jb-national-input-input-direction, ltr)}</style>",this.shadowRoot.appendChild(t.content.cloneNode(!0)),this.validation.addValidationListGetter(this.#t.bind(this)),this.#n(),this.addStandardValueCallback(this.#e.bind(this))}#e(t){let e="",i="";const a=/(?<nationalId>[\u06F0-\u06F90-9]{1,10})/g.exec(t);return e=a&&a.groups?a.groups.nationalId:"",i=n(e),{value:i,displayValue:e}}#n(){this.elements.input.addEventListener("beforeinput",this.#i.bind(this))}#i(t){const n=t.data;/[\u06F0-\u06F90-9]{1,10}/g.test(n)||"deleteContentBackward"==t.inputType||t.preventDefault()}#t(){return[{validator:({value:t})=>function(t){if(0===t.length)return!0;const e=n(t);if(!/^\d{10}$/.test(e))return!1;const i=+e[9],a=e.split("").slice(0,9).reduce(((t,n,e)=>t+ +n*(10-e)),0)%11;return a<2?i===a:i+a===11}(t),message:"کد ملی وارد شده نامعتبر است"}]}};let JBNationalInput_e,t;!customElements.get("jb-national-input")&&window.customElements.define("jb-national-input",e);var s=Object.create,c=Object.defineProperty,p=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,b=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,m=(e,t)=>function(){return t||(0,e[d(e)[0]])((t={exports:{}}).exports,t),t.exports},y=m({"node_modules/react/cjs/react-jsx-runtime.production.js"(e){var t=Symbol.for("react.transitional.element");function r(e,r,n){var o=null;if(void 0!==n&&(o=""+n),void 0!==r.key&&(o=""+r.key),"key"in r)for(var u in n={},r)"key"!==u&&(n[u]=r[u]);else n=r;return{$$typeof:t,type:e,key:o,ref:void 0!==(r=n.ref)?r:null,props:n}}e.Fragment=Symbol.for("react.fragment"),e.jsx=r,e.jsxs=r}}),v=((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(var o,u=d(t),a=0,l=u.length;a<l;a++)o=u[a],f.call(e,o)||void 0===o||c(e,o,{get:(e=>t[e]).bind(null,o),enumerable:!(n=p(t,o))||n.enumerable});return e})(c(null!=(t=m({"node_modules/react/jsx-runtime.js"(e,t){t.exports=y()}})())?s(b(t)):{},"default",{value:t,enumerable:!0}),t);function j(e,t,r,n=!1){let a=(0,react.useCallback)((t=>{e.current&&"function"==typeof r&&r(t)}),[e,r]);(0,react.useEffect)((()=>{let r=e.current;return r&&r.addEventListener(t,a,{passive:n,capture:!1}),function(){r&&r.removeEventListener(t,a,{passive:n,capture:!1})}}),[e,t,r,n])}var g=Object.create,O=Object.defineProperty,x=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,k=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty,P=(e,t)=>function(){return t||(0,e[h(e)[0]])((t={exports:{}}).exports,t),t.exports},w=P({"node_modules/react/cjs/react-jsx-runtime.production.js"(e){var t=Symbol.for("react.transitional.element");function r(e,r,n){var o=null;if(void 0!==n&&(o=""+n),void 0!==r.key&&(o=""+r.key),"key"in r)for(var u in n={},r)"key"!==u&&(n[u]=r[u]);else n=r;return{$$typeof:t,type:e,key:o,ref:void 0!==(r=n.ref)?r:null,props:n}}e.Fragment=Symbol.for("react.fragment"),e.jsx=r,e.jsxs=r}}),N=((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(var o,u=h(t),a=0,l=u.length;a<l;a++)o=u[a],A.call(e,o)||void 0===o||O(e,o,{get:(e=>t[e]).bind(null,o),enumerable:!(n=x(t,o))||n.enumerable});return e})(O(null!=(JBNationalInput_e=P({"node_modules/react/jsx-runtime.js"(e,t){t.exports=w()}})())?g(k(JBNationalInput_e)):{},"default",{value:JBNationalInput_e,enumerable:!0}),JBNationalInput_e);function $(e,t){j(e,"enter",t.onEnter),j(e,"input",t.onInput),j(e,"beforeinput",t.onBeforeinput),j(e,"change",t.onChange),j(e,"keydown",t.onKeydown),j(e,"keyup",t.onKeyup),j(e,"focus",t.onFocus),j(e,"blur",t.onBlur)}function B(e,t){(0,react.useEffect)((()=>{let r=t.value;(null==t.value||void 0===t.value)&&(r=""),e&&e.current&&e.current&&(e.current.value=r?.toString()||"")}),[t.value]),(0,react.useEffect)((()=>{t.type&&e?.current?.setAttribute("type",t.type)}),[t.type]),(0,react.useEffect)((()=>{e?.current?.setAttribute("name",t.name||"")}),[t.name]),(0,react.useEffect)((()=>{e&&e.current&&(e.current.validation.list=t.validationList||[])}),[t.validationList]),(0,react.useEffect)((()=>{e?.current?.setAttribute("label",t.label||"")}),[t.label]),(0,react.useEffect)((()=>{"boolean"==typeof t.disabled&&e?.current?.setAttribute("disabled",`${t.disabled}`)}),[t.disabled]),(0,react.useEffect)((()=>{"boolean"==typeof t.required&&e?.current?.setAttribute("required",`${t.required}`)}),[t.required]),(0,react.useEffect)((()=>{t.inputmode?e.current?.setAttribute("inputmode",t.inputmode):e.current?.removeAttribute("inputmode")}),[t.inputmode]),(0,react.useEffect)((()=>{e?.current?.setAttribute("message",t.message||"")}),[t.message]),(0,react.useEffect)((()=>{e?.current?.setAttribute("placeholder",t.placeholder||"")}),[t.placeholder]),(0,react.useEffect)((()=>{t.error?e?.current?.setAttribute("error",t.error):e?.current?.removeAttribute("error")}),[t.error])}(0,react.forwardRef)(((e,t)=>{let r=(0,react.useRef)(null),[n,o]=(0,react.useState)(0);return(0,react.useImperativeHandle)(t,(()=>r?r.current:{}),[r]),(0,react.useEffect)((()=>{o(n+1)}),[r.current]),$(r,e),B(r,e),(0,N.jsx)("jb-input",{ref:r,class:e.className,children:e.children})})).displayName="JBInput";let S=react.forwardRef(((e,t)=>{let r=(0,react.useRef)(null),[n,o]=(0,react.useState)(0);return(0,react.useImperativeHandle)(t,(()=>r?r.current:{}),[r]),(0,react.useEffect)((()=>{o(n+1)}),[r.current]),B(r,e),$(r,e),(0,v.jsx)("jb-national-input",{ref:r,class:e.className?e.className:""})}));S.displayName="JBNationalInput";const JBNationalInput_stories={title:"Example/form elements/Inputs/JBNationalInput",component:S},Normal={args:{label:"national id",message:"please enter your national code"}},__namedExportsOrder=["Normal"];Normal.parameters={...Normal.parameters,docs:{...Normal.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'national id',\n    message: \"please enter your national code\"\n  }\n}",...Normal.parameters?.docs?.source}}}}}]);