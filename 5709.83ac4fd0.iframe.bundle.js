"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[5709],{"../../web-component/jb-time-picker/index.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var dist=__webpack_require__("../../web-component/jb-core/dist/index.js"),t=class{lightness;chroma;hue;variableName;get value(){return`oklch(${this.lightness} ${this.chroma} ${this.hue})`}constructor(e,t){this.variableName=t,this.lightness=e.lightness,this.chroma=e.chroma,this.hue=e.hue}};function i(e){return new t({lightness:6*(3+1.3*e)*.01,chroma:.001*(14+.09*e),hue:258.36},`--jb-neutral-${e}`)}function s(e){return new t({lightness:e.lightness+.07,chroma:e.chroma+.07,hue:e.hue},`${e.variableName}-hover`)}function n(e){return new t({lightness:e.lightness-.1,chroma:e.chroma-.05,hue:e.hue},`${e.variableName}-pressed`)}function r(e){const i=Math.min(e.lightness+.12*(1-e.lightness),.985),s=e.chroma*(1-.15*(i-e.lightness));return new t({lightness:i,chroma:Number(s.toFixed(3)),hue:e.hue},`${e.variableName}-l`)}function o(e){const i=Math.max(e.lightness-.12*e.lightness,.02),s=e.chroma*(1-.15*(i-e.lightness));return new t({lightness:i,chroma:s,hue:e.hue},`${e.variableName}-d`)}function a(e){const i=Math.min(e.lightness+.65*(1-e.lightness),.93),s=.55*e.chroma*(1-.08*(i-e.lightness)),n=e.hue>=70&&e.hue<=162?5:-3,r=e.hue+n;return new t({lightness:i,chroma:Number(s.toFixed(3)),hue:r},`${e.variableName}-subtle`)}function l(e){const i=Math.max(e.lightness-.35,.22),s=Math.min(1.6*e.chroma,.28);return new t({lightness:Number(i.toFixed(3)),chroma:Number(s.toFixed(3)),hue:e.hue},`${e.variableName}-contrast`)}const m=new t({lightness:.6,chroma:.26,hue:256},"--jb-primary"),c=new t({lightness:.6,chroma:.26,hue:286},"--jb-secondary"),h=new t({lightness:.75,chroma:.18,hue:70},"--jb-yellow"),u=new t({lightness:.68,chroma:.1484,hue:162.1},"--jb-green"),d=new t({lightness:.6,chroma:.22,hue:23.21},"--jb-red"),p={single:{black:new t({lightness:.14,chroma:0,hue:0},"--jb-black"),white:new t({lightness:1,chroma:0,hue:0},"--jb-white"),highlight:new t({lightness:.93,chroma:.2302,hue:125.18},"--jb-highlight")},neutral:[i(0),i(1),i(2),i(3),i(4),i(5),i(6),i(7),i(8),i(9),i(10)],primary:{main:m,hover:s(m),pressed:n(m),light:r(m),dark:o(m),subtle:a(m),contrast:l(m)},secondary:{main:c,hover:s(c),pressed:n(c),light:r(c),dark:o(c),subtle:a(c),contrast:l(c)},yellow:{main:h,hover:s(h),pressed:n(h),light:r(h),dark:o(h),subtle:a(h),contrast:l(h)},green:{main:u,hover:s(u),pressed:n(u),light:r(u),dark:o(u),subtle:a(u),contrast:l(u)},red:{main:d,hover:s(d),pressed:n(d),light:r(d),dark:o(d),subtle:a(d),contrast:l(d)}};function T(e){try{const{value:t,...i}=e;window.CSS.registerProperty({...i}),function(e,t){try{t&&(document.documentElement.style.getPropertyValue(e)||document.documentElement.style.setProperty(e,t))}catch(e){}}(e.name,t)}catch(e){}}const v="hour",x="minute",g="second",w="currentTime",k="MOVE",E="ADD_1",P="SUB_1";var M=class extends HTMLElement{#e={second:0,minute:0,hour:0};elements;#t={hour:24,minute:59,second:59};focusedTimeUnit=null;#i=null;get frontalZero(){return this.#s}set frontalZero(e){this.frontalZero!==e&&(this.#s=e,this.#n())}#s=!1;set optionalUnits(e){this.#r=e,e.forEach((e=>{this.elements.currentTime[e]?.classList.add("--optional"),this.elements.nextTime[e]?.classList.add("--optional"),this.elements.prevTime[e]?.classList.add("--optional")}))}get optionalUnits(){return this.#r}#r=[];get value(){return this.#e}set value(e){this.#o.hour.isTextAnimationPlaying?this.#o.hour.waitingAction=()=>{this.#a(e.hour,v,!1)}:this.#a(e.hour,v,!1),this.#o.minute.isTextAnimationPlaying?this.#o.minute.waitingAction=()=>{this.#a(e.minute,x,!1)}:this.#a(e.minute,x,!1),e.second&&(this.#o.second.isTextAnimationPlaying?this.#o.second.waitingAction=()=>{this.#a(e.second,g,!1)}:this.#a(e.second,g,!1))}get secondEnabled(){return this.#l}set secondEnabled(e){"boolean"==typeof e&&(this.#l=e,0==e?this.#m():this.#c())}#h=!1;get showPersianNumber(){return this.#h}set showPersianNumber(e){this.#h=Boolean(e),this.#n()}textWidth=null;constructor(){super(),this.#u()}connectedCallback(){this.#d(),this.#p(),this.#T()}#d(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)}#T(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)}#u(){const e=this.attachShadow({mode:"open"});!function b(){var e;T({name:"--jb-radius",inherits:!0,value:"1rem",initialValue:"16px",syntax:"<length-percentage>"}),T({name:"--jb-radius-xs",inherits:!0,value:"0.5rem",initialValue:"8px",syntax:"<length-percentage>"}),T({name:"--jb-radius-sm",inherits:!0,value:"0.75rem",initialValue:"12px",syntax:"<length-percentage>"}),T({name:"--jb-radius-lg",inherits:!0,value:"1.25rem",initialValue:"20px",syntax:"<length-percentage>"}),T({name:"--jb-radius-xl",inherits:!0,value:"1.5rem",initialValue:"24px",syntax:"<length-percentage>"}),function(e){T({name:e.primary.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.primary.main.value}),T({name:e.secondary.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.secondary.main.value}),T({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:e.neutral[0].value}),T({name:e.single.black.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.black.value}),T({name:e.single.white.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.white.value}),T({name:e.single.highlight.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.highlight.value}),T({name:e.yellow.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.yellow.main.value}),T({name:e.green.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.green.main.value}),T({name:e.red.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.red.main.value}),T({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:e.neutral[0].value});for(let t=1;t<=10;t++)T({name:e.neutral[t].variableName,syntax:"<color>",inherits:!0,initialValue:e.neutral[t].value})}(p),T({name:"--jb-text-primary",syntax:"<color>",inherits:!0,initialValue:(e=p).single.black.value}),T({name:"--jb-text-secondary",syntax:"<color>",inherits:!0,initialValue:e.neutral[7].value}),T({name:"--jb-text-contrast",syntax:"<color>",inherits:!0,initialValue:e.single.white.value})}();const t=document.createElement("template");t.innerHTML='<style>:host{--hour-color:var(--jb-time-picker-hour-color, var(--jb-primary));--minute-color:var(--jb-time-picker-minute-color, var(--jb-secondary));--second-color:var(--jb-time-picker-minute-color, var(--jb-highlight));--outer-circle-color:var(--jb-time-picker-outer-circle-color, var(--jb-neutral-9));--separator-text-color:var(--jb-time-picker-separator-text-color, var(--jb-neutral-8));--indicator-color:var(--jb-time-picker-separator-text-color, var(--jb-neutral-8));--prev-text-color: var(--jb-time-picker-prev-text-color, var(--jb-text-secondary));--current-text-color: var(--jb-time-picker-current-text-color, var(--jb-text-primary));--next-text-color: var(--jb-time-picker-next-text-color, var(--jb-text-secondary));--inner-circle-color: var(--jb-time-picker-inner-circle-color, var(--jb-white)) }.jb-time-picker-web-component{width:272px;height:272px}.jb-time-picker-web-component .svg-clock-wrapper{padding:16px}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock{width:100%;height:100%;overflow:visible}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .outer-circle{fill:var(--outer-circle-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .inner-circle{fill:var(--inner-circle-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper .time-text{font-size:150px;text-anchor:middle;cursor:pointer;user-select:none}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper .time-text.--hidden{display:none}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper .time-text.--optional{opacity:.6}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .time-text{fill:var(--current-text-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .time-text.--focused.hour-text{fill:var(--hour-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .time-text.--focused.minute-text{fill:var(--minute-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .time-text.--focused.second-text{fill:var(--second-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .separator-text{font-size:150px;text-anchor:middle;fill:var(--separator-text-color);user-select:none}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .separator-text.--hidden{display:none}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.prev-time .time-text{fill:var(--prev-text-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.next-time .time-text{fill:var(--next-text-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators{fill:var(--indicator-text-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .hour-indicator{display:none}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .hour-indicator.--focused{display:initial;fill:var(--hour-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .minute-indicator{display:none;stroke-width:10px}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .minute-indicator.--focused{display:initial;fill:var(--minute-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .second-indicator{display:none;stroke-width:10px}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .second-indicator.--focused{display:initial;fill:var(--second-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .second-indicator.--focused.--hidden{display:none}</style>\n<div class="jb-time-picker-web-component">\n    <div class="svg-clock-wrapper">\n        <svg class="svg-clock" viewBox="0 0 1024 1024">\n            <circle cx="512" cy="512" r="512" class="outer-circle"></circle>\n            <circle cx="512" cy="512" r="480" class="inner-circle"></circle>\n            <g class="time-text-wrapper substitute-prev-time" mask="url(#PrevTimeWrapperMask)">\n            </g>\n            <g class="time-text-wrapper prev-time" mask="url(#PrevTimeWrapperMask)">\n            </g>\n            <g class="time-text-wrapper current-time">\n                <text class="separator-text" dominant-baseline="middle" y="512">:</text>\n                <text class="separator-text" dominant-baseline="middle" y="512">:</text>\n            </g>\n            <g class="time-text-wrapper next-time" mask="url(#NextTimeWrapperMask)">\n            </g>\n            <g class="time-text-wrapper substitute-next-time" mask="url(#NextTimeWrapperMask)">\n            </g>\n            <g class="time-indicators">\n                <use class="hour-indicator" xlink:href="#HourSymbol" x="512" y="512"></use>\n                <use class="minute-indicator" xlink:href="#MinuteSymbol" x="512" y="512"></use>\n                <use class="second-indicator" xlink:href="#SecondSymbol" x="512" y="512"></use>\n            </g>\n            <defs>\n                <linearGradient id="next-time-opacity-filter" gradientTransform="rotate(90)">\n                    <stop offset="0%" style="stop-color: #97999a; stop-opacity: 1.0"/>\n                    <stop offset="40%" style="stop-color: #97999a; stop-opacity: 1.0"/>\n                    <stop offset="55%" style="stop-color: #97999a; stop-opacity: 0.4"/>\n                    <stop offset="70%" style="stop-color: #97999a; stop-opacity: 0.10"/>\n                    <stop offset="100%" style="stop-color: #97999a; stop-opacity: 0.0"/>\n                </linearGradient>\n                <linearGradient id="prev-time-opacity-filter" gradientTransform="rotate(90)">\n                    <stop offset="0%" style="stop-color: #97999a; stop-opacity: 0.0"/>\n                    <stop offset="30%" style="stop-color: #97999a; stop-opacity: 0.10"/>\n                    <stop offset="45%" style="stop-color: #97999a; stop-opacity: 0.4"/>\n                    <stop offset="60%" style="stop-color: #97999a; stop-opacity: 1.0"/>\n                    <stop offset="100%" style="stop-color: #97999a; stop-opacity: 1.0"/>\n                  </linearGradient>\n                  <mask id="PrevTimeWrapperMask">\n                    <rect x="0" y="250" width="1024" height="300" fill="url(#prev-time-opacity-filter)"/>\n                  </mask>\n                  <mask id="NextTimeWrapperMask">\n                    <rect x="0" y="450" width="1024" height="300" fill="url(#next-time-opacity-filter)"/>\n                  </mask>\n                  <g id="HourSymbol">\n                      <circle r="50" cx="0" cy="0" class="hour-symbol"></circle>\n                  </g>\n                  <g id="MinuteSymbol">\n                    <circle r="40" cx="0" cy="0" class="minute-symbol"></circle>\n                </g>\n                <g id="SecondSymbol">\n                    <circle r="30" cx="0" cy="0" class="second-symbol"></circle>\n                </g>\n              </defs>\n        </svg>\n    </div>\n</div>',e.appendChild(t.content.cloneNode(!0)),this.elements={svgDOM:e.querySelector(".svg-clock"),timeIndicators:{hour:e.querySelector(".hour-indicator"),minute:e.querySelector(".minute-indicator"),second:e.querySelector(".second-indicator")},substitutePrevTime:{wrapper:e.querySelector(".substitute-prev-time"),hour:null,minute:null,second:null},prevTime:{wrapper:e.querySelector(".prev-time"),hour:null,minute:null,second:null},currentTime:{wrapper:e.querySelector(".current-time"),hour:null,minute:null,second:null},nextTime:{wrapper:e.querySelector(".next-time"),hour:null,minute:null,second:null},substituteNextTime:{wrapper:e.querySelector(".substitute-next-time"),hour:null,minute:null,second:null},separatorTexts:e.querySelectorAll(".separator-text")},this.#b()}#v(){this.#x(v,this.value.hour),this.#x(x,this.value.minute),this.secondEnabled&&this.value.second&&this.#x(g,this.value.second)}#n(){const e=this.#g(this.value.hour,v),t=this.#g(this.value.minute,x),i=this.#g(this.value.second||0,g),s=this.shadowRoot.querySelector(".substitute-prev-time");if(this.elements.substitutePrevTime.hour&&(this.elements.substitutePrevTime.hour.remove(),this.elements.substitutePrevTime.hour=null),this.elements.substitutePrevTime.minute&&(this.elements.substitutePrevTime.minute.remove(),this.elements.substitutePrevTime.minute=null),this.elements.substitutePrevTime.second&&(this.elements.substitutePrevTime.second.remove(),this.elements.substitutePrevTime.second=null),e>1){const t=this.#f(v,"substitutePrevTime",e-2);s.append(t),this.elements.substitutePrevTime.hour=t}if(t>1){const e=this.#f(x,"substitutePrevTime",t-2);s.append(e),this.elements.substitutePrevTime.minute=e}if(this.secondEnabled&&i>1){const e=this.#f(g,"substitutePrevTime",i-2);s.append(e),this.elements.substitutePrevTime.second=e}const n=this.shadowRoot.querySelector(".prev-time");if(this.elements.prevTime.hour&&(this.elements.prevTime.hour.remove(),this.elements.prevTime.hour=null),this.elements.prevTime.minute&&(this.elements.prevTime.minute.remove(),this.elements.prevTime.minute=null),this.elements.prevTime.second&&(this.elements.prevTime.second.remove(),this.elements.prevTime.second=null),e>0){const t=this.#f(v,"prevTime",e-1);n.append(t),this.elements.prevTime.hour=t}if(t>0){const e=this.#f(x,"prevTime",t-1);n.append(e),this.elements.prevTime.minute=e}if(this.secondEnabled&&i>0){const e=this.#f(g,"prevTime",i-1);n.append(e),this.elements.prevTime.second=e}this.elements.currentTime.hour&&(this.elements.currentTime.hour.remove(),this.elements.currentTime.hour=null);const r=this.#f(v,"currentTime",e);this.elements.currentTime.hour=r,this.elements.currentTime.minute&&(this.elements.currentTime.minute.remove(),this.elements.currentTime.minute=null);const o=this.#f(x,"currentTime",t);this.elements.currentTime.minute=o,this.elements.currentTime.second&&(this.elements.currentTime.second.remove(),this.elements.currentTime.second=null);const a=this.shadowRoot.querySelector(".current-time");if(a.append(r,o),this.secondEnabled){const e=this.#f(g,"currentTime",i);this.elements.currentTime.second=e,a.append(e)}const l=this.shadowRoot.querySelector(".next-time");if(this.elements.nextTime.hour&&(this.elements.nextTime.hour.remove(),this.elements.nextTime.hour=null),this.elements.nextTime.minute&&(this.elements.nextTime.minute.remove(),this.elements.nextTime.minute=null),this.elements.nextTime.second&&(this.elements.nextTime.second.remove(),this.elements.nextTime.second=null),e<this.#t.hour){const t=this.#f(v,"nextTime",e+1);l.append(t),this.elements.nextTime.hour=t}if(t<this.#t.minute){const e=this.#f(x,"nextTime",t+1);l.append(e),this.elements.nextTime.minute=e}if(this.secondEnabled&&i<this.#t.second){const e=this.#f(g,"nextTime",i+1);l.append(e),this.elements.nextTime.second=e}const m=this.shadowRoot.querySelector(".substitute-next-time");if(this.elements.substituteNextTime.hour&&(this.elements.substituteNextTime.hour.remove(),this.elements.substituteNextTime.hour=null),this.elements.substituteNextTime.minute&&(this.elements.substituteNextTime.minute.remove(),this.elements.substituteNextTime.minute=null),this.elements.substituteNextTime.second&&(this.elements.substituteNextTime.second.remove(),this.elements.substituteNextTime.second=null),e+1<this.#t.hour){const t=this.#f(v,"substituteNextTime",e+2);m.append(t),this.elements.substituteNextTime.hour=t}if(t+1<this.#t.minute){const e=this.#f(x,"substituteNextTime",t+2);m.append(e),this.elements.substituteNextTime.minute=e}if(this.secondEnabled&&i+2<this.#t.second){const e=this.#f(g,"substituteNextTime",i+2);m.append(e),this.elements.substituteNextTime.second=e}this.#w(v,"prevTime"),this.#w(x,"prevTime"),this.#w(v,"currentTime"),this.#w(x,"currentTime"),this.#w(v,"nextTime"),this.#w(x,"nextTime"),this.secondEnabled&&(this.#w(g,"prevTime"),this.#w(g,"currentTime"),this.#w(g,"nextTime"))}#b(){this.shadowRoot.addEventListener("mousemove",(e=>{this.#y(e)})),this.elements.svgDOM.addEventListener("touchmove",(e=>{this.#k(e)})),this.shadowRoot.addEventListener("mouseup",this.#E.bind(this)),this.elements.svgDOM.addEventListener("touchend",this.#E.bind(this))}#w(e,t){const i=this.elements[t][e];if(i){const s=i._boundedMouseDownEvent;"function"==typeof s&&(i.removeEventListener("mousedown",s),i.removeEventListener("touchstart",i._boundedTouchStartEvent));const n=i=>{this.#P(i,e,t)},r=i=>{this.#M(i,e,t)};i.addEventListener("mousedown",n),i.addEventListener("touchstart",r),i._boundedMouseDownEvent=n,i._boundedTouchStartEvent=r}}get timeTextXPositions(){let e=212,t=512;return this.secondEnabled||(e=362,t=662),{hourX:e,minuteX:t,secondX:812}}get#N(){return this.secondEnabled?[362,662]:[512]}#l=!0;#D;#o;#p(){const e=this;this.#D={substitutePrevTimeTextY:212,prevTimeTextY:362,currentTimeTextY:512,nextTimeTextY:662,substituteNextTimeTextY:812,get hourTextX(){return e.timeTextXPositions.hourX},get minuteTextX(){return e.timeTextXPositions.minuteX},get secondTextX(){return e.timeTextXPositions.secondX},timeStepYDiff:150,get svgPosScale(){return 1}},Object.defineProperty(this.#D,"svgPosScale",{get:()=>{if(this.elements.timeIndicators&&this.elements.timeIndicators.hour){const e=this.elements.timeIndicators.hour.getCTM();return e&&"function"==typeof e.inverse?e.inverse().a:1}return 1}}),this.#o={hour:{isTextAnimationPlaying:!1,waitingAction:null},minute:{isTextAnimationPlaying:!1,waitingAction:null},second:{isTextAnimationPlaying:!1,waitingAction:null}},this.#n(),this.#v(),this.#U()}static get observedAttributes(){return[]}attributeChangedCallback(e,t,i){this.#S(e,i)}#S(e,t){}#j(e,t){if("prevTime"==t||"nextTime"==t){const i=this.elements[t][e].innerHTML,s=this.#g(parseInt(i),e);this.#a(s,e,!0)}}#M(e,t,i){const s=e.touches[0].pageY;this.#V(s,t,i)}#P(e,t,i){const s=e.pageY;this.#V(s,t,i)}#V(e,t,i){const s=this.elements.prevTime[t];this.#i={dom:s,timeUnit:t,timeStep:i,startY:e,iterationDone:0,lastAction:null,actionRecords:[],addActionRecord:function(e){e!==k&&this.actionRecords.push(e),this.lastAction=e},get lastLogicalAction(){return this.actionRecords[this.actionRecords.length-1]},isDragged:!1,acc:{inDirectionMoveStack:[0],prevTouchYPos:null,direction:0,t:performance.now(),captureMove:function(e){const t=e>0?1:-1;t==this.direction||0==this.direction?(this.inDirectionMoveStack.push(e),this.direction=t):(this.inDirectionMoveStack=[e],this.direction=t,this.t=performance.now())}}},this.setTimeUnitFocus(t)}#y(e){const t=e.pageY,i=e.movementY;this.#O(t,i)}#k(e){if(this.#i){const t=e.touches[0].pageY,i=this.#i.acc.prevTouchYPos?this.#i.acc.prevTouchYPos:this.#i.startY;this.#i.acc.prevTouchYPos=t;const s=t-i;e.preventDefault(),this.#O(t,s)}}#O(e,t){if(this.#i){this.#i.isDragged=!0;const i=100,s=e-this.#i.startY,n=this.#D.svgPosScale*s;let r=k;(0==this.#i.iterationDone||this.#i.lastLogicalAction==E)&&n>i&&this.#e[this.#i.timeUnit]>0&&(r=P),(0==this.#i.iterationDone||this.#i.lastLogicalAction==P)&&n<-1*i&&this.#e[this.#i.timeUnit]<this.#t[this.#i.timeUnit]&&(r=E),r==P?(this.#e[this.#i.timeUnit]=this.#e[this.#i.timeUnit]-1,this.#A(),this.#i.iterationDone+=1,this.#L(this.#i.timeUnit,n),this.#i.startY=e,this.#i.timeStep=this.#i.timeStep==w?"nextTime":"currentTime",this.#Y(this.#i.timeUnit,this.#e[this.#i.timeUnit])):r==E?(this.#e[this.#i.timeUnit]=this.#e[this.#i.timeUnit]+1,this.#A(),this.#i.iterationDone+=1,this.#C(this.#i.timeUnit,n),this.#i.startY=e,this.#i.timeStep=this.#i.timeStep==w?"prevTime":"currentTime",this.#Y(this.#i.timeUnit,this.#e[this.#i.timeUnit])):(this.elements.substitutePrevTime[this.#i.timeUnit]&&(this.elements.substitutePrevTime[this.#i.timeUnit].style.transform=`translateY(${n}px)`),this.elements.prevTime[this.#i.timeUnit]&&(this.elements.prevTime[this.#i.timeUnit].style.transform=`translateY(${n}px)`),this.elements.currentTime[this.#i.timeUnit].style.transform=`translateY(${n}px)`,this.elements.nextTime[this.#i.timeUnit]&&(this.elements.nextTime[this.#i.timeUnit].style.transform=`translateY(${n}px)`),this.elements.substituteNextTime[this.#i.timeUnit]&&(this.elements.substituteNextTime[this.#i.timeUnit].style.transform=`translateY(${n}px)`)),this.#i.addActionRecord(r),this.#i.acc.captureMove(t)}}#L(e,t){const i=this.elements.substituteNextTime[e];if(this.elements.substituteNextTime[e]=null,i&&i.remove(),this.#I(e,"nextTime","substituteNextTime",t),this.#I(e,"currentTime","nextTime",t),this.#I(e,"prevTime","currentTime",t),this.#I(e,"substitutePrevTime","prevTime",t),this.#e&&this.#e[e]>1){const t=this.#e[e]-2,i=this.#f(e,"substitutePrevTime",t);this.elements.substitutePrevTime.wrapper.appendChild(i),this.elements.substitutePrevTime[e]=i}}#C(e,t){const i=this.elements.substitutePrevTime[e];if(this.elements.substitutePrevTime[e]=null,i&&i.remove(),this.#I(e,"prevTime","substitutePrevTime",t),this.#I(e,"currentTime","prevTime",t),this.#I(e,"nextTime","currentTime",t),this.#I(e,"substituteNextTime","nextTime",t),this.#e[e]+1<this.#t[e]){const t=this.#e[e]+2,i=this.#f(e,"substituteNextTime",t);this.elements.substituteNextTime.wrapper.appendChild(i),this.elements.substituteNextTime[e]=i}}#I(e,t,i,s){const n=this.elements[t][e];if(n){n.setAttribute("y",this.#D[i+"TextY"]);let r=0;s>0&&(r=-1*(this.#D.timeStepYDiff-s)),s<0&&(r=this.#D.timeStepYDiff+s),n.style.transform=`translateY(${r}px)`,this.elements[i].wrapper.appendChild(n),this.elements[i][e]=n,this.#w(e,i),this.elements[t][e]=null}}#E(){if(this.#i){this.#H();const e=this.#i.timeUnit,t=this.#i.timeStep;this.#X(this.elements.substitutePrevTime[e]),this.#X(this.elements.prevTime[e]),this.#X(this.elements.currentTime[e]),this.#X(this.elements.nextTime[e]),this.#X(this.elements.substituteNextTime[e]),this.#i.isDragged||this.#j(e,t),this.#i=null}}#X(e){e&&(e.style.transition="transform 0.3s 0s ease",setTimeout((()=>{e.style.transition=""}),300),e.style.transform="")}#f(t,i,s){const n=this.#D[i+"TextY"],r=this.#D[t+"TextX"],o=document.createElementNS("http://www.w3.org/2000/svg","text");o.classList.add(`${t}-text`,"time-text"),o.setAttributeNS(null,"dominant-baseline","middle"),this.textWidth&&o.setAttributeNS(null,"textLength",this.textWidth.toString()),o.setAttributeNS(null,"lengthAdjust","spacing"),o.setAttributeNS(null,"y",n),o.setAttributeNS(null,"x",r);let a=s.toString();return this.frontalZero&&s<10&&(a="0"+a),this.#h&&(a=(0,dist.A1)(a)),o.innerHTML=a,this.focusedTimeUnit==t&&o.classList.add("--focused"),this.optionalUnits.includes(t)&&o.classList.add("--optional"),o}#Y(e,t){this.#x(e,t)}#x(e,t){const i=this.#$(t,e);this.elements.timeIndicators[e].setAttribute("x",i.x.toString()),this.elements.timeIndicators[e].setAttribute("y",i.y.toString())}#$(e,t){const i=(e*(t==v?30:6)-90)*(Math.PI/180);return{x:512+496*Math.cos(i),y:512+496*Math.sin(i)}}setTimeUnitFocus(e){if(e!=this.focusedTimeUnit){const t=this.focusedTimeUnit;this.focusedTimeUnit=e,e&&(this.elements.currentTime[e].classList.add("--focused"),this.elements.nextTime[e]&&this.elements.nextTime[e].classList.add("--focused"),this.elements.prevTime[e]&&this.elements.prevTime[e].classList.add("--focused"),this.elements.substitutePrevTime[e]&&this.elements.substitutePrevTime[e].classList.add("--focused"),this.elements.substituteNextTime[e]&&this.elements.substituteNextTime[e].classList.add("--focused"),this.elements.timeIndicators[e].classList.add("--focused")),t&&null!==t&&(this.elements.currentTime[t].classList.remove("--focused"),this.elements.nextTime[t]&&this.elements.nextTime[t].classList.remove("--focused"),this.elements.prevTime[t]&&this.elements.prevTime[t].classList.remove("--focused"),this.elements.substitutePrevTime[t]&&this.elements.substitutePrevTime[t].classList.remove("--focused"),this.elements.substituteNextTime[t]&&this.elements.substituteNextTime[t].classList.remove("--focused"),this.elements.timeIndicators[t].classList.remove("--focused"))}}#H(){if(this.#i){const e=this.#i.acc.inDirectionMoveStack.reduce(((e,t)=>e+t)),t=this.#D.svgPosScale*e,i=e/(performance.now()-this.#i.acc.t),s=200;if(Math.abs(t)>s){const e=Math.round(Math.abs(10*i)),t=this.#i.timeUnit,s=-1*this.#i.acc.direction*e+this.value[t],n=this.#g(s,t);this.#a(n,t)}}}#a(e,t,i=!0){const s=e-this.value[t];if(0==s)return;let n=Math.abs(s);const r=s>0?1:0==s?0:-1,o=()=>{let a=!1;const l=()=>{a||(this.#o[t].isTextAnimationPlaying=!1,a=!0,this.#e[t]=this.#e[t]+r,i&&this.#A(),1==r&&this.#C(t,0),-1==r&&this.#L(t,0),"function"==typeof this.#o[t].waitingAction?(this.#o[t].waitingAction(),this.#o[t].waitingAction=null):(n--,n>0&&o()))},m=50+(1==Math.abs(s)?100:150/(Math.abs(s)-1))*(Math.abs(s)-n),c=1==n?"ease":"linear";this.#o[t].isTextAnimationPlaying=!0,this.#q(t,"substitutePrevTime",r,l,m,c),this.#q(t,"prevTime",r,l,m,c),this.#q(t,"currentTime",r,l,m,c),this.#q(t,"nextTime",r,l,m,c),this.#q(t,"substituteNextTime",r,l,m,c),this.#x(t,e)};n>0&&o()}#q(e,t,i,s,n=100,r="linear"){const o=-1*i*this.#D.timeStepYDiff,a=`${Math.random()}-animation`,l=this.elements[t][e];l&&(l.animate([{transform:"translateY(0px)"},{transform:`translateY(${o}px)`}],{id:a,duration:n,easing:r}).onfinish=s)}#g(e,t){return e<0?0:e>this.#t[t]?this.#t[t]:Math.round(e)}#A(){const e=new CustomEvent("change");this.dispatchEvent(e)}#m(){function e(e){e&&e.classList.add("--hidden")}e(this.elements.currentTime.second),e(this.elements.nextTime.second),e(this.elements.substituteNextTime.second),e(this.elements.prevTime.second),e(this.elements.substitutePrevTime.second),e(this.elements.timeIndicators.second),e(this.elements.separatorTexts[1]),this.#n(),this.#v(),this.#U()}#c(){function e(e){e&&e.classList.remove("--hidden")}e(this.elements.currentTime.second),e(this.elements.nextTime.second),e(this.elements.substituteNextTime.second),e(this.elements.prevTime.second),e(this.elements.substitutePrevTime.second),e(this.elements.timeIndicators.second),e(this.elements.separatorTexts[1]),this.#n(),this.#v(),this.#U()}#U(){this.elements.separatorTexts[0].setAttribute("x",this.#N[0].toString()),this.secondEnabled?(this.elements.separatorTexts[1].setAttribute("x",this.#N[1].toString()),this.elements.separatorTexts[1].classList.remove("--hidden")):this.elements.separatorTexts[1].classList.add("--hidden")}};!customElements.get("jb-time-picker")&&window.customElements.define("jb-time-picker",M)}}]);