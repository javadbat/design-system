"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[917],{"../../web-component/jb-payment-input/react/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>tr});var react=__webpack_require__("./node_modules/react/index.js"),jb_input=__webpack_require__("../../web-component/jb-input/index.js");function e(t,e,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:e.get(t)}function i(t,e,i,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(t,i):n?n.value=i:e.set(t,i),i}function r(t){return"string"!=typeof t?"":t.replace(/[۰-۹]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)-1728)}))}const n={validator:({value:t})=>16==t.length,message:"لطفا شماره کارت را کامل وارد کنید"},s={validator:({value:t})=>26==t.length,message:"لطفا شماره شبا را کامل وارد کنید"},a={validator:/(IR[0-9]{0,2})([0-9]{0,4})([0-9]{0,4})([0-9]{0,4})([0-9]{0,4})([0-9]{0,4})([0-9]{0,2})/g,message:"لطفا شماره شبا را صحیح وارد کنید"},o=["CARD","SHABA"];var l,u,h,c,p,f,d,g,m,w,b,y=class extends jb_input.W{get paymentInputType(){return e(this,u,"f")}set paymentInputType(t){o.includes(t)&&i(this,u,t||"CARD","f")}get separatorString(){return e(this,h,"f")}set separatorString(t){i(this,h,t,"f"),i(this,c,RegExp(e(this,h,"f").replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\s/g,"\\s"),"g"),"f");const r=this.standardValue(this.value,"SET_VALUE");this.elements.input.value=r.displayValue}constructor(){super(),l.add(this),u.set(this,this.getAttribute("input-type")||"CARD"),h.set(this," "),c.set(this,/\s/g),e(this,l,"m",p).call(this)}static get observedAttributes(){return[...jb_input.W.observedAttributes,"input-type","separator"]}attributeChangedCallback(t,i,r){["input-type","separator"].includes(t)?e(this,l,"m",f).call(this,t,r):this.onAttributeChange(t,r)}};function JBPaymentInput_l(t,e,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)}function JBPaymentInput_o(t,e,i,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!a:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(t,i):a?a.value=i:e.set(t,i),i}function JBPaymentInput_c(t,e,i){let n={validationList:[],isAllValid:!0},a=t=>{n.validationList.push(t),t.isValid||(n.isAllValid=!1)},s=t.filter((t=>!0===t.defer)),r=t.filter((t=>!0!==t.defer)),l=[];for(let t of r){let n=JBPaymentInput_d(e,t,i);n instanceof Promise?l.push(n):a(n)}if(n.isAllValid)for(let t of s){let n=JBPaymentInput_d(e,t,i);n instanceof Promise?l.push(n):a(n)}return{syncValidationResult:n,asyncList:l}}function JBPaymentInput_d(t,e,i){let n,a=e.message;if(e.validator instanceof RegExp){let a="string"==typeof t?t:i(t);n=e.validator.test(a),e.validator.lastIndex=0}if("function"==typeof e.validator){let i=function(t,e){function i(t){let e=null;return"string"==typeof t&&t.length>0&&(e=t),{isValid:"string"==typeof t?0==t.length:t,message:e}}let n=t(e);return n instanceof Promise?new Promise((t=>{n.then((e=>{t(i(e))}))})):i(n)}(e.validator,t);if(i instanceof Promise)return new Promise((t=>{i.then((i=>{t({isValid:i.isValid,message:i.message,validation:e})}))}));n=i.isValid,a=i.message??a}return n?{isValid:!0,message:"",validation:e}:{isValid:!1,message:a,validation:e}}u=new WeakMap,h=new WeakMap,c=new WeakMap,l=new WeakSet,p=function(){const t=document.createElement("template");t.innerHTML="<style>.jb-input-web-component{--jb-input-input-direction: ltr}</style>",this.shadowRoot.appendChild(t.content.cloneNode(!0)),this.validation.addValidationListGetter(e(this,l,"m",b).bind(this)),e(this,l,"m",w).call(this),this.addStandardValueCallback(e(this,l,"m",m).bind(this))},f=function(t,e){switch(t){case"input-type":this.paymentInputType=e;break;case"separator":this.separatorString=e}},d=function(t){if("CARD"==e(this,u,"f")){let i=r(e(this,l,"m",g).call(this,t)).replace(/[^0-9]/g,"");return i=i.substring(0,16),i}if("SHABA"==e(this,u,"f")){const i=/(?<ir>(IR|ir|Ir|I|i)?)(?<other>.{0,})/g.exec(t);if(i&&i.groups){let t=r(e(this,l,"m",g).call(this,i.groups.other)).replace(/[^0-9]/g,"");t=t.substring(0,24);let n="";if(i.groups.ir)n=i.groups.ir.toUpperCase();else{if(!(t.length>0))return"";n="IR"}if(1==n.length){if(!(t.length>0))return n;n="IR"}return n+t}return""}return t},g=function(t){return t.replace(e(this,c,"f"),"")},m=function(t){let i="",r="";if("CARD"==e(this,u,"f")){r=e(this,l,"m",d).call(this,t);const n=RegExp(`(.*)(${e(this,c,"f").source})$`,"g");i=r.replace(/([0-9]{4})/g,`$1${e(this,h,"f")}`).replace(n,"$1")}if("SHABA"==e(this,u,"f")){r=e(this,l,"m",d).call(this,t);const n=/(IR[0-9]{0,2})([0-9]{0,4})([0-9]{0,4})([0-9]{0,4})([0-9]{0,4})([0-9]{0,4})([0-9]{0,2})/g.exec(r);i=n&&n.length>0?n.slice(1).filter((t=>""!==t)).join(e(this,h,"f")):r}return{value:r,displayValue:i}},w=function(){},b=function(){return"CARD"==e(this,u,"f")?[n]:[s,a]},!customElements.get("jb-payment-input")&&window.customElements.define("jb-payment-input",y);var JBPaymentInput_p,JBPaymentInput_h,JBPaymentInput_b,JBPaymentInput_m,JBPaymentInput_f,JBPaymentInput_g,v,JBPaymentInput_y,JBPaymentInput_w,V,E,j,x,k,A,S,T,L,P,C,M,q,R,B,z,K,W,D,I,N,H,F,U,J,_,G,$,O,Q=class{get resultSummary(){return JBPaymentInput_l(this,F,"f")}constructor(t){N.add(this),H.set(this,[]),F.set(this,{isValid:null,message:null}),this.result=null,U.set(this,{clearValidationError:[],getValue:()=>null,getValidations:[],getValueString:()=>"",setValidationResult:[],showValidationError:[]}),this.setCallbacks(t)}setCallbacks(t){Object.keys(t).forEach((e=>{"function"==typeof t[e]&&void 0!==JBPaymentInput_l(this,U,"f")[e]&&(Array.isArray(JBPaymentInput_l(this,U,"f")[e])?JBPaymentInput_l(this,U,"f")[e].push(t[e]):JBPaymentInput_l(this,U,"f")[e]=t[e])}))}get list(){return JBPaymentInput_l(this,H,"f")}set list(t){JBPaymentInput_o(this,H,t,"f"),this.checkValidity({showError:!1})}async checkValidity(t){let e=t?.value||await Promise.resolve(JBPaymentInput_l(this,U,"f").getValue()),i=await JBPaymentInput_l(this,N,"m",$).call(this,e);return JBPaymentInput_l(this,N,"m",_).call(this,i,t),i}checkValiditySync(t){let e=t?.value||JBPaymentInput_l(this,U,"f").getValue(),i=JBPaymentInput_l(this,N,"m",O).call(this,e);return JBPaymentInput_l(this,N,"m",_).call(this,i,t),i}addValidationListGetter(t){JBPaymentInput_l(this,U,"f").getValidations.push(t)}};function X(t,e,i,n={}){document.addEventListener(e,(e=>{e.composedPath().includes(t)&&(e.stopPropagation(),e.stopImmediatePropagation(),i(e))}),{capture:!0,...n})}function Y(t,e,i){return new KeyboardEvent(t,{altKey:e.altKey,bubbles:e.bubbles,cancelable:e.cancelable,code:e.code,composed:e.composed,ctrlKey:e.ctrlKey,detail:e.detail,isComposing:e.isComposing,key:e.key,location:e.location,metaKey:e.metaKey,repeat:e.repeat,shiftKey:e.shiftKey,view:e.view,charCode:e.charCode,keyCode:e.keyCode,which:e.which,...i})}function Z(t,e,i){return new InputEvent(t,{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed,detail:e.detail,isComposing:e.isComposing,view:e.view,which:e.which,data:e.data,dataTransfer:e.dataTransfer,inputType:e.inputType,targetRanges:"function"==typeof e.getTargetRanges()?e.getTargetRanges():[],...i})}function tt(t,e,i,n){if("a"===i&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)}function te(t,e,i,n,a){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!a)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!a:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(t,i):a?a.value=i:e.set(t,i),i}H=new WeakMap,F=new WeakMap,U=new WeakMap,N=new WeakSet,J=function(){return[...JBPaymentInput_l(this,N,"m",G).call(this),...JBPaymentInput_l(this,H,"f")]},_=function(t,e){if(JBPaymentInput_o(this,F,{isValid:t.isAllValid,message:null},"f"),t.isAllValid)JBPaymentInput_l(this,U,"f").clearValidationError.forEach((t=>t()));else{let i=t.validationList.find((t=>!t.isValid));this.resultSummary.message=i.message,!1!==e?.showError&&JBPaymentInput_l(this,U,"f").showValidationError.forEach((t=>t({message:i.message})))}this.result=t,JBPaymentInput_l(this,U,"f").setValidationResult.forEach((e=>e(t)))},G=function(){let t=[];return JBPaymentInput_l(this,U,"f").getValidations.forEach((e=>{"function"==typeof e&&t.push(...e())})),t.flat()},$=async function(t){return await async function JBPaymentInput_u(t,e,i){let{syncValidationResult:n,asyncList:a}=JBPaymentInput_c(t,e,i);for(let t of a){let e=await t;n.isAllValid=n.isAllValid&&e.isValid,n.validationList.push(e)}return n}(JBPaymentInput_l(this,N,"a",J),t,JBPaymentInput_l(this,U,"f").getValueString)},O=function(t){return function(t,e,i){let{syncValidationResult:n}=JBPaymentInput_c(t,e,i);return n}(JBPaymentInput_l(this,N,"a",J),t,JBPaymentInput_l(this,U,"f").getValueString)};var ti=class extends HTMLElement{static get formAssociated(){return!0}get disabled(){return tt(this,JBPaymentInput_b,"f")}set disabled(t){te(this,JBPaymentInput_b,t,"f"),this.elements.input.disabled=t,t?tt(this,JBPaymentInput_f,"f").states?.add("disabled"):tt(this,JBPaymentInput_f,"f").states?.delete("disabled")}set required(t){te(this,JBPaymentInput_m,t,"f"),tt(this,JBPaymentInput_p,"m",JBPaymentInput_g).call(this,!1)}get required(){return tt(this,JBPaymentInput_m,"f")}get isAutoValidationDisabled(){return""===this.getAttribute("disable-auto-validation")||"true"===this.getAttribute("disable-auto-validation")}get validation(){return tt(this,v,"f")}get displayValue(){return tt(this,JBPaymentInput_h,"f").displayValue}get value(){return tt(this,JBPaymentInput_h,"f").value}set value(t){tt(this,JBPaymentInput_p,"m",JBPaymentInput_y).call(this,t,"SET_VALUE")}get isDirty(){return tt(this,JBPaymentInput_h,"f").value!==this.initialValue}get selectionStart(){return this.elements.input.selectionStart}set selectionStart(t){this.elements.input.selectionStart=t}get selectionEnd(){return this.elements.input.selectionEnd}set selectionEnd(t){this.elements.input.selectionEnd=t}get selectionDirection(){return this.elements.input.selectionDirection}set selectionDirection(t){this.elements.input.selectionDirection=t}get name(){return this.getAttribute("name")||""}constructor(){super(),JBPaymentInput_p.add(this),JBPaymentInput_h.set(this,{displayValue:"",value:""}),JBPaymentInput_b.set(this,!1),JBPaymentInput_m.set(this,!1),JBPaymentInput_f.set(this,void 0),v.set(this,new Q({clearValidationError:this.clearValidationError.bind(this),showValidationError:this.showValidationError.bind(this),getValue:()=>tt(this,JBPaymentInput_h,"f"),getValidations:tt(this,JBPaymentInput_p,"m",D).bind(this),getValueString:()=>tt(this,JBPaymentInput_h,"f").displayValue,setValidationResult:tt(this,JBPaymentInput_p,"m",I).bind(this)})),this.initialValue="",k.set(this,[]),"function"==typeof this.attachInternals&&te(this,JBPaymentInput_f,this.attachInternals(),"f"),tt(this,JBPaymentInput_p,"m",j).call(this)}connectedCallback(){tt(this,JBPaymentInput_p,"m",V).call(this),this.initProp(),tt(this,JBPaymentInput_p,"m",E).call(this)}addStandardValueCallback(t){tt(this,k,"f").push(t)}standardValue(t,e){let i={displayValue:t.toString(),value:t.toString()};return tt(this,k,"f").reduce(((i,n)=>n(t.toString(),tt(this,JBPaymentInput_h,"f"),i,e)),i)}initProp(){tt(this,JBPaymentInput_p,"m",JBPaymentInput_y).call(this,this.getAttribute("value")||"","SET_VALUE")}static get observedAttributes(){return["label","type","message","value","name","autocomplete","placeholder","disabled","inputmode","readonly","disable-auto-validation","virtualkeyboardpolicy","required"]}attributeChangedCallback(t,e,i){this.onAttributeChange(t,i)}onAttributeChange(t,e){switch(t){case"name":case"autocomplete":case"inputmode":case"readonly":case"virtualkeyboardpolicy":this.elements.input.setAttribute(t,e);break;case"label":this.elements.labelValue.innerHTML=e,null==e||null==e||""==e?this.elements.label.classList.add("--hide"):this.elements.label.classList.remove("--hide");break;case"type":this.elements.input.setAttribute("type",e),"number"==e&&null==this.getAttribute("inputmode")&&this.setAttribute("inputmode","numeric");break;case"message":this.elements.messageBox.classList.contains("error")||(this.elements.messageBox.innerHTML=e);break;case"value":tt(this,JBPaymentInput_p,"m",JBPaymentInput_y).call(this,e,"SET_VALUE");break;case"placeholder":this.elements.input.placeholder=e;break;case"disabled":""==e||"true"===e?this.disabled=!0:"false"!=e&&null!=e&&null!=e||(this.disabled=!1,this.elements.input.removeAttribute("disabled"));break;case"required":this.required=!!e&&"false"!==e}}showValidationError(t){let e="string"==typeof t?t:t.message;this.elements.messageBox.innerHTML=e,this.elements.messageBox.classList.add("error")}clearValidationError(){let t=this.getAttribute("message")||"";this.elements.messageBox.innerHTML=t,this.elements.messageBox.classList.remove("error")}focus(){this.elements.input.focus()}setSelectionRange(t,e,i){this.elements.input.setSelectionRange(t,e,i)}checkValidity(){let t=tt(this,v,"f").checkValiditySync({showError:!1});if(!t.isAllValid){let t=new CustomEvent("invalid");this.dispatchEvent(t)}return t.isAllValid}reportValidity(){let t=tt(this,v,"f").checkValiditySync({showError:!0});if(!t.isAllValid){let t=new CustomEvent("invalid");this.dispatchEvent(t)}return t.isAllValid}get validationMessage(){return tt(this,JBPaymentInput_f,"f").validationMessage}};function tn(t,e,a,s=!1){let r=(0,react.useCallback)((e=>{t.current&&"function"==typeof a&&a(e)}),[t,a]);(0,react.useEffect)((()=>{let i=t.current;return i&&i.addEventListener(e,r,{passive:s,capture:!1}),function(){i&&i.removeEventListener(e,r,{passive:s,capture:!1})}}),[t,e,a,s])}function ta(t,e){tn(t,"enter",e.onEnter),tn(t,"input",e.onInput),tn(t,"beforeinput",e.onBeforeinput),tn(t,"change",e.onChange),tn(t,"keydown",e.onKeydown),tn(t,"keyup",e.onKeyup),tn(t,"focus",e.onFocus),tn(t,"blur",e.onBlur)}function ts(t,e){(0,react.useEffect)((()=>{let i=e.value;(null==e.value||void 0===e.value)&&(i=""),t&&t.current&&t.current&&(t.current.value=i?.toString()||"")}),[e.value]),(0,react.useEffect)((()=>{e.type&&t?.current?.setAttribute("type",e.type)}),[e.type]),(0,react.useEffect)((()=>{t?.current?.setAttribute("name",e.name||"")}),[e.name]),(0,react.useEffect)((()=>{t&&t.current&&(t.current.validation.list=e.validationList||[])}),[e.validationList]),(0,react.useEffect)((()=>{t?.current?.setAttribute("label",e.label||"")}),[e.label]),(0,react.useEffect)((()=>{"boolean"==typeof e.disabled&&t?.current?.setAttribute("disabled",`${e.disabled}`)}),[e.disabled]),(0,react.useEffect)((()=>{"boolean"==typeof e.required&&t?.current?.setAttribute("required",`${e.required}`)}),[e.required]),(0,react.useEffect)((()=>{e.inputmode?t.current?.setAttribute("inputmode",e.inputmode):t.current?.removeAttribute("inputmode")}),[e.inputmode]),(0,react.useEffect)((()=>{t?.current?.setAttribute("message",e.message||"")}),[e.message]),(0,react.useEffect)((()=>{t?.current?.setAttribute("placeholder",e.placeholder||"")}),[e.placeholder])}JBPaymentInput_h=new WeakMap,JBPaymentInput_b=new WeakMap,JBPaymentInput_m=new WeakMap,JBPaymentInput_f=new WeakMap,v=new WeakMap,k=new WeakMap,JBPaymentInput_p=new WeakSet,JBPaymentInput_g=function(t){if(!this.isAutoValidationDisabled)return tt(this,v,"f").checkValidity({showError:t})},JBPaymentInput_y=function(t,e){null!==t&&null!=t||(t="");let i=this.standardValue(t,e);tt(this,JBPaymentInput_p,"m",JBPaymentInput_w).call(this,i)},JBPaymentInput_w=function(t){te(this,JBPaymentInput_h,t,"f"),tt(this,JBPaymentInput_f,"f")&&"function"==typeof tt(this,JBPaymentInput_f,"f").setFormValue&&tt(this,JBPaymentInput_f,"f").setFormValue(t.value),this.elements.input.value=t.displayValue},V=function(){let t=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(t)},E=function(){let t=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(t)},j=function(){let t=this.attachShadow({mode:"open",delegatesFocus:!0});tt(this,JBPaymentInput_p,"m",x).call(this),this.elements={input:t.querySelector(".input-box input"),inputBox:t.querySelector(".input-box"),label:t.querySelector("label"),labelValue:t.querySelector("label .label-value"),messageBox:t.querySelector(".message-box"),slots:{startSection:t.querySelector(".jb-input-start-section-wrapper slot"),endSection:t.querySelector(".jb-input-end-section-wrapper slot")}},tt(this,JBPaymentInput_p,"m",A).call(this)},x=function(){let t=document.createElement("template");t.innerHTML='<style>:host(:focus),:host(:focus-visible){outline:none}.jb-input-web-component{width:100%;margin:var(--jb-input-margin, 0 0)}.jb-input-web-component:focus-visible{outline:none}.jb-input-web-component label{width:100%;margin:var(--jb-input-label-margin, 4px 0px);display:block;font-size:var(--jb-input-label-font-size, 0.8em);color:var(--jb-input-label-color, #1f1735);margin:var(--jb-input-label-margin, 0);font-weight:var(--jb-input-label-font-weight, 300)}.jb-input-web-component label.--hide{display:none}.jb-input-web-component .input-box{width:100%;box-sizing:border-box;height:var(--jb-input-height, 40px);border:solid var(--jb-input-border-width, 1px) var(--jb-input-border-color, #f7f6f6);background-color:var(--jb-input-bgcolor, #f7f6f6);border-bottom:solid var(--jb-input-border-bottom-width, 3px) var(--jb-input-border-color, #f7f6f6);border-radius:var(--jb-input-border-radius, 16px);margin:4px 0px;transition:ease .3s all;overflow:var(--jb-input-box-overflow, hidden);display:grid;grid-template-columns:auto 1fr auto;box-shadow:var(--jb-input-box-shadow, none)}.jb-input-web-component .input-box:focus-within{border-color:var(--jb-input-border-color-focus, #1e2832);border-width:var(--jb-input-border-width-focus, var(--jb-input-border-width, 1px));border-bottom-width:var(--jb-input-border-bottom-width-focus, var(--jb-input-border-bottom-width, 3px));box-shadow:var(--jb-input-box-shadow-focus, none)}.jb-input-web-component .input-box input{border:none;width:100%;box-sizing:border-box;height:100%;background-color:rgba(0,0,0,0);padding:var(--jb-input-input-padding, 2px 12px 0 12px);display:block;font-family:inherit;font-size:var(--jb-input-value-font-size, 1.1rem);color:var(--jb-input-value-color, #1f1735);margin:0;border-radius:0;text-align:var(--jb-input-input-text-align, initial);direction:var(--jb-input-input-direction, inherit);font-weight:var(--jb-input-input-font-weight, initial)}.jb-input-web-component .input-box input:focus{outline:none}.jb-input-web-component .input-box input::placeholder{color:var(--jb-input-placeholder-color, initial);font-size:var(--jb-input-placeholder-font-size, 1.1rem)}.jb-input-web-component .input-box input::-webkit-outer-spin-button,.jb-input-web-component .input-box input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.jb-input-web-component .input-box input[type=number]{-moz-appearance:textfield}.jb-input-web-component .input-box .jb-input-start-section-wrapper{display:flex;height:100%;width:auto;align-items:center;justify-content:center}.jb-input-web-component .input-box ::slotted([slot=start-section]),.jb-input-web-component .input-box ::slotted([slot=end-section]){height:100%;display:flex;justify-content:center;align-items:center;max-height:100%;overflow-y:hidden;background-color:rgba(0,0,0,0);padding:8px 16px;width:auto;box-sizing:border-box}.jb-input-web-component .message-box{font-size:var(--jb-input-message-font-size, 0.7rem);padding:2px 8px;color:var(--jb-input-message-color, #929292);display:var(--jb-input-message-box-display, block)}.jb-input-web-component .message-box:empty{padding:0}.jb-input-web-component .message-box.error{color:var(--jb-input-message-error-color, red)}</style>\n\n    <div class="jb-input-web-component">\n    <label class="--hide"><span class="label-value" part="label"></span></label>\n    <div class="input-box">\n        <div class="jb-input-start-section-wrapper">\n            <slot name="start-section"></slot>\n        </div>\n        <input part="input"/>\n        <div class="jb-input-end-section-wrapper">\n            <slot name="end-section"></slot>\n        </div>\n    </div>\n    <div class="message-box" part="message"></div>\n</div>\n  ',this.shadowRoot.appendChild(t.content.cloneNode(!0))},A=function(){this.elements.input.addEventListener("change",(t=>tt(this,JBPaymentInput_p,"m",K).call(this,t)),{capture:!1}),this.elements.input.addEventListener("beforeinput",tt(this,JBPaymentInput_p,"m",B).bind(this),{capture:!1}),this.elements.input.addEventListener("input",(t=>tt(this,JBPaymentInput_p,"m",q).call(this,t)),{capture:!1}),X(this.elements.input,"keyup",tt(this,JBPaymentInput_p,"m",P).bind(this)),X(this.elements.input,"keydown",tt(this,JBPaymentInput_p,"m",S).bind(this)),X(this.elements.input,"keypress",tt(this,JBPaymentInput_p,"m",L).bind(this))},S=function(t){tt(this,JBPaymentInput_p,"m",T).call(this,t)},T=function(t){t.stopPropagation();let e=Y("keydown",t,{cancelable:!0});this.dispatchEvent(e)||t.preventDefault()},L=function(t){t.stopPropagation();let e=Y("keypress",t,{cancelable:!1});this.dispatchEvent(e)},P=function(t){tt(this,JBPaymentInput_p,"m",C).call(this,t),13==t.keyCode&&tt(this,JBPaymentInput_p,"m",M).call(this)},C=function(t){t.stopPropagation();let e=Y("keyup",t,{cancelable:!1});this.dispatchEvent(e)},M=function(){let t=new KeyboardEvent("enter");this.dispatchEvent(t)},q=function(t){let e=t.target.selectionEnd||0,i=(t.target.selectionStart,t.target.value),n=t.target;tt(this,JBPaymentInput_p,"m",JBPaymentInput_y).call(this,i,"INPUT"),e!=i.length&&(["number"].includes(this.getAttribute("type"))||n.setSelectionRange(e,e)),tt(this,JBPaymentInput_p,"m",JBPaymentInput_g).call(this,!1),tt(this,JBPaymentInput_p,"m",R).call(this,t)},R=function(t){t.stopPropagation();let e=Z("input",t,{cancelable:!0});this.dispatchEvent(e)},B=function(t){tt(this,JBPaymentInput_p,"m",z).call(this,t)},z=function(t){t.stopPropagation();let e=Z("beforeinput",t,{cancelable:!0});return this.dispatchEvent(e),e.defaultPrevented&&t.preventDefault(),e.defaultPrevented},K=function(t){let e=t.target.value,i=tt(this,JBPaymentInput_h,"f");tt(this,JBPaymentInput_p,"m",JBPaymentInput_y).call(this,e,"CHANGE"),tt(this,JBPaymentInput_p,"m",JBPaymentInput_g).call(this,!0),tt(this,JBPaymentInput_p,"m",W).call(this,t)&&(te(this,JBPaymentInput_h,i,"f"),t.preventDefault())},W=function(t){t.stopPropagation();let e=new Event("change",{bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed});return this.dispatchEvent(e),!!e.defaultPrevented},D=function(){let t=[];return this.required&&t.push({validator:/.{1}/g,message:this.getAttribute("label")+" میبایست حتما وارد شود",stateType:"valueMissing"}),t},I=function(t){if(t.isAllValid)tt(this,JBPaymentInput_f,"f").setValidity({},"");else{let e={},i="";t.validationList.forEach((t=>{t.isValid||(t.validation.stateType&&(e[t.validation.stateType]=!0),""==i&&(i=t.message))})),tt(this,JBPaymentInput_f,"f").setValidity(e,i)}},customElements.get("jb-input")||window.customElements.define("jb-input",ti),(0,react.forwardRef)(((e,i)=>{let l=(0,react.useRef)(null),[o,u]=(0,react.useState)(0);return(0,react.useImperativeHandle)(i,(()=>l?l.current:{}),[l]),(0,react.useEffect)((()=>{u(o+1)}),[l.current]),ta(l,e),ts(l,e),react.createElement("jb-input",{ref:l,class:e.className},e.children)})).displayName="JBInput";let tr=react.forwardRef(((e,i)=>{let l=(0,react.useRef)(null),[o,u]=(0,react.useState)(0);return(0,react.useImperativeHandle)(i,(()=>l?l.current:{}),[l]),(0,react.useEffect)((()=>{u(o+1)}),[l.current]),ts(l,e),ta(l,e),(0,react.useEffect)((()=>{l.current.setAttribute("input-type",e.inputType)}),[e.inputType]),(0,react.useEffect)((()=>{e.separator&&"string"==typeof e.separator&&""!==e.separator&&(l.current.separatorString=e.separator)}),[e.separator]),react.createElement("jb-payment-input",{placeholder:e.placeholder?e.placeholder:"",ref:l,class:e.className?e.className:"",label:e.label?e.label:"",message:e.message?e.message:""},e.children)}));tr.displayName="JBPaymentInput"}}]);