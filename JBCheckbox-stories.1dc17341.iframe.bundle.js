"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[632],{"../../web-component/jb-validation/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function t(t,i,s,e){if("a"===s&&!e)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?t!==i||!e:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?e:"a"===s?e.call(t):e?e.value:i.get(t)}function i(t,i,s,e,a){if("m"===e)throw new TypeError("Private method is not writable");if("a"===e&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof i?t!==i||!a:!i.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===e?a.call(t,s):a?a.value=s:i.set(t,s),s}function a(t,i,s){const e={validationList:[],isAllValid:!0},a=t=>{e.validationList.push(t),t.isValid||(e.isAllValid=!1)},r=t.filter((t=>!0===t.defer)),o=t.filter((t=>!0!==t.defer)),l=[];for(const t of o){const e=n(i,t,s);e instanceof Promise?l.push(e):a(e)}if(e.isAllValid)for(const t of r){const e=n(i,t,s);e instanceof Promise?l.push(e):a(e)}return{syncValidationResult:e,asyncList:l}}function n(t,i,s){let e,a=i.message;if(i.validator instanceof RegExp){const a="string"==typeof t?t:s(t);e=i.validator.test(a),i.validator.lastIndex=0}if("function"==typeof i.validator){const s=function r(t,i){function s(t){let i=null;return"string"==typeof t&&t.length>0&&(i=t),{isValid:"string"==typeof t?0==t.length:t,message:i}}const e=t(i);return e instanceof Promise?new Promise((t=>{e.then((i=>{t(s(i))}))})):s(e)}(i.validator,t);if(s instanceof Promise)return new Promise((t=>{s.then((s=>{t({isValid:s.isValid,message:s.message,validation:i})}))}));e=s.isValid,a=s.message??a}return e?{isValid:!0,message:"",validation:i}:{isValid:!1,message:a,validation:i}}__webpack_require__.d(__webpack_exports__,{EQ:()=>g});var o,l,c,f,h,u,d,V,m,g=class{get resultSummary(){return t(this,c,"f")}constructor(t){o.add(this),l.set(this,[]),c.set(this,{isValid:null,message:null}),this.result=null,f.set(this,{clearValidationError:[],getValue:()=>null,getValidations:[],getValueString:()=>"",setValidationResult:[],showValidationError:[]}),this.setCallbacks(t)}setCallbacks(i){Object.keys(i).forEach((s=>{"function"==typeof i[s]&&void 0!==t(this,f,"f")[s]&&(Array.isArray(t(this,f,"f")[s])?t(this,f,"f")[s].push(i[s]):t(this,f,"f")[s]=i[s])}))}get list(){return t(this,l,"f")}set list(t){i(this,l,t,"f"),this.checkValidity({showError:!1})}async checkValidity(i){const s=i?.value||await Promise.resolve(t(this,f,"f").getValue()),e=await t(this,o,"m",V).call(this,s);return t(this,o,"m",u).call(this,e,i),e}checkValiditySync(i){const s=i?.value||t(this,f,"f").getValue(),e=t(this,o,"m",m).call(this,s);return t(this,o,"m",u).call(this,e,i),e}addValidationListGetter(i){t(this,f,"f").getValidations.push(i)}};l=new WeakMap,c=new WeakMap,f=new WeakMap,o=new WeakSet,h=function(){return[...t(this,o,"m",d).call(this),...t(this,l,"f")]},u=function(s,e){if(i(this,c,{isValid:s.isAllValid,message:null},"f"),s.isAllValid)t(this,f,"f").clearValidationError.forEach((t=>t()));else{const i=s.validationList.find((t=>!t.isValid));this.resultSummary.message=i.message,!1!==e?.showError&&t(this,f,"f").showValidationError.forEach((t=>t({message:i.message})))}this.result=s,t(this,f,"f").setValidationResult.forEach((t=>t(s)))},d=function(){const i=[];return t(this,f,"f").getValidations.forEach((t=>{"function"==typeof t&&i.push(...t())})),i.flat()},V=async function(i){return await async function e(t,i,s){const{syncValidationResult:e,asyncList:n}=a(t,i,s);for(const t of n){const i=await t;e.isAllValid=e.isAllValid&&i.isValid,e.validationList.push(i)}return e}(t(this,o,"a",h),i,t(this,f,"f").getValueString)},m=function(i){return function s(t,i,s){const{syncValidationResult:e}=a(t,i,s);return e}(t(this,o,"a",h),i,t(this,f,"f").getValueString)}},"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XI:()=>action});var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/internal/preview-api"),external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_=__webpack_require__("storybook/internal/preview-errors"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),ADDON_ID="storybook/actions",EVENT_ID=`${ADDON_ID}/action-event`,config={depth:10,clearOnStoryChange:!0,limit:50},findProto=(obj,callback)=>{let proto=Object.getPrototypeOf(obj);return!proto||callback(proto)?proto:findProto(proto,callback)},serializeArg=a=>{if("object"==typeof(e=a)&&e&&findProto(e,(proto=>/^Synthetic(?:Base)?Event$/.test(proto.constructor.name)))&&"function"==typeof e.persist){let e=Object.create(a.constructor.prototype,Object.getOwnPropertyDescriptors(a));e.persist();let viewDescriptor=Object.getOwnPropertyDescriptor(e,"view"),view=viewDescriptor?.value;return"object"==typeof view&&"Window"===view?.constructor.name&&Object.defineProperty(e,"view",{...viewDescriptor,value:Object.create(view.constructor.prototype)}),e}var e;return a},generateId=()=>"object"==typeof crypto&&"function"==typeof crypto.getRandomValues?(0,v4.A)():Date.now().toString(36)+Math.random().toString(36).substring(2);function action(name,options={}){let actionOptions={...config,...options},handler=function(...args){if(options.implicit){let storyRenderer=("__STORYBOOK_PREVIEW__"in external_STORYBOOK_MODULE_GLOBAL_.global?external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find((render=>"playing"===render.phase||"rendering"===render.phase));if(storyRenderer){let deprecated=!window?.FEATURES?.disallowImplicitActionsInRenderV8,error=new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.ImplicitActionsDuringRendering({phase:storyRenderer.phase,name,deprecated});if(!deprecated)throw error;console.warn(error)}}let channel=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),id=generateId(),serializedArgs=args.map(serializeArg),normalizedArgs=args.length>1?serializedArgs:serializedArgs[0],actionDisplayToEmit={id,count:0,data:{name,args:normalizedArgs},options:{...actionOptions,maxDepth:5+(actionOptions.depth||3),allowFunction:actionOptions.allowFunction||!1}};channel.emit(EVENT_ID,actionDisplayToEmit)};return handler.isAction=!0,handler.implicit=options.implicit,handler}},"./stories/JBCheckbox.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ChildrenLabel:()=>ChildrenLabel,Disabled:()=>Disabled,DisabledTrue:()=>DisabledTrue,Normal:()=>Normal,TestCheckbox:()=>TestCheckbox,__namedExportsOrder:()=>__namedExportsOrder,default:()=>JBCheckbox_stories});var react=__webpack_require__("./node_modules/react/index.js"),jb_validation=__webpack_require__("../../web-component/jb-validation/index.js");function t(e,t,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(e):a?a.value:t.get(e)}function s(e,t,s,a,i){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?i.call(e,s):i?i.value=s:t.set(e,s),s}var a,i,r,c,o,n,l,h,d,b,u,k,p,f=class extends HTMLElement{static get formAssociated(){return!0}get value(){return null!==t(this,r,"f")?t(this,r,"f"):t(this,i,"f")}set value(e){t(this,i,"f")!==e&&s(this,i,e,"f"),t(this,a,"m",u).call(this),t(this,o,"f")&&(e?t(this,o,"f").states?.add("checked"):t(this,o,"f").states?.delete("checked"),"function"==typeof t(this,o,"f").setFormValue&&t(this,o,"f").setFormValue(`${e}`))}get validation(){return t(this,n,"f")}get name(){return this.getAttribute("name")||""}get isDirty(){return t(this,i,"f")!==this.initialValue}set required(e){s(this,l,e,"f"),t(this,n,"f").checkValiditySync({showError:!1})}get required(){return t(this,l,"f")}get disabled(){return t(this,c,"f")}set disabled(e){s(this,c,e,"f"),e?t(this,o,"f").states?.add("disabled"):t(this,o,"f").states?.delete("disabled")}constructor(){super(),a.add(this),i.set(this,!1),r.set(this,null),c.set(this,!1),o.set(this,void 0),n.set(this,new jb_validation.EQ({clearValidationError:this.clearValidationError.bind(this),getValue:()=>this.value,getValidations:t(this,a,"m",p).bind(this),getValueString:()=>this.value?"true":"false",setValidationResult:t(this,a,"m",k).bind(this),showValidationError:this.showValidationError.bind(this)})),this.initialValue=!1,l.set(this,!1),this.isAutoValidationDisabled=!1,"function"==typeof this.attachInternals&&s(this,o,this.attachInternals(),"f"),this.initWebComponent()}connectedCallback(){this.callOnLoadEvent(),this.initProp(),this.callOnInitEvent()}callOnLoadEvent(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)}callOnInitEvent(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)}initWebComponent(){const e=this.attachShadow({mode:"open",delegatesFocus:!0}),t=document.createElement("template");t.innerHTML='<style>:host{--label-color:var(--jb-checkbox-label-color, #535353);--check-bg-color:var(--jb-checkbox-check-bg-color, #fff);--check-mark-color:var(--jb-checkbox-check-mark-color, #fff)}:host(:state(checked)){--label-color:var(--jb-checkbox-label-color, #2a2d30);--check-bg-color:var(--jb-checkbox-check-bg-color-checked, #00dc55);--check-mark-color:var(--jb-checkbox-check-mark-color-checked, #fff)}:host(:state(disabled)){--check-bg-color:var(--jb-checkbox-check-bg-color-disabled, #d3d3d3)}.jb-checkbox-web-component{display:flex;flex-direction:row;gap:8px;align-items:center;justify-content:start;cursor:pointer}.jb-checkbox-web-component .label-wrapper{display:inline-block;font-weight:400;color:var(--label-color)}.jb-checkbox-web-component .svg-wrapper{width:30px;height:30px;margin-left:8px}.jb-checkbox-web-component .svg-wrapper .check-box-svg{width:30px;height:30px;cursor:pointer}.jb-checkbox-web-component .svg-wrapper .check-box-svg.--active .checkmark__cube{transition:all .3s ease-in-out;rx:58;ry:58;stroke:rgba(0,0,0,0)}.jb-checkbox-web-component .svg-wrapper .check-box-svg.--active .checkmark__check{animation:stroke .3s cubic-bezier(0.65, 0, 0.45, 1) .1s forwards}.jb-checkbox-web-component .svg-wrapper .check-box-svg .checkmark__cube{fill:var(--check-bg-color);transition:all .3s ease-in-out;stroke:gray;stroke-width:1px}.jb-checkbox-web-component .svg-wrapper .check-box-svg .checkmark__check{stroke-width:5;stroke:var(--check-mark-color);transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48}@keyframes stroke{100%{stroke-dashoffset:0}}</style>\n\n  <div class="jb-checkbox-web-component">\n  <div class="svg-wrapper">\n    <svg class="check-box-svg" viewBox="0 0 52 52" part="checkbox">\n      <rect class="checkmark__cube" x="0" y="0" width="52" height="52" rx="5" ry="5" part="check-bg"/>\n      <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" part="check-mark"/>\n    </svg>\n  </div>\n  <div class="label-wrapper" >\n    <slot name="label" part="label"></slot>\n  </div>\n</div>\n  ',e.appendChild(t.content.cloneNode(!0)),this.elements={componentWrapper:e.querySelector(".jb-checkbox-web-component"),label:e.querySelector(".label-wrapper slot"),svgWrapper:e.querySelector(".svg-wrapper"),svg:e.querySelector(".check-box-svg")},this.registerEventListener()}registerEventListener(){this.elements.componentWrapper.addEventListener("click",(()=>t(this,a,"m",h).call(this)))}initProp(){this.value="true"===this.getAttribute("value")||!1}static get observedAttributes(){return["label","value","name","disabled"]}attributeChangedCallback(e,t,s){this.onAttributeChange(e,s)}onAttributeChange(e,t){switch(e){case"value":this.value=Boolean(t);break;case"label":this.elements.label.innerText=t;break;case"disabled":""==t||"true"===t?this.disabled=!0:"false"!=t&&null!=t&&null!=t||(this.disabled=!1)}}focus(){}showValidationError(e){}clearValidationError(){}get validationMessage(){return t(this,o,"f").validationMessage}checkValidity(){return t(this,n,"f").checkValiditySync({showError:!1}).isAllValid}reportValidity(){return t(this,n,"f").checkValiditySync({showError:!0}).isAllValid}};function JBCheckbox_c(e,n,a,l=!1){let i=(0,react.useCallback)((t=>{e.current&&"function"==typeof a&&a(t)}),[e,a]);(0,react.useEffect)((()=>{let t=e.current;return t&&t.addEventListener(n,i,{passive:l,capture:!1}),function(){t&&t.removeEventListener(n,i,{passive:l,capture:!1})}}),[e,n,a,l])}i=new WeakMap,r=new WeakMap,c=new WeakMap,o=new WeakMap,n=new WeakMap,l=new WeakMap,a=new WeakSet,h=function(){if(t(this,c,"f"))return;s(this,r,!t(this,i,"f"),"f");const e=t(this,a,"m",d).call(this);s(this,r,null,"f"),e||(this.value=!t(this,i,"f"),t(this,a,"m",b).call(this).defaultPrevented&&(this.value=!t(this,i,"f")))},d=function(){const e=new CustomEvent("before-change",{cancelable:!0});return this.dispatchEvent(e),e.defaultPrevented},b=function(){const e=new Event("change",{bubbles:!0,cancelable:!0,composed:!0});return this.dispatchEvent(e),e},u=function(){this.value?this.elements.svg.classList.add("--active"):this.elements.svg.classList.remove("--active")},k=function(e){if(e.isAllValid)t(this,o,"f").setValidity({},"");else{const s={};let a="";e.validationList.forEach((e=>{e.isValid||(e.validation.stateType&&(s[e.validation.stateType]=!0),""==a&&(a=e.message))})),t(this,o,"f").setValidity(s,a)}},p=function(){return t(this,l,"f")?[{validator:e=>!1!==e,message:"چک میبایست فعال شود"}]:[]},!customElements.get("jb-checkbox")&&window.customElements.define("jb-checkbox",f);let JBCheckbox_i=react.forwardRef(((t,i)=>{let u=(0,react.useRef)(null),[s,o]=(0,react.useState)(0);return(0,react.useImperativeHandle)(i,(()=>u?u.current:void 0),[u]),(0,react.useEffect)((()=>{o(s+1)}),[u.current]),(0,react.useEffect)((()=>{u.current&&null!==t.value&&void 0!==t.value&&(u.current.value=t.value)}),[t.value]),(0,react.useEffect)((()=>{u.current&&"string"==typeof t.style&&u.current.setAttribute("style",t.style)}),[t.style]),(0,react.useEffect)((()=>{u.current&&"string"==typeof t.name?u.current.setAttribute("name",t.name):u.current&&null==t.name&&u.current.removeAttribute("name")}),[t.name]),(0,react.useEffect)((()=>{u.current&&(u.current.disabled=!!t.disabled)}),[u.current,t.disabled]),(0,react.useEffect)((()=>{u.current&&Array.isArray(t.validationList)&&(u.current.validation.list=t.validationList)}),[t.validationList]),JBCheckbox_c(u,"before-change",t.onBeforeChange,!0),JBCheckbox_c(u,"change",t.onChange,!0),react.createElement("jb-checkbox",{class:t.className?t.className:"",label:t.label?t.label:"",ref:u},t.children)}));JBCheckbox_i.displayName="JBSwitch";var dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs");function JBCheckboxTest(props){const[value,inputValueSetter]=(0,react.useState)("");return react.createElement(JBCheckbox_i,{label:props.label,value,onChange:e=>{inputValueSetter(e.target.value)}})}const JBCheckboxTestPage=JBCheckboxTest;JBCheckboxTest.__docgenInfo={description:"",methods:[],displayName:"JBCheckboxTest"};const JBCheckbox_stories={title:"Example/form elements/JBCheckbox",component:JBCheckbox_i},Normal={args:{label:"چک",onChange:e=>{(0,dist.XI)("onChange")(e.target.value)}}},Disabled={args:{label:"disabled",disabled:!0,onChange:e=>{(0,dist.XI)("onChange")(e.target.value)}}},DisabledTrue={args:{label:"disabled with true value",value:!0,disabled:!0,onChange:e=>{(0,dist.XI)("onChange")(e.target.value)}}},ChildrenLabel={args:{children:react.createElement("div",{style:{color:"blue"},slot:"label"},"label in children"),onChange:e=>{(0,dist.XI)("onChange")(e.target.value)}}},TestCheckbox={render:args=>react.createElement(JBCheckboxTestPage,args),args:{label:"چک باکس"}},__namedExportsOrder=["Normal","Disabled","DisabledTrue","ChildrenLabel","TestCheckbox"];Normal.parameters={...Normal.parameters,docs:{...Normal.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'چک',\n    onChange: e => {\n      action('onChange')(e.target.value);\n    }\n  }\n}",...Normal.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'disabled',\n    disabled: true,\n    onChange: e => {\n      action('onChange')(e.target.value);\n    }\n  }\n}",...Disabled.parameters?.docs?.source}}},DisabledTrue.parameters={...DisabledTrue.parameters,docs:{...DisabledTrue.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'disabled with true value',\n    value: true,\n    disabled: true,\n    onChange: e => {\n      action('onChange')(e.target.value);\n    }\n  }\n}",...DisabledTrue.parameters?.docs?.source}}},ChildrenLabel.parameters={...ChildrenLabel.parameters,docs:{...ChildrenLabel.parameters?.docs,source:{originalSource:"{\n  args: {\n    children: <div style={{\n      color: 'blue'\n    }} slot=\"label\">label in children</div>,\n    onChange: e => {\n      action('onChange')(e.target.value);\n    }\n  }\n}",...ChildrenLabel.parameters?.docs?.source}}},TestCheckbox.parameters={...TestCheckbox.parameters,docs:{...TestCheckbox.parameters?.docs,source:{originalSource:"{\n  render: args => <JBCheckboxTest {...args}></JBCheckboxTest>,\n  args: {\n    label: 'چک باکس'\n  }\n}",...TestCheckbox.parameters?.docs?.source}}}}}]);