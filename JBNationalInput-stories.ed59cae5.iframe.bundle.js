"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[35],{"./stories/JBNationalInput.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Normal:()=>Normal,__namedExportsOrder:()=>__namedExportsOrder,default:()=>JBNationalInput_stories});var n,i,o,a,r,react=__webpack_require__("./node_modules/react/index.js"),jb_input=__webpack_require__("../../web-component/jb-input/index.js");function e(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}function s(t){return"string"!=typeof t?"":t.replace(/[۰-۹]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)-1728)}))}var u=class extends jb_input.W{constructor(){super(),n.add(this),this.initMobileInputWebComponent()}initMobileInputWebComponent(){const t=document.createElement("template");t.innerHTML="<style>.jb-input-web-component{--jb-input-input-direction: var(--jb-national-input-input-direction, ltr)}</style>",this.shadowRoot.appendChild(t.content.cloneNode(!0)),this.validation.addValidationListGetter(e(this,n,"m",r).bind(this)),e(this,n,"m",o).call(this),this.addStandardValueCallback(e(this,n,"m",i).bind(this))}};function l(e,t,u,a=!1){let i=(0,react.useCallback)((t=>{e.current&&"function"==typeof u&&u(t)}),[e,u]);(0,react.useEffect)((()=>{let r=e.current;return r&&r.addEventListener(t,i,{passive:a,capture:!1}),function(){r&&r.removeEventListener(t,i,{passive:a,capture:!1})}}),[e,t,u,a])}function JBNationalInput_o(e,t){l(e,"enter",t.onEnter),l(e,"input",t.onInput),l(e,"beforeinput",t.onBeforeinput),l(e,"change",t.onChange),l(e,"keydown",t.onKeydown),l(e,"keyup",t.onKeyup),l(e,"focus",t.onFocus),l(e,"blur",t.onBlur)}function c(e,t){(0,react.useEffect)((()=>{let r=t.value;(null==t.value||void 0===t.value)&&(r=""),e&&e.current&&e.current&&(e.current.value=r?.toString()||"")}),[t.value]),(0,react.useEffect)((()=>{t.type&&e?.current?.setAttribute("type",t.type)}),[t.type]),(0,react.useEffect)((()=>{e?.current?.setAttribute("name",t.name||"")}),[t.name]),(0,react.useEffect)((()=>{e&&e.current&&(e.current.validation.list=t.validationList||[])}),[t.validationList]),(0,react.useEffect)((()=>{e?.current?.setAttribute("label",t.label||"")}),[t.label]),(0,react.useEffect)((()=>{"boolean"==typeof t.disabled&&e?.current?.setAttribute("disabled",`${t.disabled}`)}),[t.disabled]),(0,react.useEffect)((()=>{"boolean"==typeof t.required&&e?.current?.setAttribute("required",`${t.required}`)}),[t.required]),(0,react.useEffect)((()=>{t.inputmode?e.current?.setAttribute("inputmode",t.inputmode):e.current?.removeAttribute("inputmode")}),[t.inputmode]),(0,react.useEffect)((()=>{e?.current?.setAttribute("message",t.message||"")}),[t.message]),(0,react.useEffect)((()=>{e?.current?.setAttribute("placeholder",t.placeholder||"")}),[t.placeholder])}n=new WeakSet,i=function(t){let e="",n="";const i=/(?<nationalId>[\u06F0-\u06F90-9]{1,10})/g.exec(t);return e=i&&i.groups?i.groups.nationalId:"",n=s(e),{value:n,displayValue:e}},o=function(){this.elements.input.addEventListener("beforeinput",e(this,n,"m",a).bind(this))},a=function(t){const e=t.data;/[\u06F0-\u06F90-9]{1,10}/g.test(e)||"deleteContentBackward"==t.inputType||t.preventDefault()},r=function(){return[{validator:({value:t})=>function(t){const e=s(t);if(!/^\d{10}$/.test(e))return!1;const n=+e[9],i=e.split("").slice(0,9).reduce(((t,e,n)=>t+ +e*(10-n)),0)%11;return i<2?n===i:n+i===11}(t),message:"کد ملی وارد شده نامعتبر است"}]},!customElements.get("jb-national-input")&&window.customElements.define("jb-national-input",u),(0,react.forwardRef)(((t,r)=>{let l=(0,react.useRef)(null),[s,p]=(0,react.useState)(0);return(0,react.useImperativeHandle)(r,(()=>l?l.current:{}),[l]),(0,react.useEffect)((()=>{p(s+1)}),[l.current]),JBNationalInput_o(l,t),c(l,t),react.createElement("jb-input",{ref:l,class:t.className},t.children)})).displayName="JBInput";let JBNationalInput_s=react.forwardRef(((t,r)=>{let l=(0,react.useRef)(null),[s,p]=(0,react.useState)(0);return(0,react.useImperativeHandle)(r,(()=>l?l.current:{}),[l]),(0,react.useEffect)((()=>{p(s+1)}),[l.current]),c(l,t),JBNationalInput_o(l,t),react.createElement("jb-national-input",{ref:l,class:t.className?t.className:""})}));JBNationalInput_s.displayName="JBNationalInput";const JBNationalInput_stories={title:"Example/form elements/Inputs/JBNationalInput",component:JBNationalInput_s},Normal={args:{label:"national id",message:"please enter your national code"}},__namedExportsOrder=["Normal"];Normal.parameters={...Normal.parameters,docs:{...Normal.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'national id',\n    message: \"please enter your national code\"\n  }\n}",...Normal.parameters?.docs?.source}}}}}]);