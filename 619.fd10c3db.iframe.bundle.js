"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[619],{"../../web-component/jb-select/index.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var jb_validation=__webpack_require__("../../web-component/jb-validation/dist/jb-validation.js"),dist=__webpack_require__("../../web-component/jb-core/dist/index.js"),i=class extends HTMLElement{#e;#t;#i;get value(){return this.#i}set value(e){this.#i=e}#o=!1;set selected(e){this.#o=e,e?this.#e.componentWrapper.classList.add("--selected"):this.#e.componentWrapper.classList.remove("--selected")}get selected(){return this.#o}get optionContent(){return this.#e.contentWrapper.querySelector("slot").assignedNodes()}#s=!1;get hidden(){return this.#s}set hidden(e){this.#s=e,e?(this.#e.componentWrapper.classList.add("--hidden"),this.setAttribute("inert","")):(this.#e.componentWrapper.classList.remove("--hidden"),this.removeAttribute("inert"))}get optionContentText(){return this.optionContent.reduce(((e,t)=>e+t.textContent),"")}constructor(){super(),this.#l(),this.#n()}connectedCallback(){this.#a()}setSelectElement(e){e&&(this.#t=e,this.#t.addEventListener("filter-change",this.#r.bind(this)))}#r(e){const{filterText:t}=e.detail;this.optionContentText.toLowerCase().includes(t.toLowerCase())?this.hidden=!1:this.hidden=!0}disconnectedCallback(){this.#t?.removeEventListener("filter-change",this.#r.bind(this));const e=new CustomEvent("jb-option-disconnected",{bubbles:!0,composed:!0,cancelable:!1});this.dispatchEvent(e)}#l(){const e=this.attachShadow({mode:"open"}),t=document.createElement("template");t.innerHTML='<style>.jb-options-web-component .option-content-wrapper{min-height:36px;padding:4px 16px;display:flex;align-items:center;font-size:.9em;color:var(--jb-select-option-color, inherit);background-color:var(--jb-select-option-background-color, transparent)}.jb-options-web-component .option-content-wrapper:hover{background-color:var(--jb-select-option-background-color-hover, #1073db);color:var(--jb-select-option-color-hover, #fff);cursor:pointer}.jb-options-web-component.--selected{font-weight:900}.jb-options-web-component.--hidden{display:none}</style>\n\n    <div class="jb-options-web-component">\n      <div class="option-content-wrapper">\n        <slot></slot>\n      </div>\n    </div>\n  ',e.appendChild(t.content.cloneNode(!0)),this.#e={componentWrapper:e.querySelector(".jb-options-web-component"),contentWrapper:e.querySelector(".option-content-wrapper")},this.#c()}#c(){this.#e.componentWrapper.addEventListener("click",this.#d.bind(this))}#a(){const e=new CustomEvent("jb-option-connected",{bubbles:!0,composed:!0});this.dispatchEvent(e)}#n(){this.value=this.getAttribute("value")||null}static get observedAttributes(){return["value"]}attributeChangedCallback(e,t,i){this.#h(e,i)}#h(e,t){"value"===e&&(this.#i=t)}#d(){this.#o||this.#p()}#p(){const e=new CustomEvent("select",{bubbles:!0,cancelable:!1,composed:!0});this.dispatchEvent(e)}};!customElements.get("jb-option")&&window.customElements.define("jb-option",i);var o=class extends HTMLElement{#b={};get callbacks(){return this.#b}#u=[];#m=new Map;get optionList(){return this.#u||[]}set optionList(e){Array.isArray(e)?(this.#u=e,this.#v(e)):console.error("your provided option list to jb-option-list is not a array. you must provide array value",{value:e})}constructor(){super(),this.#l()}connectedCallback(){}setCallback(e,t){switch(this.#b[e]=t,e){case"getContentDOM":case"getTitle":this.#g();break;case"getValue":this.#w()}}#g(){this.#m.forEach(((e,t)=>{this.#x(t,e)}))}#w(){this.#m.forEach(((e,t)=>{e.value=this.#y(t)}))}#l(){const e=this.attachShadow({mode:"open"}),t=document.createElement("template");e.appendChild(t.content.cloneNode(!0))}#v(e){this.shadowRoot.innerHTML="",e.forEach((e=>{const t=this.#j(e);this.shadowRoot.appendChild(t),this.#m.set(e,t)}))}#y(e){this.callbacks.getValue&&"function"!=typeof this.callbacks.getValue&&console.error("getOptionValue callback is not a function");try{return"function"==typeof this.#b.getValue?this.#b.getValue(e):e}catch(t){console.error("Invalid getOptionValue callback Result, must be a function that returns the value of an option",e)}}#f(e){if("function"!=typeof this.#b.getTitle)return String(e);try{return this.#b.getTitle(e)}catch(t){console.error("Invalid getOptionTitle callback Result, must be a function that returns the value of an option",e)}return""}#x(e,t){t.innerHTML="","function"==typeof this.#b.getContentDOM?t.appendChild(this.#b.getContentDOM(e)):t.innerHTML=this.#f(e)}#j(e){const t=new i;return this.#x(e,t),t.value=this.#y(e),t}};function s(e){try{window.CSS.registerProperty({...e})}catch(e){}}!customElements.get("jb-option-list")&&window.customElements.define("jb-option-list",o);const l={single:{black:"oklch(0.14 0 0)",white:"oklch(1 0 0)",highlight:"oklch(0.93 0.2302 125.18)"},primary:{main:"oklch(0.6 0.26 256)",hover:a(.6,.26,256),pressed:r(.6,.26,256),lighter:c(.6,.26,256)},secondary:{main:"oklch(0.6 0.26 286)",hover:a(.6,.26,286),pressed:r(.6,.26,286),lighter:c(.6,.26,286)},neutral:[n(0),n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10)],yellow:{main:"oklch(0.75 0.18 70)",hover:a(.75,.18,70),pressed:r(.75,.18,70),lighter:c(.75,.18,70)},green:{main:"oklch(0.68 0.1484 162.1)",hover:a(.68,.1484,162.1),pressed:r(.68,.1484,162.1),lighter:c(.68,.1484,162.1)},red:{main:"oklch(0.6 0.22 23.21)",hover:a(.6,.22,23.21),pressed:r(.6,.22,23.21),lighter:c(.6,.22,23.21)}};function n(e){return`oklch(${6*(3+1.3*e)*.01} ${.001*(14+.09*e)} 258.36)`}function a(e,t,i){return`oklch(${e+.07} ${t+.07} ${i})`}function r(e,t,i){return`oklch(${e-.1} ${t-.05} ${i})`}function c(e,t,i){const o=Math.min(e+.12*(1-e),.985),s=t*(1-.15*(o-e));return`oklch(${o.toFixed(3)} ${s.toFixed(3)} ${i})`}var d=class extends HTMLElement{static get formAssociated(){return!0}#i;#V="";#L=null;#u=new Set;#k=null;callbacks={};elements;get value(){return this.#i?this.#i:null}set value(e){this.#E(e)}get textValue(){return this.#V}set textValue(e){this.#V=e,this.elements.input.value=e,this.#C(e)}get selectedOptionTitle(){return this.value?this.#k.optionContentText:""}#O="";get placeholder(){return this.#O}set placeholder(e){this.#O=e,null!==this.value&&void 0!==this.value?this.elements.input.placeholder="":this.elements.input.placeholder=e}#S="search";get searchPlaceholder(){return this.#S}set searchPlaceholder(e){this.#S=e}get isMobileDevice(){return(0,dist.Fr)()}get isOpen(){return this.elements.componentWrapper.classList.contains("--focused")}get#M(){return{inputtedText:this.#V,selectedOption:this.#k,value:this.value}}#T=new jb_validation.EQ({clearValidationError:this.clearValidationError.bind(this),showValidationError:this.showValidationError.bind(this),getValue:()=>this.#M,getValidations:this.#I.bind(this),getValueString:()=>this.#V,setValidationResult:this.#P.bind(this)});get validation(){return this.#T}#D=!1;get disabled(){return this.#D}set disabled(e){this.#D=e,this.elements.input.disabled=e,e?this.#A.states?.add("disabled"):this.#A.states?.delete("disabled")}#W=!1;set required(e){this.#W=e,this.#T.checkValiditySync({showError:!1})}get required(){return this.#W}#A;get isAutoValidationDisabled(){return""===this.getAttribute("disable-auto-validation")||"true"===this.getAttribute("disable-auto-validation")}get name(){return this.getAttribute("name")||""}initialValue=null;get isDirty(){return this.value!==this.initialValue}constructor(){super(),"function"==typeof this.attachInternals&&(this.#A=this.attachInternals()),this.#l(),this.#n()}connectedCallback(){this.#z(),this.#K()}#K(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)}#z(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)}#l(){const e=this.attachShadow({mode:"open",delegatesFocus:!0});(function(){s({name:"--jb-primary",syntax:"<color>",inherits:!0,initialValue:l.primary.main}),s({name:"--jb-secondary",syntax:"<color>",inherits:!0,initialValue:l.secondary.main}),s({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:"oklch(0.18 0.014 258.36)"}),s({name:"--jb-black",syntax:"<color>",inherits:!0,initialValue:l.single.black}),s({name:"--jb-white",syntax:"<color>",inherits:!0,initialValue:l.single.white}),s({name:"--jb-highlight",syntax:"<color>",inherits:!0,initialValue:l.single.highlight}),s({name:"--jb-yellow",syntax:"<color>",inherits:!0,initialValue:l.yellow.main}),s({name:"--jb-green",syntax:"<color>",inherits:!0,initialValue:l.green.main}),s({name:"--jb-red",syntax:"<color>",inherits:!0,initialValue:l.red.main}),s({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:n(0)});for(let e=1;e<=10;e++)s({name:`--jb-neutral-${e}`,syntax:"<color>",inherits:!0,initialValue:l.neutral[e]})})(),s({name:"--jb-text-primary",syntax:"<color>",inherits:!0,initialValue:l.single.black}),s({name:"--jb-text-secondary",syntax:"<color>",inherits:!0,initialValue:n(7)}),s({name:"--jb-text-contrast",syntax:"<color>",inherits:!0,initialValue:l.single.white});const t=document.createElement("template");t.innerHTML='<style>:host{--middle-div-height: var(--jb-select-middle-div-height, 0px);--border-bottom-width: var(--jb-select-border-bottom-width, var(--jb-select-border-width, 3px));--base-z-index: 1;--mobile-modal-z-index: 900;--mobile-modal-height: var(--jb-select-mobile-modal-height, 100vh);--border-color: var(--jb-select-border-color, var(--jb-neutral-10));--message-color: var(--jb-select-message-color, var(--jb-text-secondary));--label-color: var(--jb-select-label-color, var(--jb-text-primary));--value-color: var(--jb-select-value-color, var(--jb-text-primary));--placeholder-color: var(--jb-select-placeholder-color, var(--jb-neutral-6));--select-box-bg-color: var(--jb-select-bgcolor, var(--jb-neutral-10));--overlay-bg-color:var(--jb-select-overlay-bg-color, oklch(from var(--jb-neutral) l c h / calc(alpha - 0.5)));--modal-label-color:var(--jb-select-modal-label-color, var(--jb-text-contrast));--modal-close-color:var(--jb-select-modal-close-color, var(--jb-white));--close-bg-color:var(--jb-select-close-bg-color, var(--jb-neutral-2));--list-scroll-color:var(--jb-select-list-scroll-color, oklch(from var(--select-box-bg-color) calc(l - 0.2) c h));--empty-list-placeholder-color:var(--jb-select-empty-list-placeholder-color, var(--jb-text-secondary)) }:host(:state(invalid)){--message-color: var(--jb-select-message-error-color, var(--jb-red))}:host(:focus-within){--border-color: var(--jb-select-border-color-focus, var(--jb-neutral))}.jb-select-web-component{width:var(--jb-select-width, 100%);margin:var(--jb-select-margin, 0 0);position:relative;box-sizing:border-box}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component.--focused{position:fixed;bottom:0;top:initial;left:0;background-color:var(--overlay-bg-color);width:100vw;height:var(--mobile-modal-height);border-radius:var(--jb-select-mobile-modal-border-radius, 0) var(--jb-select-mobile-modal-border-radius, 0) 0 0;margin:0;padding:16px 8px;z-index:var(--mobile-modal-z-index)}}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component.--focused .select-box{height:var(--jb-select-mobile-search-input-height, var(--jb-select-height, 40px));background-color:var(--jb-select-mobile-input-bgcolor, var(--select-box-bg-color));border-width:var(--jb-select-mobile-search-border-width, var(--jb-select-border-width, 1px));border-color:var(--jb-select-mobile-search-border-color, var(--border-color));border-bottom-width:var(--jb-select-mobile-search-border-bottom-width, var(--p-border-bottom-width));border-bottom-color:var(--jb-select-mobile-search-border-bottom-color, var(--jb-select-border-bottom-color, var(--border-color)));border-radius:var(--jb-select-mobile-search-border-radius, var(--jb-select-border-radius, 16px))}}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component.--focused .select-box .front-box .arrow-icon{display:none}}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component.--focused .select-box .selected-value-wrapper{opacity:0;transition:none}}.jb-select-web-component.--focused .middle-divider{display:block}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component.--focused .middle-divider{margin:var(--jb-select-middle-div-mobile-margin, 16px 0 0 0)}}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component.--focused .select-list-wrapper{position:initial;margin:var(--jb-select-mobile-item-list-margin, 16px 0);border-radius:var(--jb-select-mobile-item-list-border-radius, var(--jb-select-border-radius, 16px))}}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component.--focused .label-wrapper{display:flex}}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component.--focused .label-wrapper label{color:var(--modal-label-color);font-size:1.5em;display:flex;align-items:center}}.jb-select-web-component.--focused .label-wrapper .close-button{display:none}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component.--focused .label-wrapper .close-button{display:flex;width:48px;height:48px;justify-content:center;align-items:center;color:var(--modal-close-color)}.jb-select-web-component.--focused .label-wrapper .close-button .close-btn-svg-bg{opacity:var(--jb-select-close-bg-opacity, 0.4);fill:var(--close-bg-color)}.jb-select-web-component.--focused .label-wrapper .close-button .close-btn-svg-path{fill:var(--modal-close-color)}}.jb-select-web-component.--has-value .select-box{border-color:var(--jb-select-border-color-selected, var(--border-color));background-color:var(--jb-select-bgcolor-selected, var(--select-box-bg-color))}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component.--has-value .select-box:focus-within{background-color:var(--jb-select-mobile-input-bgcolor, var(--select-box-bg-color))}}.jb-select-web-component .label-wrapper label{width:100%;margin:4px 0px;display:block;font-size:var(--jb-select-label-font-size, 0.8em);font-weight:var(--jb-select-label-font-weight, normal);color:var(--label-color)}.jb-select-web-component .label-wrapper label.--hide{display:none}.jb-select-web-component .label-wrapper .close-button{display:none}.jb-select-web-component .select-box{width:100%;box-sizing:border-box;height:var(--jb-select-height, 2.5rem);border:solid var(--jb-select-border-width, 1px) var(--border-color);border-bottom:solid var(--p-border-bottom-width) var(--border-color);border-radius:var(--jb-select-border-radius, 1rem);background-color:var(--select-box-bg-color);margin:var(--jb-select-select-box-margin, 4px 0px 0px 0px);overflow:hidden;display:flex;padding-inline-end:var(--jb-select-box-padding-end, 1rem);gap:.5rem;align-items:center}.jb-select-web-component .select-box:focus-within{border-color:var(--jb-select-border-color, var(--border-color));border-bottom-color:var(--jb-select-border-color, var(--border-color));border-radius:var(--jb-select-border-radius, 1rem) var(--jb-select-border-radius, 1rem) 0 0}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component .select-box:focus-within{border-radius:var(--jb-select-mobile-search-border-radius, var(--jb-select-border-radius, 1rem))}}.jb-select-web-component .select-box .start-section{height:100%;width:auto;display:flex;justify-content:center;align-items:center}.jb-select-web-component .select-box .middle-section{position:relative;width:100%;height:100%;flex:1}.jb-select-web-component .select-box .middle-section .selected-value-wrapper{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;overflow:hidden;z-index:1}.jb-select-web-component .select-box .middle-section .selected-value-wrapper.--search-typed{opacity:0}.jb-select-web-component .select-box .middle-section .selected-value-wrapper .selected-value{width:100%;box-sizing:border-box;height:100%;background-color:rgba(0,0,0,0);padding:2px 12px 0 12px;display:block;font-family:inherit;font-size:var(--jb-select-selected-value-font-size, 1.1em);color:var(--value-color);margin:0;border-radius:0;display:flex;align-items:center}.jb-select-web-component .select-box .middle-section .front-box{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;overflow:hidden;z-index:2}.jb-select-web-component .select-box .middle-section .front-box input{border:none;width:100%;box-sizing:border-box;height:100%;background-color:rgba(0,0,0,0);padding:2px 12px 0 12px;display:block;font-family:inherit;font-size:var(--jb-select-value-font-size, 1.1rem);color:var(--value-color);margin:0;border-radius:0}.jb-select-web-component .select-box .middle-section .front-box input:focus{outline:none}.jb-select-web-component .select-box .middle-section .front-box input::placeholder{color:var(--placeholder-color);font-size:var(--jb-select-placeholder-font-size, 1.1em)}.jb-select-web-component .select-box .end-section .arrow-icon{margin:var(--jb-select-arrow-icon-margin, 0 0 0 0)}.jb-select-web-component .select-box:focus-within .selected-value{opacity:.7;transition:all .3s ease}.jb-select-web-component .middle-divider{display:none;position:relative;z-index:calc(var(--base-z-index) + 3);width:100%;height:var(--middle-div-height);background-color:var(--jb-select-middle-div-color, var(--border-color));margin:var(--jb-select-middle-div-margin, calc(-1 * var(--border-bottom-width)) 0);border-radius:var(--jb-select-middle-div-radius, 0px)}.jb-select-web-component .message-box{font-size:var(--jb-select-message-font-size, 0.7em);font-weight:var(--jb-select-message-font-weight, normal);padding:4px 8px;color:var(--message-color)}.jb-select-web-component .message-box:empty{padding:0}.jb-select-web-component .message-box.--error{color:red}.jb-select-web-component .select-list-wrapper{display:none;position:absolute;margin:calc(-1*var(--border-bottom-width)) 0;height:auto;overflow:hidden;width:100%;background-color:var(--select-box-bg-color);border-radius:0 0 var(--jb-select-border-radius, 16px) var(--jb-select-border-radius, 16px);border:solid var(--jb-select-list-border-width, 1px) var(--border-color);border-top:none;border-bottom:solid var(--border-bottom-width) var(--border-color);box-shadow:var(--jb-select-list-box-shadow);box-sizing:border-box;z-index:calc(var(--base-z-index) + 2)}.jb-select-web-component .select-list-wrapper.--show{display:block}.jb-select-web-component .select-list-wrapper .select-list{width:100%;max-height:var(--jb-select-list-max-height, 400px);overflow-y:auto}.jb-select-web-component .select-list-wrapper .select-list slot{padding:var(--jb-select-list-padding, 16px 0)}.jb-select-web-component .select-list-wrapper .select-list slot:empty{padding:0}@media(min-width: 320px)and (max-width: 767px){.jb-select-web-component .select-list-wrapper .select-list{max-height:calc(var(--mobile-modal-height) - 15rem)}}.jb-select-web-component .select-list-wrapper .select-list::-webkit-scrollbar{width:9px;background-color:rgba(0,0,0,0)}.jb-select-web-component .select-list-wrapper .select-list::-webkit-scrollbar-thumb{background-color:var(--list-scroll-color);border-radius:var(--jb-select-list-scroll-border-radius, 4px)}.jb-select-web-component .select-list-wrapper .empty-list-placeholder{display:none;text-align:center;color:var(--empty-list-placeholder-color);font-style:italic;padding:8px 0}.jb-select-web-component .select-list-wrapper .empty-list-placeholder.--show{display:block}</style>\n<div class="jb-select-web-component">\n    <div class="label-wrapper">\n        <label class="--hide"><span class="label-value"></span></label>\n        \x3c!-- close button will be visible on mobile modal --\x3e\n        <div class="close-button">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">\n                <path class="close-btn-svg-bg" opacity="0.4" d="M16.3399 1.9998H7.66988C4.27988 1.9998 1.99988 4.3798 1.99988 7.9198V16.0898C1.99988 19.6198 4.27988 21.9998 7.66988 21.9998H16.3399C19.7299 21.9998 21.9999 19.6198 21.9999 16.0898V7.9198C21.9999 4.3798 19.7299 1.9998 16.3399 1.9998Z"/>\n                <path class="close-btn-svg-path" d="M15.0156 13.7703L13.2366 11.9923L15.0146 10.2143C15.3566 9.8733 15.3566 9.3183 15.0146 8.9773C14.6726 8.6333 14.1196 8.6343 13.7776 8.9763L11.9986 10.7543L10.2196 8.9743C9.87758 8.6323 9.32358 8.6343 8.98158 8.9743C8.64058 9.3163 8.64058 9.8713 8.98158 10.2123L10.7616 11.9923L8.98558 13.7673C8.64358 14.1093 8.64358 14.6643 8.98558 15.0043C9.15658 15.1763 9.37958 15.2613 9.60358 15.2613C9.82858 15.2613 10.0516 15.1763 10.2226 15.0053L11.9986 13.2293L13.7786 15.0083C13.9496 15.1793 14.1726 15.2643 14.3966 15.2643C14.6206 15.2643 14.8446 15.1783 15.0156 15.0083C15.3576 14.6663 15.3576 14.1123 15.0156 13.7703Z" fill="#200E32"/>\n            </svg>\n        </div>\n    </div>\n    <div class="select-box">\n        <div class="start-section">\n            <slot name="start-section"></slot>\n        </div>\n        <div class="middle-section">\n            <div class="selected-value-wrapper"></div>\n            <div class="front-box">\n                <input class="input">\n\n            </div>\n        </div>\n        <div class="end-section">\n            <div class="arrow-icon" tabindex="-1">\n                <slot name="select-arrow-icon">\n                    <svg width="8" height="8" id="Layer_1" x="0px" y="0px" viewBox="0 0 494.1 371.1" style="enable-background:new 0 0 494.1 371.1;" xml:space="preserve">\n                        <path d="M293,343.8L480.9,69.3c8.7-12.7,13.3-25.4,13.3-36.1c0-20.5-16.5-33.2-44-33.2H44C16.4,0,0,12.7,0,33.2  c0,10.6,4.6,23.2,13.3,35.9l187.9,274.6c12.1,17.7,28.4,27.4,45.9,27.4C264.6,371.1,280.9,361.4,293,343.8z"/>\n                    </svg>\n                </slot>\n            </div>\n        </div>\n    </div>\n    <div class="middle-divider">\n        \x3c!-- middle line between input box and list (hidden by default but user may need it sometimes) --\x3e\n    </div>\n    <div class="select-list-wrapper">\n        <div class="select-list" tabindex="-1">\n            <slot></slot>\n        </div>\n        <div class="empty-list-placeholder">\n            <slot name="empty-list-message">no item available</slot>\n        </div>\n    </div>\n    <div class="message-box"></div>\n</div>',e.appendChild(t.content.cloneNode(!0)),this.elements={input:e.querySelector(".select-box input"),componentWrapper:e.querySelector(".jb-select-web-component"),selectedValueWrapper:e.querySelector(".selected-value-wrapper"),messageBox:e.querySelector(".message-box"),optionList:e.querySelector(".select-list"),optionListWrapper:e.querySelector(".select-list-wrapper"),optionListSlot:e.querySelector(".select-list-wrapper .select-list slot"),arrowIcon:e.querySelector(".arrow-icon"),label:{wrapper:e.querySelector("label"),text:e.querySelector("label .label-value")},emptyListPlaceholder:e.querySelector(".empty-list-placeholder")},this.#c(),this.#q()}#c(){this.elements.input.addEventListener("change",(e=>{this.#F(e)})),this.elements.input.addEventListener("keypress",this.#H.bind(this)),this.elements.input.addEventListener("keyup",this.#B.bind(this)),this.elements.input.addEventListener("beforeinput",this.#$.bind(this)),this.elements.input.addEventListener("input",(e=>{this.#R(e)})),this.elements.input.addEventListener("focus",this.#N.bind(this)),this.elements.input.addEventListener("blur",this.#Z.bind(this)),this.elements.arrowIcon.addEventListener("click",this.#_.bind(this)),this.addEventListener("select",this.#G.bind(this)),this.addEventListener("jb-option-connected",this.#J.bind(this)),this.elements.optionListSlot.addEventListener("slotchange",this.#Q.bind(this))}#n(){this.textValue="",this.value=this.getAttribute("value")||null}static get observedAttributes(){return["label","message","value","required","placeholder","search-placeholder","error"]}attributeChangedCallback(e,t,i){this.#h(e,i)}#h(e,t){switch(e){case"label":this.elements.label.text.innerHTML=t,null==t||null==t||""==t?this.elements.label.wrapper.classList.add("--hide"):this.elements.label.wrapper.classList.remove("--hide");break;case"message":this.elements.messageBox.innerHTML=t;break;case"value":this.#E(t);break;case"required":this.required=""===t||"true"==t||"True"==t;break;case"placeholder":this.placeholder=t;break;case"search-placeholder":this.searchPlaceholder=t;break;case"error":this.reportValidity()}}#q(){Array.from(this.#u).some((e=>0==e.hidden))?this.elements.emptyListPlaceholder.classList.remove("--show"):this.elements.emptyListPlaceholder.classList.add("--show")}#Q(e){this.#U(),this.#q()}#U(){this.#L?this.#E(this.#L)&&(this.#L=null):this.value&&this.#E(this.value)}#E(e){if(null==e)return this.#X(null,null),!0;let t=null;return this.#u.forEach((i=>{i.value==e&&(t=i)})),t?(this.#X(t.value,t),!0):(this.#L=e,!1)}#Y(e){this.#u.forEach((e=>e.selected=!1)),e&&(e.selected=!0,this.#k=e)}#X(e,t){this.#L=null,this.#i=e,null==e?(this.textValue="",this.#ee(null),this.#Y(null),this.elements.componentWrapper.classList.remove("--has-value"),this.isMobileDevice&&this.isOpen||(this.elements.input.placeholder=this.placeholder)):(this.textValue="",this.#Y(t),this.#ee(e),this.elements.componentWrapper.classList.add("--has-value"),this.isMobileDevice&&this.isOpen||(this.elements.input.placeholder="")),this.#C("")}#_(){this.isOpen?this.blur():this.focus()}#H(e){const t={altKey:e.altKey,bubbles:e.bubbles,cancelable:e.cancelable,code:e.code,composed:e.composed,ctrlKey:e.ctrlKey,detail:e.detail,isComposing:e.isComposing,key:e.key,location:e.location,metaKey:e.metaKey,view:e.view,repeat:e.repeat,shiftKey:e.shiftKey},i=new KeyboardEvent("keypress",t);this.dispatchEvent(i)}#$(e){}#R(e){const t=e.target.value;this.textValue=t,this.#te(t),this.#T.checkValidity({showError:!1}),this.#ie(e),this.#q()}#ie(e){const t=new InputEvent("input",{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed,data:e.data,dataTransfer:e.dataTransfer,detail:e.detail,inputType:e.inputType,isComposing:e.isComposing,targetRanges:e.getTargetRanges(),view:e.view});this.dispatchEvent(t)}#B(e){const t=e.target.value;"Backspace"!==e.key&&"Delete"!==e.key||this.#te(t),this.#oe(e)}#te(e){""!==e?this.elements.selectedValueWrapper.classList.add("--search-typed"):this.elements.selectedValueWrapper.classList.remove("--search-typed")}#oe(e){const t=new KeyboardEvent("keyup",{altKey:e.altKey,bubbles:e.bubbles,cancelable:e.cancelable,code:e.code,ctrlKey:e.ctrlKey,detail:e.detail,key:e.key,shiftKey:e.shiftKey,charCode:e.charCode,location:e.location,composed:e.composed,isComposing:e.isComposing,metaKey:e.metaKey,repeat:e.repeat,keyCode:e.keyCode,view:e.view});this.dispatchEvent(t)}#F(e){const t=e.target.value;this.#V=t}#N(){this.focus()}#Z(e){const t=e.relatedTarget;this.elements.optionListWrapper.contains(t)||this.elements.arrowIcon.contains(t)||this.blur()}focus(){this.elements.input.focus(),this.#se(),this.elements.componentWrapper.classList.add("--focused"),this.isMobileDevice&&(this.elements.input.placeholder=this.#S)}blur(){this.elements.componentWrapper.classList.remove("--focused"),this.textValue="",this.#te(""),this.#le(),this.#T.checkValidity({showError:!0}),this.isMobileDevice&&(this.value?this.elements.input.placeholder="":this.elements.input.placeholder=this.placeholder),this.elements.input.blur()}#se(){this.elements.optionListWrapper.classList.add("--show")}#le(){this.elements.optionListWrapper.classList.remove("--show")}#C(e){const t=new CustomEvent("filter-change",{detail:{filterText:e},bubbles:!1,cancelable:!1,composed:!1});this.dispatchEvent(t)}#G(e){const t=this.#i,o=this.#k,s=e.composedPath()[0];if(s instanceof i){const i=s.value;this.#ne(i,s),this.blur(),this.#ae().defaultPrevented&&(e.preventDefault(),this.#ne(t,o))}}#J(e){e.stopPropagation();const t=e.composedPath()[0];t.addEventListener("jb-option-disconnected",this.#re.bind(this),{once:!0,passive:!0}),t.setSelectElement(this),this.#u.add(t),this.#L&&this.#U(),this.#q()}#re(e){e.stopPropagation();const t=e.target;this.#u.delete(t),this.#q(),t.value==this.#i&&this.#U()}#ne(e,t){this.#X(e,t),this.#ce(!0)}showValidationError(e){const t="string"==typeof e?e:e.message;this.elements.messageBox.innerHTML=t,this.elements.messageBox.classList.add("--error")}clearValidationError(){this.elements.messageBox.innerHTML=this.getAttribute("message")||"",this.elements.messageBox.classList.remove("--error")}#ae(){const e=new Event("change",{bubbles:!0,cancelable:!0});return this.dispatchEvent(e),e}#ee(e){if(this.elements.selectedValueWrapper.innerHTML="",null!=e){const t=this.#de(e);this.elements.selectedValueWrapper.appendChild(t)}}#de(e){return"function"==typeof this.callbacks.getSelectedValueDOM?this.callbacks.getSelectedValueDOM(e,this.#k):this.#he()}#he(){let e=[];this.#k&&(e=this.#k.optionContent);const t=document.createElement("div");return t.classList.add("selected-value"),t.append(...e.map((e=>e.cloneNode()))),t}#I(){const e=[];if(null!==this.getAttribute("error")&&this.getAttribute("error").trim().length>0&&e.push({validator:void 0,message:this.getAttribute("error"),stateType:"customError"}),this.required){const t=`${this.getAttribute("label")||""} حتما باید انتخاب شود`;e.push({validator:({value:e})=>null!=e,message:t,stateType:"valueMissing"})}return e}#ce(e){if(!this.isAutoValidationDisabled)return this.#T.checkValidity({showError:e})}checkValidity(){const e=this.#T.checkValiditySync({showError:!1});if(!e.isAllValid){const e=new CustomEvent("invalid");this.dispatchEvent(e)}return e.isAllValid}reportValidity(){const e=this.#T.checkValiditySync({showError:!0});if(!e.isAllValid){const e=new CustomEvent("invalid");this.dispatchEvent(e)}return e.isAllValid}#P(e){if(e.isAllValid)this.#A?.setValidity({},"");else{const t={};let i="";e.validationList.forEach((e=>{e.isValid||(e.validation.stateType?t[e.validation.stateType]=!0:t.customError=!0,""==i&&(i=e.message))})),this.#A?.setValidity(t,i)}}get validationMessage(){return this.#A?.validationMessage||this.#T.resultSummary.message}};!customElements.get("jb-select")&&window.customElements.define("jb-select",d)}}]);