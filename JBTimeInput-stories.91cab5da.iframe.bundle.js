"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[144],{"../../web-component/jb-core/react/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_q:()=>r});var react=__webpack_require__("./node_modules/react/index.js");function r(n,u,c,l=!1){let o=(0,react.useCallback)((e=>{n.current&&"function"==typeof c&&c(e)}),[n,c]);(0,react.useEffect)((()=>{let e=n.current;return e&&e.addEventListener(u,o,{passive:l,capture:!1}),function(){e&&e.removeEventListener(u,o,{passive:l,capture:!1})}}),[n,u,c,l])}},"../../web-component/jb-popover/index.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var dist=__webpack_require__("../../web-component/jb-core/dist/index.js");function t(e,t,o,n){if("a"===o&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?n:"a"===o?n.call(e):n?n.value:t.get(e)}function o(e,t,o,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,o):s?s.value=o:t.set(e,o),o}var n,s,r,i,a,p,l,c,d,h,m=class extends HTMLElement{get JBID(){return t(this,r,"f")}get isOpen(){return t(this,s,"f")}get PopoverHashPath(){return this.id?`#${this.id}`:null}constructor(){super(),n.add(this),s.set(this,!1),r.set(this,Symbol()),i.set(this,!0),l.set(this,(o=>{this.isOpen&&(0,dist.Fr)()&&(this.close(),t(this,n,"m",p).call(this,"HISTORY_BACK_EVENT"))})),this.overflowHandler="NONE",this.overflowDom=null,c.set(this,(()=>{"SLIDE"==this.overflowHandler&&(this.elements.contentWrapper.style.transform="translateY(0px)")})),d.set(this,(()=>{if("SLIDE"==this.overflowHandler){const e=this.elements.contentWrapper.getBoundingClientRect(),o=t(this,n,"m",h).call(this)-e.bottom;o<0&&(this.elements.contentWrapper.style.transform=`translateY(${o}px)`)}})),this.initWebComponent()}connectedCallback(){this.callOnLoadEvent(),t(this,n,"m",a).call(this),this.callOnInitEvent()}disconnectedCallback(){window.removeEventListener("popstate",t(this,l,"f"))}callOnLoadEvent(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)}callOnInitEvent(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)}initWebComponent(){const e=this.attachShadow({mode:"open"}),t=document.createElement("template");t.innerHTML='<style>.jb-popover-web-component{position:absolute;display:none;inset-block-start:64px;inset-inline-start:0;z-index:var(--jb-popover-z-index, 10);will-change:transform;transition:transform .3s 0s ease}@media(min-width: 320px)and (max-width: 479px){.jb-popover-web-component{inset-block-start:0;inset-inline-start:0;bottom:0;position:fixed;width:100vw;height:100dvh;background-color:rgba(0,0,0,.5);backdrop-filter:blur(5px);display:none;grid-template-rows:1fr auto;grid-template-columns:1fr;grid-template-areas:"." "content-wrapper";overflow-x:hidden}}.jb-popover-web-component.--opened{display:grid}.jb-popover-web-component .popover-content-wrapper{background-color:var(--jb-popover-bg-color, #fff);border-radius:var(--jb-popover-border-radius, 24px);padding:16px;box-shadow:12px 12px 16px 0 rgba(0,0,0,.25),-8px -8px 12px 0 hsla(0,0%,100%,.3);display:grid;align-items:center;justify-content:center;box-sizing:border-box;will-change:transform;transition:transform .3s 0s ease}@media(min-width: 320px)and (max-width: 479px){.jb-popover-web-component .popover-content-wrapper{border-radius:var(--jb-popover-border-radius, 24px) var(--jb-popover-border-radius, 24px) 0 0;grid-area:content-wrapper;padding:0;padding:32px 0}}</style>\n<div class="jb-popover-web-component">\n  <div class="popover-background"></div>\n  <div class="popover-content-wrapper">\n      <slot></slot>\n  </div>\n</div>',e.appendChild(t.content.cloneNode(!0)),this.elements={componentWrapper:e.querySelector(".jb-popover-web-component"),background:e.querySelector(".popover-background"),contentWrapper:e.querySelector(".popover-content-wrapper")}}checkInitialOpenness(){window.location.hash==`#${this.id}`&&(this.triggerUrlOpenEvent(),this.open())}triggerUrlOpenEvent(){const e=new CustomEvent("urlOpen",{bubbles:!0,composed:!0});this.dispatchEvent(e)}static get observedAttributes(){return["is-open","id"]}attributeChangedCallback(e,t,o){this.onAttributeChange(e,o)}onAttributeChange(e,o){switch(e){case"is-open":"true"==o?t(this,s,"f")||this.open():t(this,s,"f")&&this.close();break;case"id":this.id=o}}onBackgroundClick(){t(this,n,"m",p).call(this,"BACKGROUND_CLICK"),t(this,i,"f")&&this.close()}close(){o(this,s,!1,"f"),this.elements.componentWrapper.classList.remove("--opened"),this.elements.componentWrapper.classList.add("--closed"),"jb-popover-open"==window.history.state&&null!==this.PopoverHashPath&&(window.removeEventListener("popstate",t(this,l,"f")),window.location.hash==this.PopoverHashPath&&history.go(-1))}open(){o(this,s,!0,"f"),this.elements.componentWrapper.classList.remove("--closed"),this.elements.componentWrapper.classList.add("--opened"),(0,dist.Fr)()&&null!==this.PopoverHashPath&&(window.history.pushState("jb-popover-open","",this.PopoverHashPath),window.addEventListener("popstate",t(this,l,"f"),{once:!0}))}};s=new WeakMap,r=new WeakMap,i=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,n=new WeakSet,a=function(){this.elements.background.addEventListener("click",this.onBackgroundClick.bind(this)),this.elements.contentWrapper.addEventListener("mouseenter",t(this,d,"f")),this.elements.contentWrapper.addEventListener("mouseleave",t(this,c,"f"))},p=function(e){const t=new CustomEvent("close",{detail:{eventType:e}});this.dispatchEvent(t)},h=function(){return this.overflowDom?this.overflowDom.getBoundingClientRect().bottom:window.innerHeight},!customElements.get("jb-popover")&&window.customElements.define("jb-popover",m)},"./stories/JBTimeInput.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EventTestPage:()=>EventTestPage,FrontalZero:()=>FrontalZero,Normal:()=>Normal,OptionalMinute:()=>OptionalMinute,PersianNumber:()=>PersianNumber,RTLSample:()=>RTLSample,ValidationSample:()=>ValidationSample,WebComponentEventTestPage:()=>WebComponentEventTestPage,__namedExportsOrder:()=>__namedExportsOrder,default:()=>JBTimeInput_stories,withValue:()=>withValue,withoutSecond:()=>withoutSecond});var react=__webpack_require__("./node_modules/react/index.js"),jb_validation=(__webpack_require__("../../web-component/jb-time-picker/index.js"),__webpack_require__("../../web-component/jb-input/index.js"),__webpack_require__("../../web-component/jb-popover/index.js"),__webpack_require__("../../web-component/jb-validation/index.js")),dist=__webpack_require__("../../web-component/jb-core/dist/index.js");function n(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)}function s(e,t,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(e,i):s?s.value=i:t.set(e,i),i}var a,o,l,r,u,h,c,m,d,p,b,f,v,g,k,w,E,y,N,P,V,R,S,T,j,C,$,A,L,M,x,I,F,U,B,W,D,q,H,Z=class extends HTMLElement{static get formAssociated(){return!0}get value(){return this.elements.input.value}set value(e){n(this,a,"m",F).call(this,e)&&(this.elements.input.value=e,n(this,m,"f")&&n(this,m,"f").setFormValue(e))}get isAutoValidationDisabled(){return""===this.getAttribute("disable-auto-validation")||"true"===this.getAttribute("disable-auto-validation")}get validation(){return n(this,l,"f")}get hourString(){return this.elements.input.value.slice(n(this,a,"a",r).hourRange[0],n(this,a,"a",r).hourRange[1]+1)}get hour(){let e=this.hourString;return isNaN(Number(e))&&(e="0"),Number(e)}set hour(e){if(this.hour!==e){let t=e;t<0&&(t=0),t>24&&(t=24);const i=t>9?`${t}`:`0${t}`;this.elements.input.value=`${i}${this.elements.input.value.slice(n(this,a,"a",r).hourRange[1]+1)}`,this.updateTimePickerValue(t,this.minute,this.second)}}get minuteString(){return this.elements.input.value.slice(n(this,a,"a",r).minuteRange[0],n(this,a,"a",r).minuteRange[1]+1)}get minute(){let e=this.minuteString;return isNaN(Number(e))&&(e="0"),parseInt(e)}set minute(e){if(this.minute!==e){let t=e;t<0&&(t=0),t>59&&(t=59);const i=t>9?`${t}`:`0${t}`;this.elements.input.value=`${this.elements.input.value.slice(0,n(this,a,"a",r).minuteRange[0])}${i}${this.elements.input.value.slice(n(this,a,"a",r).minuteRange[1]+1)}`,this.updateTimePickerValue(this.hour,t,this.second)}}get secondString(){return null!==n(this,a,"a",r).secondRange[0]&&null!==n(this,a,"a",r).secondRange[1]?this.elements.input.value.slice(n(this,a,"a",r).secondRange[0],n(this,a,"a",r).secondRange[1]+1):""}get second(){if(this.secondEnabled){let e=this.secondString;return isNaN(Number(e))&&(e="0"),parseInt(e)}return null}set second(e){if(this.secondEnabled&&null!==e&&this.second!==e){let t=Math.floor(Number(e));t<0&&(t=0),t>59&&(t=59);const i=t>9?`${t}`:`0${t}`;n(this,a,"a",r).secondRange[0]&&(this.elements.input.value=`${this.elements.input.value.slice(0,n(this,a,"a",r).secondRange[0])}${i}`,this.updateTimePickerValue(this.hour,this.minute,t))}}get showTimePicker(){return n(this,u,"f")}set showTimePicker(e){s(this,u,e,"f"),1==e?this.elements.timePicker.wrapper.open():this.elements.timePicker.wrapper.close()}get secondEnabled(){return n(this,h,"f")}set secondEnabled(e){"boolean"==typeof e&&(s(this,h,e,"f"),this.elements.timePicker.component.secondEnabled=e,0==e?n(this,a,"m",W).call(this):n(this,a,"m",D).call(this))}get showPersianNumber(){return n(this,c,"f")}set showPersianNumber(e){s(this,c,Boolean(e),"f"),this.elements.timePicker.component.showPersianNumber=e,this.value=`${this.value}`}set required(e){s(this,d,e,"f"),n(this,l,"f").checkValiditySync({showError:!1})}get required(){return n(this,d,"f")}set optionalUnits(e){this.elements.timePicker.component.optionalUnits=e}get optionalUnits(){return this.elements.timePicker.component.optionalUnits}set frontalZero(e){this.elements.timePicker.component.frontalZero=e}get frontalZero(){return this.elements.timePicker.component.frontalZero}constructor(){super(),a.add(this),l.set(this,new jb_validation.EQ({clearValidationError:this.clearValidationError.bind(this),getValue:n(this,a,"m",q).bind(this),getValidations:()=>[],getValueString:()=>this.value,setValidationResult:n(this,a,"m",H).bind(this),showValidationError:this.showValidationError.bind(this)})),u.set(this,!1),h.set(this,!0),c.set(this,!1),m.set(this,null),d.set(this,!1),p.set(this,null),"function"==typeof this.attachInternals&&s(this,m,this.attachInternals(),"f"),n(this,a,"m",v).call(this)}connectedCallback(){n(this,a,"m",b).call(this),n(this,a,"m",k).call(this),n(this,a,"m",f).call(this)}static get observedAttributes(){return["label","message","value","name","close-button-text","frontal-zero"]}attributeChangedCallback(e,t,i){n(this,a,"m",E).call(this,e,i)}addHour(e){const t=this.hour+e;this.hour=t}addMinute(e){const t=this.minute+e;this.minute=t}addSecond(e){const t=(this.second||0)+e;this.second=t}showValidationError(e){this.elements.input.showValidationError(e)}clearValidationError(){this.elements.input.clearValidationError()}focus(){this.elements.input.focus()}updateTimePickerValue(e,t,i){const n={hour:e,minute:t};this.secondEnabled&&null!=i&&(n.second=i),this.elements.timePicker.component.value=n}checkValidity(){const e=n(this,l,"f").checkValiditySync({showError:!1});if(!e.isAllValid){const e=new CustomEvent("invalid");this.dispatchEvent(e)}return e.isAllValid}reportValidity(){const e=n(this,l,"f").checkValiditySync({showError:!0});if(!e.isAllValid){const e=new CustomEvent("invalid");this.dispatchEvent(e)}return e.isAllValid}get validationMessage(){return n(this,m,"f").validationMessage}};l=new WeakMap,u=new WeakMap,h=new WeakMap,c=new WeakMap,m=new WeakMap,d=new WeakMap,p=new WeakMap,a=new WeakSet,o=function(e){if(!this.isAutoValidationDisabled)return n(this,l,"f").checkValidity({showError:e})},r=function(){let e=[2],t=[null,null],i=4;return this.secondEnabled&&(t=[6,7],e=[2,5],i=7),{dividerRange:e,hourRange:[0,1],minuteRange:[3,4],secondRange:t,maxCaretPos:i}},b=function(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)},f=function(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)},v=function(){const e=this.attachShadow({mode:"open",delegatesFocus:!0}),t=document.createElement("template");t.innerHTML='<style>:host(:focus),:host(:focus-visible){outline:none}.jb-time-input-web-component{width:100%;margin:var(--jb-time-input-margin, 12px 0);position:relative}.jb-time-input-web-component jb-popover .close-time-picker-button{width:auto;padding:8px 16px;background-color:rgba(40,82,189,0);border:none;border-radius:8px;font-family:inherit;cursor:pointer;transition:all .3s 0s ease}.jb-time-input-web-component jb-popover .close-time-picker-button:hover{background-color:rgba(40,82,189,.0588235294)}.jb-time-input-web-component jb-popover .close-time-picker-button:focus{outline:none}</style>\n<div class="jb-time-input-web-component">\n    <jb-input disable-auto-validation></jb-input>\n    <jb-popover>\n        <jb-time-picker tabindex="0"></jb-time-picker>\n        <button class="close-time-picker-button">close</button>\n    </jb-popover>\n    \n</div>',e.appendChild(t.content.cloneNode(!0)),this.elements={input:e.querySelector("jb-input"),timePicker:{wrapper:e.querySelector("jb-popover"),component:e.querySelector("jb-time-picker"),closeButton:e.querySelector(".close-time-picker-button")}},this.elements.input.setAttribute("inputmode","none"),this.elements.input.setAttribute("virtualkeyboardpolicy","manual"),n(this,a,"m",g).call(this)},g=function(){this.elements.input.addEventListener("keydown",n(this,a,"m",P).bind(this)),this.elements.input.addEventListener("keyup",n(this,a,"m",A).bind(this)),this.elements.input.addEventListener("change",n(this,a,"m",M).bind(this)),this.elements.input.addEventListener("keypress",n(this,a,"m",C).bind(this)),this.elements.input.addEventListener("beforeinput",n(this,a,"m",T).bind(this),{}),this.elements.input.addEventListener("focus",n(this,a,"m",x).bind(this)),this.elements.input.addEventListener("blur",n(this,a,"m",I).bind(this)),this.elements.timePicker.component.addEventListener("change",n(this,a,"m",U).bind(this)),this.elements.timePicker.closeButton.addEventListener("click",(()=>{this.showTimePicker=!1})),this.elements.timePicker.component.addEventListener("blur",n(this,a,"m",B).bind(this))},k=function(){n(this,a,"m",w).call(this),this.elements.input.addEventListener("init",(()=>{this.elements.input.addStandardValueCallback(n(this,a,"m",y).bind(this))}))},w=function(){const e="00:00";this.secondEnabled&&e.concat(":00"),this.value=e},E=function(e,t){switch(e){case"label":this.elements.input.setAttribute("label",t);break;case"message":this.elements.input.setAttribute("message",t);break;case"value":this.value=t;break;case"name":this.elements.input.setAttribute("name",t);break;case"close-button-text":this.elements.timePicker.closeButton.innerHTML=t;break;case"frontal-zero":this.frontalZero=Boolean(t)}},y=function(e,i,n){let s=e;return this.showPersianNumber&&(s=(0,dist.A1)(s)),{displayValue:s,value:e}},N=function(e,t){const{dividerRange:i,hourRange:s,minuteRange:o,secondRange:l}=n(this,a,"a",r);if(!i.includes(t)||(t++,":"!=e))if(s[0]!=t){if(s[1]==t){const t=isNaN(Number(this.elements.input.value[s[0]]))?"0":this.elements.input.value[s[0]];this.hour=parseInt(t+e)}if(o[0]!=t){if(o[1]==t){const t=isNaN(Number(this.elements.input.value[o[0]]))?"0":this.elements.input.value[o[0]];this.minute=parseInt(t+e)}if(this.secondEnabled){if(l[0]==t&&null!==l[1]){const t=isNaN(Number(this.elements.input.value[l[1]]))?"0":this.elements.input.value[l[1]];return void(this.second=parseInt(e+t))}if(l[1]==t&&null!==l[0]){const t=isNaN(Number(this.elements.input.value[l[0]]))?"0":this.elements.input.value[l[0]];this.second=parseInt(t+e)}}}else{const t=isNaN(Number(this.elements.input.value[o[1]]))?"0":this.elements.input.value[o[1]];this.minute=parseInt(e+t)}}else{const t=isNaN(Number(this.elements.input.value[s[1]]))?"0":this.elements.input.value[s[1]];this.hour=parseInt(e+t)}},P=function(e){const{hourRange:t,minuteRange:i,secondRange:s}=n(this,a,"a",r),o=e.target.selectionStart;if(38==e.keyCode||40==e.keyCode){let n=0;38==e.keyCode&&(n=1),40==e.keyCode&&(n=-1),null!=o&&[...t,t[1]+1].includes(o)&&(this.elements.timePicker.component.setTimeUnitFocus("hour"),this.addHour(n),this.elements.input.setSelectionRange(t[0],t[1]+1)),o&&[...i,i[1]+1].includes(o)&&(this.elements.timePicker.component.setTimeUnitFocus("minute"),this.addMinute(n),this.elements.input.setSelectionRange(i[0],i[1]+1)),this.secondEnabled&&null!==s[1]&&[...s,s[1]+1].includes(o)&&(this.elements.timePicker.component.setTimeUnitFocus("second"),this.addSecond(n),this.elements.input.setSelectionRange(s[0],s[1]+1)),e.preventDefault()}n(this,a,"m",V).call(this,e)},V=function(e){const t={...e,cancelable:!1},i=new KeyboardEvent("keydown",t);this.dispatchEvent(i)},R=function(e){n(this,a,"m",o).call(this,!1),n(this,a,"m",S).call(this,e)},S=function(e){const t={...e,cancelable:!1},i=new InputEvent("input",t);this.dispatchEvent(i)},T=function(e){const t=e.target;let s=t.selectionStart||0;const{dividerRange:o,hourRange:l,minuteRange:u,secondRange:h,maxCaretPos:c}=n(this,a,"a",r),m=e=>{if(!Number.isNaN(Number(e))){if(o.includes(s)&&(s++,t.setSelectionRange(s,s)),s>c&&(s=c),l.includes(s))if(this.elements.timePicker.component.setTimeUnitFocus("hour"),s==l[0])if(e>"2")this.hour=Number(e),s++;else{const t=isNaN(Number(this.elements.input.value[l[1]]))?"0":this.elements.input.value[l[1]];this.hour=parseInt(e+t)}else{e>"4"&&"2"==this.elements.input.value[l[0]]&&(e="4");const t=isNaN(Number(this.elements.input.value[l[0]]))?"0":this.elements.input.value[l[0]];this.hour=parseInt(t+e)}u.includes(s)&&(this.elements.timePicker.component.setTimeUnitFocus("minute"),s==u[0]&&e>"5"&&(n(this,a,"m",N).call(this,"0",s),s++),n(this,a,"m",N).call(this,e,s)),this.secondEnabled&&h.includes(s)&&(this.elements.timePicker.component.setTimeUnitFocus("second"),s==h[0]&&e>"5"&&(n(this,a,"m",N).call(this,"0",s),s++),n(this,a,"m",N).call(this,e,s))}},d=(0,dist.gx)(e.data);if(["deleteContentBackward","deleteContentForward","delete","deleteByCut","deleteByDrag"].includes(e.inputType)){if(null==s||0==s)return;o.map((e=>e+1)).includes(s)||n(this,a,"m",N).call(this,"0",s-1),e.target.setSelectionRange(s-1,s-1),e.preventDefault()}else if("string"==typeof d){if("insertText"==e.inputType){for(const e of d)m(e);t.setSelectionRange(s+1,s+1),e.preventDefault()}"insertFromPaste"==e.inputType&&(n(this,a,"m",j).call(this,d),e.preventDefault())}n(this,a,"m",R).call(this,e)},j=function(e){const t=this.elements.input.selectionStart,{maxCaretPos:i}=n(this,a,"a",r),s=i+1-t;e.replace(/[^0-9:]/g,"").slice(0,s).split("").forEach(((e,i)=>{n(this,a,"m",N).call(this,e,t+i)}))},C=function(e){n(this,a,"m",$).call(this,e)},$=function(e){const t={...e,cancelable:!1},i=new KeyboardEvent("keypress",t);this.dispatchEvent(i)},A=function(e){const t={...e,cancelable:!1},i=new KeyboardEvent("keyup",t);this.dispatchEvent(i),13==e.keyCode&&n(this,a,"m",L).call(this)},L=function(){const e=new CustomEvent("enter");this.dispatchEvent(e)},M=function(){const e=this.value;n(this,a,"m",o).call(this,!0),n(this,a,"m",F).call(this,e)||(n(this,p,"f")?this.value=n(this,p,"f"):n(this,a,"m",w).call(this)),s(this,p,this.value,"f");const t=new Event("change");this.dispatchEvent(t)},x=function(e){s(this,p,this.value,"f"),this.showTimePicker=!0;const t=new FocusEvent("focus",{...e});this.dispatchEvent(t)},I=function(e){e.relatedTarget!==this.elements.timePicker.component&&(this.showTimePicker=!1),n(this,p,"f")!==this.value&&n(this,a,"m",M).call(this);const t=new FocusEvent("blur");this.dispatchEvent(t)},F=function(e){let t;return t=this.secondEnabled?/^(?<hour>[01]\d|[2][01234]):(?<minute>[012345]\d):(?<second>[012345]\d)$/g:/^(?<hour>[01]\d|[2][01234]):(?<minute>[012345]\d)$/g,t.test(e)},U=function(e){const{hour:t,minute:i,second:n}=e.target.value;this.hour=t,this.minute=i,this.secondEnabled&&(this.second=n)},B=function(e){e.relatedTarget!==this.elements.input&&(this.showTimePicker=!1,n(this,p,"f")!==this.value&&n(this,a,"m",M).call(this))},W=function(){this.value=`${this.hourString}:${this.minuteString}`},D=function(){this.value=`${this.hourString}:${this.minuteString}:${this.secondString}`},q=function(){return{displayValue:this.elements.input.displayValue,value:this.elements.input.value,valueObject:{hour:this.hour,minute:this.minute,second:this.second}}},H=function(e){if(e.isAllValid)n(this,m,"f").setValidity({},"");else{const t={};let i="";e.validationList.forEach((e=>{e.isValid||(e.validation.stateType&&(t[e.validation.stateType]=!0),""==i&&(i=e.message))})),n(this,m,"f").setValidity(t,i)}},!customElements.get("jb-time-input")&&window.customElements.define("jb-time-input",Z);var jb_core_react=__webpack_require__("../../web-component/jb-core/react/index.js");let JBTimeInput_l=react.forwardRef(((l,i)=>{let s=(0,react.useRef)(null),[u,c]=(0,react.useState)(0);return(0,react.useImperativeHandle)(i,(()=>s?s.current:{}),[s]),(0,react.useEffect)((()=>{c(u+1)}),[s.current]),(0,react.useEffect)((()=>{let e=l.value;(null==l.value||void 0===l.value)&&(e="00:00:00"),s.current.value=e}),[l.value]),(0,react.useEffect)((()=>{Array.isArray(l.validationList)&&s.current&&(s.current.validation.list=l.validationList)}),[l.validationList]),(0,react.useEffect)((()=>{s.current,null!==l.secondEnabled&&void 0!==l.secondEnabled&&(s.current.secondEnabled=l.secondEnabled)}),[l.secondEnabled]),(0,react.useEffect)((()=>{"boolean"==typeof l.frontalZero&&(s.current.frontalZero=l.frontalZero)}),[l.frontalZero]),(0,react.useEffect)((()=>{Array.isArray(l.optionalUnits)&&(s.current.optionalUnits=l.optionalUnits)}),[l.optionalUnits]),(0,react.useEffect)((()=>{null!==l.showPersianNumber&&void 0!==l.showPersianNumber&&(s.current.showPersianNumber=l.showPersianNumber)}),[l.showPersianNumber]),(0,jb_core_react._q)(s,"load",l.onLoad,!0),(0,jb_core_react._q)(s,"init",l.onInit,!0),(0,jb_core_react._q)(s,"change",l.onChange),(0,jb_core_react._q)(s,"keydown",l.onKeyDown),(0,jb_core_react._q)(s,"input",l.onInput),(0,jb_core_react._q)(s,"keyup",l.onKeyUp),(0,jb_core_react._q)(s,"focus",l.onFocus),(0,jb_core_react._q)(s,"blur",l.onBlur),(0,jb_core_react._q)(s,"beforeinput",l.onBeforeinput),(0,jb_core_react._q)(s,"keypress",l.onKeyPress),(0,jb_core_react._q)(s,"enter",l.onEnter),react.createElement("jb-time-input",{placeholder:l.placeholder,ref:s,class:l.className,label:l.label,message:l.message,"close-button-text":l.closeButtonText})}));function JBTimeInputEventTestPage(props){const element=(0,react.useRef)(),[value,setValue]=(0,react.useState)();return react.createElement("div",null,react.createElement(JBTimeInput_l,{ref:element,label:"date",value,onChange:e=>setValue(e.target.value)}),react.createElement("span",null,"value:",value),react.createElement("br",null),react.createElement("button",{onClick:()=>setValue("12:48:00")},"set value to 12:48"),react.createElement("button",{onClick:()=>setValue("00:00:00")},"set value to 00:00"))}JBTimeInput_l.displayName="JBTimeInput",JBTimeInputEventTestPage.propTypes={};const jb_time_input_JBTimeInputEventTestPage=JBTimeInputEventTestPage;function JBTimeInputWebComponentEventTestPage(props){const element=(0,react.useRef)(),withoutSecondElement=(0,react.useRef)(),[value,setValue]=(0,react.useState)(),[wsvalue,setwsValue]=(0,react.useState)();return(0,react.useEffect)((()=>{element.current&&element.current.addEventListener("change",(e=>{setValue(e.target.value)}))}),[element.current]),(0,react.useEffect)((()=>{withoutSecondElement.current&&(withoutSecondElement.current.addEventListener("change",(e=>{setwsValue(e.target.value)})),withoutSecondElement.current.secondEnabled=!1)}),[withoutSecondElement.current]),react.createElement("div",null,react.createElement("jb-time-input",{ref:element,label:"date"}),react.createElement("span",null,"value:",value),react.createElement("h3",null,"without second"),react.createElement("jb-time-input",{ref:withoutSecondElement}),react.createElement("span",null,"value:",wsvalue))}JBTimeInputEventTestPage.__docgenInfo={description:"",methods:[],displayName:"JBTimeInputEventTestPage"},JBTimeInputWebComponentEventTestPage.propTypes={};const jb_time_input_JBTimeInputWebComponentEventTestPage=JBTimeInputWebComponentEventTestPage;JBTimeInputWebComponentEventTestPage.__docgenInfo={description:"",methods:[],displayName:"JBTimeInputWebComponentEventTestPage"};const JBTimeInput_stories={title:"Example/form elements/Inputs/JBTimeInput",component:JBTimeInput_l},Normal={args:{label:"time"}},PersianNumber={args:{label:"time",showPersianNumber:!0}},withValue={args:{label:"time",value:"13:24:48"}},RTLSample={args:{label:"زمان",closeButtonText:"بستن"},parameters:{themes:{themeOverride:"rtl"}}},WebComponentEventTestPage={render:()=>react.createElement(jb_time_input_JBTimeInputWebComponentEventTestPage,null)},EventTestPage={render:()=>react.createElement(jb_time_input_JBTimeInputEventTestPage,null)},ValidationSample={args:{label:"time:",validationList:[{validator:/^[1][1234].*$/g,message:"hour  must be between 11 and 14"},{validator:({displayValue,value,valueObject})=>!(valueObject.minute&&valueObject.minute<30),message:"minute must be 30 to 60"}]}},withoutSecond={args:{label:"time",secondEnabled:!1}},FrontalZero={args:{label:"time",closeButtonText:"بستن",frontalZero:!0}},OptionalMinute={args:{label:"زمان",closeButtonText:"بستن",optionalUnits:["minute"]}},__namedExportsOrder=["Normal","PersianNumber","withValue","RTLSample","WebComponentEventTestPage","EventTestPage","ValidationSample","withoutSecond","FrontalZero","OptionalMinute"];Normal.parameters={...Normal.parameters,docs:{...Normal.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'time'\n  }\n}",...Normal.parameters?.docs?.source}}},PersianNumber.parameters={...PersianNumber.parameters,docs:{...PersianNumber.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'time',\n    showPersianNumber: true\n  }\n}",...PersianNumber.parameters?.docs?.source}}},withValue.parameters={...withValue.parameters,docs:{...withValue.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'time',\n    value: \"13:24:48\"\n  }\n}",...withValue.parameters?.docs?.source}}},RTLSample.parameters={...RTLSample.parameters,docs:{...RTLSample.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'زمان',\n    closeButtonText: 'بستن'\n  },\n  parameters: {\n    themes: {\n      themeOverride: 'rtl'\n    }\n  }\n}",...RTLSample.parameters?.docs?.source}}},WebComponentEventTestPage.parameters={...WebComponentEventTestPage.parameters,docs:{...WebComponentEventTestPage.parameters?.docs,source:{originalSource:"{\n  render: () => <JBTimeInputWebComponentEventTestPage />\n}",...WebComponentEventTestPage.parameters?.docs?.source}}},EventTestPage.parameters={...EventTestPage.parameters,docs:{...EventTestPage.parameters?.docs,source:{originalSource:"{\n  render: () => <JBTimeInputEventTestPage />\n}",...EventTestPage.parameters?.docs?.source}}},ValidationSample.parameters={...ValidationSample.parameters,docs:{...ValidationSample.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'time:',\n    validationList: [{\n      validator: /^[1][1234].*$/g,\n      message: \"hour  must be between 11 and 14\"\n    }, {\n      validator: ({\n        displayValue,\n        value,\n        valueObject\n      }) => {\n        if (valueObject.minute && valueObject.minute < 30) {\n          return false;\n        }\n        return true;\n      },\n      message: 'minute must be 30 to 60'\n    }]\n  }\n}",...ValidationSample.parameters?.docs?.source}}},withoutSecond.parameters={...withoutSecond.parameters,docs:{...withoutSecond.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'time',\n    secondEnabled: false\n  }\n}",...withoutSecond.parameters?.docs?.source}}},FrontalZero.parameters={...FrontalZero.parameters,docs:{...FrontalZero.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'time',\n    closeButtonText: 'بستن',\n    frontalZero: true\n  }\n}",...FrontalZero.parameters?.docs?.source}}},OptionalMinute.parameters={...OptionalMinute.parameters,docs:{...OptionalMinute.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'زمان',\n    closeButtonText: 'بستن',\n    optionalUnits: ['minute']\n  }\n}",...OptionalMinute.parameters?.docs?.source}}}}}]);