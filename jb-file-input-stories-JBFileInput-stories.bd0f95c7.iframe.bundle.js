"use strict";(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[260],{"../../web-component/jb-core/react/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_q:()=>r});var react=__webpack_require__("./node_modules/react/index.js");function r(n,u,c,l=!1){let o=(0,react.useCallback)((e=>{n.current&&"function"==typeof c&&c(e)}),[n,c]);(0,react.useEffect)((()=>{let e=n.current;return e&&e.addEventListener(u,o,{passive:l,capture:!1}),function(){e&&e.removeEventListener(u,o,{passive:l,capture:!1})}}),[n,u,c,l])}},"../../web-component/jb-file-input/stories/JBFileInput.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Normal:()=>Normal,__namedExportsOrder:()=>__namedExportsOrder,default:()=>JBFileInput_stories});var react=__webpack_require__("./node_modules/react/index.js"),jb_validation=__webpack_require__("../../web-component/jb-validation/dist/jb-validation.js");function t(e){try{window.CSS.registerProperty({...e})}catch(e){}}const i={single:{black:"oklch(0.14 0 0)",white:"oklch(1 0 0)",highlight:"oklch(0.93 0.2302 125.18)"},primary:{main:"oklch(0.6 0.26 256)",hover:r(.6,.26,256),pressed:l(.6,.26,256),lighter:a(.6,.26,256)},secondary:{main:"oklch(0.6 0.26 286)",hover:r(.6,.26,286),pressed:l(.6,.26,286),lighter:a(.6,.26,286)},neutral:[n(0),n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10)],yellow:{main:"oklch(0.75 0.18 70)",hover:r(.75,.18,70),pressed:l(.75,.18,70),lighter:a(.75,.18,70)},green:{main:"oklch(0.68 0.1484 162.1)",hover:r(.68,.1484,162.1),pressed:l(.68,.1484,162.1),lighter:a(.68,.1484,162.1)},red:{main:"oklch(0.6 0.22 23.21)",hover:r(.6,.22,23.21),pressed:l(.6,.22,23.21),lighter:a(.6,.22,23.21)}};function n(e){return`oklch(${6*(3+1.3*e)*.01} ${.001*(14+.09*e)} 258.36)`}function r(e,t,i){return`oklch(${e+.07} ${t+.07} ${i})`}function l(e,t,i){return`oklch(${e-.1} ${t-.05} ${i})`}function a(e,t,i){const n=Math.min(e+.12*(1-e),.985),r=t*(1-.15*(n-e));return`oklch(${n.toFixed(3)} ${r.toFixed(3)} ${i})`}var o=class extends HTMLElement{#e=null;#t;#i=!1;set required(e){this.#i=e,this.#n.checkValidity({showError:!1})}get required(){return this.#i}#r;#l="empty";#a="application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint, text/plain, application/pdf, image/*";get acceptTypes(){return this.#a}set acceptTypes(e){e&&(this.#a=e,this.#t.virtualInput.accept=e)}get value(){return this.#e}set value(e){null==e?this.resetValue():this.#e=e}get status(){return this.#e}get selectedFileType(){return this.#e?(this.#e.type,null):null}#n=new jb_validation.EQ({clearValidationError:this.clearValidationError.bind(this),getValue:()=>({file:this.#e}),getValidations:this.#o.bind(this),getValueString:e=>e.file.name,setValidationResult:this.#s.bind(this),showValidationError:this.showValidationError.bind(this)});get validation(){return this.#n}#c=!1;get isAutoValidationDisabled(){return this.#c}set isAutoValidationDisabled(e){this.#c=e}constructor(){super(),"function"==typeof this.attachInternals&&(this.#r=this.attachInternals()),this.initWebComponent(),this.initProp(),this.registerEventListener()}initWebComponent(){const e=this.attachShadow({mode:"open",delegatesFocus:!0,slotAssignment:"named"});(function(){t({name:"--jb-primary",syntax:"<color>",inherits:!0,initialValue:i.primary.main}),t({name:"--jb-secondary",syntax:"<color>",inherits:!0,initialValue:i.secondary.main}),t({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:"oklch(0.18 0.014 258.36)"}),t({name:"--jb-black",syntax:"<color>",inherits:!0,initialValue:i.single.black}),t({name:"--jb-white",syntax:"<color>",inherits:!0,initialValue:i.single.white}),t({name:"--jb-highlight",syntax:"<color>",inherits:!0,initialValue:i.single.highlight}),t({name:"--jb-yellow",syntax:"<color>",inherits:!0,initialValue:i.yellow.main}),t({name:"--jb-green",syntax:"<color>",inherits:!0,initialValue:i.green.main}),t({name:"--jb-red",syntax:"<color>",inherits:!0,initialValue:i.red.main}),t({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:n(0)});for(let e=1;e<=10;e++)t({name:`--jb-neutral-${e}`,syntax:"<color>",inherits:!0,initialValue:i.neutral[e]})})(),t({name:"--jb-text-primary",syntax:"<color>",inherits:!0,initialValue:i.single.black}),t({name:"--jb-text-secondary",syntax:"<color>",inherits:!0,initialValue:n(7)}),t({name:"--jb-text-contrast",syntax:"<color>",inherits:!0,initialValue:i.single.white});const r=document.createElement("template");r.innerHTML='<style>:host{--bg-color: var(--jb-file-input-bg-color,var(--jb-neutral-10));--border-color-error:var(--jb-file-input-border-color-error,var(--jb-error));--bg-color-error:var(--jb-file-input-bg-color-error,var(--jb-neutral-10));--icon-neutral-color:var(--jb-file-input-icon-neutral-color, var(--jb-neutral));--icon-primary-color:var(--jb-file-input-icon-primary-color, var(--jb-primary));--placeholder-title-color:var(--jb-file-input-placeholder-title-color, var(--jb-neutral));--file-name-color:var(--jb-file-input-file-name-color, var(--jb-neutral))}.jb-file-input-web-component{background-color:var(--bg-color);width:100%;height:100%;border-radius:24px;display:flex;justify-content:center;align-items:center;overflow:hidden;box-sizing:border-box}.jb-file-input-web-component.--has-error{border:solid 1px var(--border-color-error);border-bottom:solid 3px var(--border-color-error);background-color:var(--bg-color-error)}.jb-file-input-web-component[status=empty] .placeholder-wrapper{display:flex}.jb-file-input-web-component .placeholder-wrapper{width:100%;height:100%;display:none;cursor:pointer;justify-content:center;align-items:center;flex-direction:column;padding:32px}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg{width:64px;height:64px;fill:var(--icon-neutral-color)}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st0{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-miterlimit:10}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st1{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st2{fill:var(--icon-primary-color)}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st3{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .placeholder-wrapper .placeholder-title{color:var(--placeholder-title-color);font-variation-settings:"wght" 600}.jb-file-input-web-component[status=selected] .file-wrapper{display:flex}.jb-file-input-web-component .file-wrapper{width:100%;height:100%;display:none;cursor:pointer;justify-content:center;align-items:center;flex-direction:column;padding:32px}.jb-file-input-web-component .file-wrapper .icon-wrapper svg{width:64px;height:64px;fill:var(--icon-neutral-color)}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st0{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-miterlimit:10}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st1{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st2{fill:var(--icon-primary-color)}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st3{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .file-wrapper .file-name{color:var(--file-name-color);font-variation-settings:"wght" 600}</style>\n<div class="jb-file-input-web-component">\n    <div class="placeholder-wrapper">\n        <div class="icon-wrapper">\n            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;" xml:space="preserve">\n                <style type="text/css">\n\n                </style>\n                <path class="st0" d="M46.5,60.4H17.5c-4.4,0-8-3.6-8-8V11.6c0-4.4,3.6-8,8-8h29.1c4.4,0,8,3.6,8,8v40.8  C54.5,56.8,50.9,60.4,46.5,60.4z"/>\n                <path class="st1" d="M46.7,43.7"/>\n                <path class="st1" d="M18.4,43.7"/>\n                <line class="st1" x1="18.1" y1="43.7" x2="46.5" y2="43.7"/>\n                <line class="st1" x1="18.1" y1="50.7" x2="46.5" y2="50.7"/>\n                <line class="st1" x1="18.1" y1="36.7" x2="46.5" y2="36.7"/>\n                <path class="st2" d="M44.7,28.6c-2.2,0-4.2-0.8-5.8-2.4c-1.5-1.5-2.4-3.6-2.4-5.8c0-2.2,0.8-4.2,2.4-5.8L52.1,2.5   c1.2-1.2,2.8-1.9,4.6-1.9c1.7,0,3.4,0.7,4.6,1.9c2.5,2.5,2.5,6.7,0,9.2L49.8,22.4c-1.9,1.9-5,1.9-6.9,0c-0.9-0.9-1.4-2.2-1.4-3.5   c0-1.3,0.5-2.5,1.4-3.5l0,0l6.4-5.5c0.3-0.3,0.9-0.3,1.2,0.1c0.3,0.3,0.3,0.9-0.1,1.2l-6.4,5.5c-0.6,0.6-0.9,1.4-0.9,2.3   c0,0.9,0.3,1.7,0.9,2.3c1.3,1.3,3.3,1.3,4.6,0l11.6-10.6c1.9-1.9,1.9-4.9,0-6.8c-0.9-0.9-2.1-1.4-3.4-1.4c-1.3,0-2.5,0.5-3.4,1.4   L40.2,15.9c-1.2,1.2-1.9,2.8-1.9,4.6c0,1.7,0.7,3.4,1.9,4.6c1.2,1.2,2.8,1.9,4.6,1.9c1.7,0,3.4-0.7,4.6-1.9l11.8-11   c0.3-0.3,0.9-0.3,1.2,0c0.3,0.3,0.3,0.9,0,1.2l-11.8,11C49,27.8,46.9,28.6,44.7,28.6z"/>\n                <path class="st0" d="M29.2,30.2h-8.9c-1.2,0-2.1-1-2.1-2.1v-9.6c0-1.2,1-2.1,2.1-2.1h8.9c1.2,0,2.1,1,2.1,2.1v9.6  C31.3,29.3,30.3,30.2,29.2,30.2z"/>\n                <line class="st3" x1="54.5" y1="25.1" x2="54.5" y2="19.3"/>\n            </svg>\n        </div>\n        <div class="placeholder-title">انتخاب فایل</div>\n    </div>\n    <div class="file-wrapper">\n        <div class="icon-wrapper">\n            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;" xml:space="preserve">\n                <style type="text/css">\n\n                </style>\n                <path class="st0" d="M46.5,60.4H17.5c-4.4,0-8-3.6-8-8V11.6c0-4.4,3.6-8,8-8h29.1c4.4,0,8,3.6,8,8v40.8  C54.5,56.8,50.9,60.4,46.5,60.4z"/>\n                <path class="st1" d="M46.7,43.7"/>\n                <path class="st1" d="M18.4,43.7"/>\n                <line class="st1" x1="18.1" y1="43.7" x2="46.5" y2="43.7"/>\n                <line class="st1" x1="18.1" y1="50.7" x2="46.5" y2="50.7"/>\n                <line class="st1" x1="18.1" y1="36.7" x2="46.5" y2="36.7"/>\n                <path class="st2" d="M44.7,28.6c-2.2,0-4.2-0.8-5.8-2.4c-1.5-1.5-2.4-3.6-2.4-5.8c0-2.2,0.8-4.2,2.4-5.8L52.1,2.5   c1.2-1.2,2.8-1.9,4.6-1.9c1.7,0,3.4,0.7,4.6,1.9c2.5,2.5,2.5,6.7,0,9.2L49.8,22.4c-1.9,1.9-5,1.9-6.9,0c-0.9-0.9-1.4-2.2-1.4-3.5   c0-1.3,0.5-2.5,1.4-3.5l0,0l6.4-5.5c0.3-0.3,0.9-0.3,1.2,0.1c0.3,0.3,0.3,0.9-0.1,1.2l-6.4,5.5c-0.6,0.6-0.9,1.4-0.9,2.3   c0,0.9,0.3,1.7,0.9,2.3c1.3,1.3,3.3,1.3,4.6,0l11.6-10.6c1.9-1.9,1.9-4.9,0-6.8c-0.9-0.9-2.1-1.4-3.4-1.4c-1.3,0-2.5,0.5-3.4,1.4   L40.2,15.9c-1.2,1.2-1.9,2.8-1.9,4.6c0,1.7,0.7,3.4,1.9,4.6c1.2,1.2,2.8,1.9,4.6,1.9c1.7,0,3.4-0.7,4.6-1.9l11.8-11   c0.3-0.3,0.9-0.3,1.2,0c0.3,0.3,0.3,0.9,0,1.2l-11.8,11C49,27.8,46.9,28.6,44.7,28.6z"/>\n                <path class="st0" d="M29.2,30.2h-8.9c-1.2,0-2.1-1-2.1-2.1v-9.6c0-1.2,1-2.1,2.1-2.1h8.9c1.2,0,2.1,1,2.1,2.1v9.6  C31.3,29.3,30.3,30.2,29.2,30.2z"/>\n                <line class="st3" x1="54.5" y1="25.1" x2="54.5" y2="19.3"/>\n            </svg>\n        </div>\n        <div class="file-name"></div>\n    </div>\n</div>',e.appendChild(r.content.cloneNode(!0)),this.#t={componentWrapper:e.querySelector(".jb-file-input-web-component"),placeholderWrapper:e.querySelector(".placeholder-wrapper"),virtualInput:this.#p(),placeholderTitle:e.querySelector(".placeholder-title"),fileNameWrapper:e.querySelector(".file-wrapper .file-name")}}initProp(){this.setStatus("empty"),this.#e=null,this.#i=!1}registerEventListener(){this.#t.placeholderWrapper.addEventListener("click",this.openFileSelector.bind(this))}#p(){const e=document.createElement("input");return e.type="file",e.accept=this.acceptTypes,e.addEventListener("change",(e=>this.#h(e))),e}openFileSelector(){this.#t.virtualInput.click()}static get observedAttributes(){return["required","placeholder-title","accept"]}attributeChangedCallback(e,t,i){this.onAttributeChange(e,i)}onAttributeChange(e,t){switch(e){case"required":this.#i=""==t||"true"==t;break;case"placeholder-title":this.#t.placeholderTitle.innerHTML=t;break;case"accept":this.acceptTypes=t}}#h(e){const t=e.target;if(t.files&&t.files.length>0){const e=t.files[0];this.#e=e,this.#t.fileNameWrapper.innerHTML=e.name,this.setStatus("selected"),this._triggerOnChangeEvent()}}setStatus(e){this.#t.componentWrapper.setAttribute("status",e),this.#l=e}triggerInputValidation(e=!0){let t=null,i=!0;this.#i&&(i=null!=this.value,i||(t="REQUIRED"));const n=i;return n?this.clearValidationError():e&&t&&this.showValidationError(t),{isAllValid:n}}showValidationError(e){this.#t.componentWrapper.classList.add("--has-error")}clearValidationError(){this.#t.componentWrapper.classList.remove("--has-error")}resetValue(){this.#e=null,this.setStatus("empty"),this.#t.virtualInput.value=""}_triggerOnChangeEvent(){const e=new Event("change");this.dispatchEvent(e)}#o(){const e=[];if(this.#i){const t="فایل حتما باید انتخاب شود";e.push({validator:({file:e})=>null!==e,message:t,stateType:"valueMissing"})}return e}checkValidity(){const e=this.#n.checkValiditySync({showError:!1});if(!e.isAllValid){const e=new CustomEvent("invalid");this.dispatchEvent(e)}return e.isAllValid}reportValidity(){const e=this.#n.checkValiditySync({showError:!0});if(!e.isAllValid){const e=new CustomEvent("invalid");this.dispatchEvent(e)}return e.isAllValid}#s(e){if(e.isAllValid)this.#r.setValidity({},"");else{const t={};let i="";e.validationList.forEach((e=>{e.isValid||(e.validation.stateType&&(t[e.validation.stateType]=!0),""==i&&(i=e.message))})),this.#r.setValidity(t,i)}}get validationMessage(){return this.#r.validationMessage}};!customElements.get("jb-file-input")&&window.customElements.define("jb-file-input",o);var jb_core_react=__webpack_require__("../../web-component/jb-core/react/index.js");let JBFileInput_a=(0,react.forwardRef)(((r,a)=>{let n=(0,react.useRef)(null);return(0,react.useImperativeHandle)(a,(()=>n?n.current:void 0),[n]),(0,react.useEffect)((()=>{n.current&&r.acceptTypes&&(n.current.acceptTypes=r.acceptTypes)}),[r.acceptTypes]),(0,react.useEffect)((()=>{n.current&&r.placeholderTitle&&n.current.setAttribute("placeholder-title",r.placeholderTitle)}),[r.placeholderTitle]),(0,react.useEffect)((()=>{n.current&&r.required&&n.current.setAttribute("required",r.required?"true":"false")}),[r.required]),(0,jb_core_react._q)(n,"load",r.onLoad,!0),(0,jb_core_react._q)(n,"init",r.onInit,!0),(0,jb_core_react._q)(n,"change",r.onChange,!0),react.createElement("jb-file-input",{ref:n,class:r.className})}));JBFileInput_a.displayName="JBFileInput";const JBFileInput_stories={title:"Example/form elements/JBFileInput",component:JBFileInput_a},Normal={args:{}},__namedExportsOrder=["Normal"];Normal.parameters={...Normal.parameters,docs:{...Normal.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...Normal.parameters?.docs?.source}}}},"../../web-component/jb-validation/dist/jb-validation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function a(i,t,a){const l={validationList:[],isAllValid:!0},e=i=>{l.validationList.push(i),i.isValid||(l.isAllValid=!1)},n=i.filter((i=>!0===i.defer)),o=i.filter((i=>!0!==i.defer)),r=[];for(const i of o){const l=s(t,i,a);l instanceof Promise?r.push(l):e(l)}if(l.isAllValid)for(const i of n){const l=s(t,i,a);l instanceof Promise?r.push(l):e(l)}return{syncValidationResult:l,asyncList:r}}function s(i,t,a){let s,e=t.message;if(t.validator instanceof RegExp){const l="string"==typeof i?i:a(i);s=t.validator.test(l),t.validator.lastIndex=0}if("function"==typeof t.validator){const a=function l(i,t){function a(i){let t=null;return"string"==typeof i&&i.length>0&&(t=i),{isValid:"string"==typeof i?0==i.length:i,message:t}}const s=i(t);return s instanceof Promise?new Promise((i=>{s.then((t=>{i(a(t))}))})):a(s)}(t.validator,i);if(a instanceof Promise)return new Promise((i=>{a.then((a=>{i({isValid:a.isValid,message:a.message,validation:t})}))}));s=a.isValid,e=a.message??e}return void 0===t.validator&&(s=!1),s?{isValid:!0,message:"",validation:t}:{isValid:!1,message:e,validation:t}}__webpack_require__.d(__webpack_exports__,{EQ:()=>e});var e=class{#i=[];#t={isValid:null,message:null};get resultSummary(){return this.#t}result=null;#a={clearValidationError:[],getValue:()=>null,getValidations:[],getValueString:()=>"",setValidationResult:[],showValidationError:[]};get#s(){return[...this.#l(),...this.#i]}constructor(i){this.setCallbacks(i)}setCallbacks(i){Object.keys(i).forEach((t=>{"function"==typeof i[t]&&void 0!==this.#a[t]&&(Array.isArray(this.#a[t])?this.#a[t].push(i[t]):this.#a[t]=i[t])}))}get list(){return this.#i}set list(i){this.#i=i,this.checkValidity({showError:!1})}async checkValidity(i){const t=i?.value||await Promise.resolve(this.#a.getValue()),a=await this.#e(t);return this.#n(a,i),a}checkValiditySync(i){const t=i?.value||this.#a.getValue(),a=this.#o(t);return this.#n(a,i),a}#n(i,t){if(this.#t={isValid:i.isAllValid,message:null},i.isAllValid)this.#a.clearValidationError.forEach((i=>i()));else{const a=i.validationList.find((i=>!i.isValid));this.resultSummary.message=a.message,!1!==t?.showError&&this.#a.showValidationError.forEach((i=>i({message:a.message})))}this.result=i,this.#a.setValidationResult.forEach((t=>t(i)))}addValidationListGetter(i){this.#a.getValidations.push(i)}#l(){const i=[];return this.#a.getValidations.forEach((t=>{"function"==typeof t&&i.push(...t())})),i.flat()}async#e(i){return await async function t(i,t,s){const{syncValidationResult:l,asyncList:e}=a(i,t,s);for(const i of e){const t=await i;l.isAllValid=l.isAllValid&&t.isValid,l.validationList.push(t)}return l}(this.#s,i,this.#a.getValueString)}#o(t){return function i(i,t,s){const{syncValidationResult:l}=a(i,t,s);return l}(this.#s,t,this.#a.getValueString)}}}}]);