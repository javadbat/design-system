(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[896],{"../../web-component/jb-core/react/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_q:()=>r});var react=__webpack_require__("./node_modules/react/index.js");function r(n,u,c,l=!1){let o=(0,react.useCallback)((e=>{n.current&&"function"==typeof c&&c(e)}),[n,c]);(0,react.useEffect)((()=>{let e=n.current;return e&&e.addEventListener(u,o,{passive:l,capture:!1}),function(){e&&e.removeEventListener(u,o,{passive:l,capture:!1})}}),[n,u,c,l])}},"../../web-component/jb-infinite-scroll/stories/JBInfiniteScroll.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ActionTemplate:()=>ActionTemplate,Empty:()=>Empty,Normal:()=>Normal,__namedExportsOrder:()=>__namedExportsOrder,default:()=>JBInfiniteScroll_stories});var react=__webpack_require__("./node_modules/react/index.js");__webpack_require__("../../web-component/jb-loading/index.js");let t=function(t){return t.forceWait="FORCE_WAIT",t.noWait="NO_WAIT",t}({});var e=class extends HTMLElement{elements;#t=!1;#e=0;#i=!1;#n=!1;#s=!1;#a=null;#o;get#r(){if(null!==this.#a)return this.#a}#l=t.forceWait;constructor(){super(),"function"==typeof this.attachInternals&&(this.#o=this.attachInternals()),this.#h()}#p(e){switch(e){case"FORCE_WAIT":default:return t.forceWait;case"NO_WAIT":return t.noWait}}set stateChangeWaitingBehavior(t){this.#l=this.#p(t)}get stateChangeWaitingBehavior(){return this.#l}get disableCaptureScroll(){return this.#s}set disableCaptureScroll(t){this.#s=t,this.#c(!1)}get isListEnded(){return this.#i}set isListEnded(t){this.#i=t,this.#c(!1)}get isLoading(){return this.#t}set isLoading(t){this.#t=t,this.#c(!1),t?(this.elements?.loading.classList.add("--show"),this.#o.states?.add("loading")):(this.elements?.loading.classList.remove("--show"),this.#o.states?.delete("loading"),this.#d(),this.#g())}get isListEmpty(){return this.#a}set isListEmpty(t){this.#a=t,t?this.#o.states?.add("empty"):this.#o.states?.delete("empty"),this.#c(!1),this.#d()}#d(){this.#r?(this.elements?.emptyListWrapper.classList.add("--show"),this.elements?.contentWrapper.classList.remove("--show")):(this.elements?.contentWrapper.classList.add("--show"),this.elements?.emptyListWrapper.classList.remove("--show"))}connectedCallback(){this.callOnLoadEvent(),this.#m(),this.callOnInitEvent()}callOnLoadEvent(){const t=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(t)}callOnInitEvent(){const t=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(t)}#h(){const t=this.attachShadow({mode:"open"}),e=document.createElement("template");e.innerHTML='<style>:host{width:100%;height:100%;display:block}.infinite-scroll-component{height:100%}.infinite-scroll-component .content-wrapper{width:100%;height:100%;display:none;overflow:auto}.infinite-scroll-component .content-wrapper.--show{display:block}.infinite-scroll-component .content-wrapper ::slotted([slot=content]){height:auto}.infinite-scroll-component .loading-wrapper{display:none}.infinite-scroll-component .loading-wrapper .default-loading{width:40px;height:40px;margin:0 auto}.infinite-scroll-component .loading-wrapper.--show{display:block}.infinite-scroll-component .empty-list-wrapper{width:100%;height:100%;display:none}.infinite-scroll-component .empty-list-wrapper.--show{display:flex;justify-content:center;align-items:center}.infinite-scroll-component .empty-list-wrapper ::slotted([slot=empty]){height:100%;width:100%;display:flex;justify-content:center;align-items:center;max-height:100%;overflow-y:hidden;background-color:rgba(0,0,0,0);padding:1rem;box-sizing:border-box}</style>\n<div class="infinite-scroll-component">\n    <div class="content-wrapper" part="content-wrapper">\n        <slot name="content"></slot>\n        <div class="loading-wrapper" part="loading-wrapper">\n            <slot name="loading">\n                <div class="default-loading">\n                    <jb-loading part="default-loading"></jb-loading>\n                </div>\n            </slot>\n        </div>\n    </div>\n    <div class="empty-list-wrapper" part="empty-list-wrapper">\n        <slot name="empty">\n        </slot>\n    </div>\n    \n</div>',t.appendChild(e.content.cloneNode(!0)),this.elements={loading:t.querySelector(".loading-wrapper"),componentWrapper:t.querySelector(".Infinite-scroll-component"),contentWrapper:t.querySelector(".content-wrapper"),loadingWrapper:t.querySelector(".loading-wrapper"),emptyListWrapper:t.querySelector(".empty-list-wrapper")}}#u(){this.elements.contentWrapper.addEventListener("scroll",this.#y.bind(this),{passive:!0})}#m(){this.#u(),this.#g()}#g(){const{scrollHeight:t,clientHeight:e}=this.elements.contentWrapper;t<=e&&this.canCaptureScroll&&this.#w()}#w(){this.#c(!0);const t=new CustomEvent("scrollEnd");this.dispatchEvent(t)}#y(){const{scrollTop:t,scrollHeight:e,clientHeight:i}=this.elements.contentWrapper;t+i+this.#e>=e&&this.canCaptureScroll&&this.#w()}#c(e){if(e)if(this.#l===t.forceWait)this.#n=!0;else if(this.#l===t.noWait)return;this.#n=!1}get canCaptureScroll(){return!(this.#t||this.#r||this.#i||this.#n||this.#s)}static get observedAttributes(){return["is-loading","is-list-empty","is-list-ended","disable-capture-scroll","state-change-waiting-behavior"]}attributeChangedCallback(t,e,i){this.#W(t,i)}#W(t,e){switch(t){case"is-loading":this.isLoading="true"===e;break;case"is-list-empty":this.isListEmpty="true"===e;break;case"is-list-ended":this.#i="true"===e;break;case"disable-capture-scroll":this.#s="true"===e;break;case"state-change-waiting-behavior":this.#l=this.#p(e)}}};!customElements.get("jb-infinite-scroll")&&window.customElements.define("jb-infinite-scroll",e);var jb_core_react=__webpack_require__("../../web-component/jb-core/react/index.js");let l=react.forwardRef(((n,l)=>{let a=(0,react.useRef)(null);return(0,react.useImperativeHandle)(l,(()=>a?a.current:null),[a]),(0,react.useEffect)((()=>{a.current&&"boolean"==typeof n.isLoading&&(n.isLoading?a.current.setAttribute("is-loading","true"):a.current.setAttribute("is-loading","false"))}),[a.current,n.isLoading]),(0,react.useEffect)((()=>{a.current,"boolean"==typeof n.isListEmpty&&(n.isListEmpty?a.current.setAttribute("is-list-empty","true"):a.current.setAttribute("is-list-empty","false"))}),[a.current,n.isListEmpty]),(0,react.useEffect)((()=>{a.current&&"boolean"==typeof n.isListEnded&&(n.isListEnded?a.current?.setAttribute("is-list-ended","true"):a.current?.setAttribute("is-list-ended","false"))}),[a.current,n.isListEnded]),(0,react.useEffect)((()=>{a.current&&"boolean"==typeof n.disableCaptureScroll&&(n.disableCaptureScroll?a.current?.setAttribute("disable-capture-scroll","true"):a.current?.setAttribute("disable-capture-scroll","false"))}),[a.current,n.disableCaptureScroll]),(0,react.useEffect)((()=>{n.stateChangeWaitingBehavior&&a.current&&a.current?.setAttribute("state-change-waiting-behavior",n.stateChangeWaitingBehavior)}),[a.current,n.stateChangeWaitingBehavior]),(0,jb_core_react._q)(a,"load",n.onLoad,!0),(0,jb_core_react._q)(a,"init",n.onInit,!0),(0,jb_core_react._q)(a,"scroll",n.onScroll),(0,jb_core_react._q)(a,"scrollEnd",n.onScrollEnd,!0),react.createElement("jb-infinite-scroll",{class:n.className,ref:a},n.children)}));l.displayName="JBInfiniteScroll";const JBInfiniteScroll_stories={title:"Example/JBInfiniteScroll",component:l},Normal={args:{}},ActionTemplate={render:args=>{const ref=(0,react.useRef)(null),[list,setList]=(0,react.useState)([1,2,3,4,5,6,7,8,9]),[isLoading,setIsLoading]=(0,react.useState)(!1),[isListEnded,setIsListEnded]=(0,react.useState)(!1);return react.createElement("div",{style:{height:"10rem",border:"solid 1px #666",overflow:"hidden"}},react.createElement(l,{...args,ref,onScrollEnd:()=>{const i=list.at(-1);i>100&&setIsListEnded(!0),setIsLoading(!0),setTimeout((()=>{setList([...list,i+1,i+2,i+3,i+4,i+5,i+6,i+7,i+8,i+9]),setIsLoading(!1)}),1e3)},isLoading,isListEnded,disableCaptureScroll:isLoading},react.createElement("div",{slot:"content"},list.map((item=>react.createElement("div",{key:item,style:{border:"solid 1px #black",fontSize:"3rem",textAlign:"center",padding:"2rem"}},item))))))}},Empty={args:{isListEmpty:!0,children:react.createElement("div",{slot:"empty"},"list is empty")}},__namedExportsOrder=["Normal","ActionTemplate","Empty"];Normal.parameters={...Normal.parameters,docs:{...Normal.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...Normal.parameters?.docs?.source}}},ActionTemplate.parameters={...ActionTemplate.parameters,docs:{...ActionTemplate.parameters?.docs,source:{originalSource:"{\n  render: args => {\n    const ref = useRef(null);\n    const [list, setList] = useState([1, 2, 3, 4, 5, 6, 7, 8, 9]);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isListEnded, setIsListEnded] = useState(false);\n    const onScrollEnd = () => {\n      const i = list.at(-1)!;\n      if (i > 100) {\n        setIsListEnded(true);\n      }\n      setIsLoading(true);\n      setTimeout(() => {\n        setList([...list, ...[i + 1, i + 2, i + 3, i + 4, i + 5, i + 6, i + 7, i + 8, i + 9]]);\n        setIsLoading(false);\n      }, 1000);\n    };\n    return <div style={{\n      height: \"10rem\",\n      border: \"solid 1px #666\",\n      overflow: \"hidden\"\n    }}>\n          {/* ðŸ‘‡ Decorators in Storybook also accept a function. Replace <Story/> with Story() to enable it  */}\n          <JBInfiniteScroll {...args} ref={ref} onScrollEnd={onScrollEnd} isLoading={isLoading} isListEnded={isListEnded} disableCaptureScroll={isLoading}>\n            <div slot=\"content\">\n              {list.map(item => {\n            return <div key={item} style={{\n              border: 'solid 1px #black',\n              fontSize: '3rem',\n              textAlign: 'center',\n              padding: '2rem'\n            }}>{item}</div>;\n          })}\n            </div>\n          </JBInfiniteScroll>\n        </div>;\n  }\n}",...ActionTemplate.parameters?.docs?.source}}},Empty.parameters={...Empty.parameters,docs:{...Empty.parameters?.docs,source:{originalSource:'{\n  args: {\n    isListEmpty: true,\n    children: <div slot="empty">list is empty</div>\n  }\n}',...Empty.parameters?.docs?.source}}}},"../../web-component/jb-loading/dist/jb-loading.js":()=>{function n(n){try{window.CSS.registerProperty({...n})}catch(n){}}const e={single:{black:"oklch(0.14 0 0)",white:"oklch(1 0 0)",highlight:"oklch(0.93 0.2302 125.18)"},primary:{main:"oklch(0.6 0.26 256)",hover:t(.6,.26,256),pressed:a(.6,.26,256),lighter:o(.6,.26,256)},secondary:{main:"oklch(0.6 0.26 286)",hover:t(.6,.26,286),pressed:a(.6,.26,286),lighter:o(.6,.26,286)},neutral:[i(0),i(1),i(2),i(3),i(4),i(5),i(6),i(7),i(8),i(9),i(10)],yellow:{main:"oklch(0.75 0.18 70)",hover:t(.75,.18,70),pressed:a(.75,.18,70),lighter:o(.75,.18,70)},green:{main:"oklch(0.68 0.1484 162.1)",hover:t(.68,.1484,162.1),pressed:a(.68,.1484,162.1),lighter:o(.68,.1484,162.1)},red:{main:"oklch(0.6 0.22 23.21)",hover:t(.6,.22,23.21),pressed:a(.6,.22,23.21),lighter:o(.6,.22,23.21)}};function i(n){return`oklch(${6*(3+1.3*n)*.01} ${.001*(14+.09*n)} 258.36)`}function t(n,e,i){return`oklch(${n+.07} ${e+.07} ${i})`}function a(n,e,i){return`oklch(${n-.1} ${e-.05} ${i})`}function o(n,e,i){const t=Math.min(n+.12*(1-n),.985),a=e*(1-.15*(t-n));return`oklch(${t.toFixed(3)} ${a.toFixed(3)} ${i})`}var l=class extends HTMLElement{constructor(){super(),this.initWebComponent()}connectedCallback(){this.callOnLoadEvent(),this.callOnInitEvent()}callOnLoadEvent(){const n=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(n)}callOnInitEvent(){const n=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(n)}initWebComponent(){const t=this.attachShadow({mode:"open"});(function(){n({name:"--jb-primary",syntax:"<color>",inherits:!0,initialValue:e.primary.main}),n({name:"--jb-secondary",syntax:"<color>",inherits:!0,initialValue:e.secondary.main}),n({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:"oklch(0.18 0.014 258.36)"}),n({name:"--jb-black",syntax:"<color>",inherits:!0,initialValue:e.single.black}),n({name:"--jb-white",syntax:"<color>",inherits:!0,initialValue:e.single.white}),n({name:"--jb-highlight",syntax:"<color>",inherits:!0,initialValue:e.single.highlight}),n({name:"--jb-yellow",syntax:"<color>",inherits:!0,initialValue:e.yellow.main}),n({name:"--jb-green",syntax:"<color>",inherits:!0,initialValue:e.green.main}),n({name:"--jb-red",syntax:"<color>",inherits:!0,initialValue:e.red.main}),n({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:i(0)});for(let i=1;i<=10;i++)n({name:`--jb-neutral-${i}`,syntax:"<color>",inherits:!0,initialValue:e.neutral[i]})})(),n({name:"--jb-text-primary",syntax:"<color>",inherits:!0,initialValue:e.single.black}),n({name:"--jb-text-secondary",syntax:"<color>",inherits:!0,initialValue:i(7)}),n({name:"--jb-text-contrast",syntax:"<color>",inherits:!0,initialValue:e.single.white});const a=document.createElement("template");a.innerHTML='<style>:host{--loading-color:var(--jb-loading-color, var(--jb-neutral))}:host{display:block;width:var(--jb-loading-width, 100%);height:var(--jb-loading-height, 100%)}.jb-loading-web-component .spin .spin-loading{width:100%;height:100%;fill:rgba(0,0,0,0)}.jb-loading-web-component .spin .spin-loading circle{stroke:var(--loading-color);stroke-width:8px;stroke-linecap:round;stroke-dasharray:1px 50px;animation:loading 1s infinite ease-in-out;transform-box:center;transform-origin:center}@keyframes loading{0%{stroke-dasharray:1px 50px;transform:rotate(0deg)}50%{stroke-dasharray:50px 1px;transform:rotate(180deg)}100%{stroke-dasharray:1px 50px;transform:rotate(359deg)}}</style>\n<div class="jb-loading-web-component">\n    <div class="spin">\n        <svg viewbox="0 0 100 100" class="spin-loading">\n            <circle cx="50" cy="50" r="40"></circle>\n        </svg>\n    </div>\n    \n</div>',t.appendChild(a.content.cloneNode(!0))}};!customElements.get("jb-loading")&&window.customElements.define("jb-loading",l)},"../../web-component/jb-loading/index.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("../../web-component/jb-loading/dist/jb-loading.js")}}]);