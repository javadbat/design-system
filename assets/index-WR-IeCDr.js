var le=Object.defineProperty;var D=i=>{throw TypeError(i)};var oe=(i,e,t)=>e in i?le(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var p=(i,e,t)=>oe(i,typeof e!="symbol"?e+"":e,t),M=(i,e,t)=>e.has(i)||D("Cannot "+t);var r=(i,e,t)=>(M(i,e,"read from private field"),t?t.call(i):e.get(i)),d=(i,e,t)=>e.has(i)?D("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),j=(i,e,t,a)=>(M(i,e,"write to private field"),a?a.call(i,t):e.set(i,t),t),s=(i,e,t)=>(M(i,e,"access private method"),t);import{e as ue}from"./jb-validation-BFHHOeHY.js";import{e as T,t as q,n as F}from"./index-DERdVVTI.js";var u=class{constructor(i,e){p(this,"lightness");p(this,"chroma");p(this,"hue");p(this,"variableName");this.variableName=e,this.lightness=i.lightness,this.chroma=i.chroma,this.hue=i.hue}get value(){return`oklch(${this.lightness} ${this.chroma} ${this.hue})`}};function b(i){return new u({lightness:6*(3+1.3*i)*.01,chroma:.001*(14+.09*i),hue:258.36},`--jb-neutral-${i}`)}function V(i){return new u({lightness:i.lightness+.07,chroma:i.chroma+.07,hue:i.hue},`${i.variableName}-hover`)}function E(i){return new u({lightness:i.lightness-.1,chroma:i.chroma-.05,hue:i.hue},`${i.variableName}-pressed`)}function k(i){const e=Math.min(i.lightness+.12*(1-i.lightness),.985),t=i.chroma*(1-.15*(e-i.lightness));return new u({lightness:e,chroma:Number(t.toFixed(3)),hue:i.hue},`${i.variableName}-l`)}function S(i){const e=Math.max(i.lightness-.12*i.lightness,.02),t=i.chroma*(1-.15*(e-i.lightness));return new u({lightness:e,chroma:t,hue:i.hue},`${i.variableName}-d`)}function A(i){const e=Math.min(i.lightness+.65*(1-i.lightness),.93),t=.55*i.chroma*(1-.08*(e-i.lightness)),a=i.hue>=70&&i.hue<=162?5:-3,h=i.hue+a;return new u({lightness:e,chroma:Number(t.toFixed(3)),hue:h},`${i.variableName}-subtle`)}function N(i){const e=Math.max(i.lightness-.35,.22),t=Math.min(1.6*i.chroma,.28);return new u({lightness:Number(e.toFixed(3)),chroma:Number(t.toFixed(3)),hue:i.hue},`${i.variableName}-contrast`)}const m=new u({lightness:.6,chroma:.26,hue:256},"--jb-primary"),g=new u({lightness:.6,chroma:.26,hue:286},"--jb-secondary"),v=new u({lightness:.75,chroma:.18,hue:70},"--jb-yellow"),y=new u({lightness:.68,chroma:.1484,hue:162.1},"--jb-green"),w=new u({lightness:.6,chroma:.22,hue:23.21},"--jb-red"),H={single:{black:new u({lightness:.14,chroma:0,hue:0},"--jb-black"),white:new u({lightness:1,chroma:0,hue:0},"--jb-white"),highlight:new u({lightness:.93,chroma:.2302,hue:125.18},"--jb-highlight")},neutral:[b(0),b(1),b(2),b(3),b(4),b(5),b(6),b(7),b(8),b(9),b(10)],primary:{main:m,hover:V(m),pressed:E(m),light:k(m),dark:S(m),subtle:A(m),contrast:N(m)},secondary:{main:g,hover:V(g),pressed:E(g),light:k(g),dark:S(g),subtle:A(g),contrast:N(g)},yellow:{main:v,hover:V(v),pressed:E(v),light:k(v),dark:S(v),subtle:A(v),contrast:N(v)},green:{main:y,hover:V(y),pressed:E(y),light:k(y),dark:S(y),subtle:A(y),contrast:N(y)},red:{main:w,hover:V(w),pressed:E(w),light:k(w),dark:S(w),subtle:A(w),contrast:N(w)}};function l(i){try{const{value:e,...t}=i;window.CSS.registerProperty({...t}),function(a,h){try{h&&(document.documentElement.style.getPropertyValue(a)||document.documentElement.style.setProperty(a,h))}catch{}}(i.name,e)}catch{}}function he(){var i;l({name:"--jb-radius",inherits:!0,value:"1rem",initialValue:"16px",syntax:"<length-percentage>"}),l({name:"--jb-radius-xs",inherits:!0,value:"0.5rem",initialValue:"8px",syntax:"<length-percentage>"}),l({name:"--jb-radius-sm",inherits:!0,value:"0.75rem",initialValue:"12px",syntax:"<length-percentage>"}),l({name:"--jb-radius-lg",inherits:!0,value:"1.25rem",initialValue:"20px",syntax:"<length-percentage>"}),l({name:"--jb-radius-xl",inherits:!0,value:"1.5rem",initialValue:"24px",syntax:"<length-percentage>"}),function(e){l({name:e.primary.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.primary.main.value}),l({name:e.secondary.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.secondary.main.value}),l({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:e.neutral[0].value}),l({name:e.single.black.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.black.value}),l({name:e.single.white.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.white.value}),l({name:e.single.highlight.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.highlight.value}),l({name:e.yellow.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.yellow.main.value}),l({name:e.green.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.green.main.value}),l({name:e.red.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.red.main.value}),l({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:e.neutral[0].value});for(let t=1;t<=10;t++)l({name:e.neutral[t].variableName,syntax:"<color>",inherits:!0,initialValue:e.neutral[t].value})}(H),l({name:"--jb-text-primary",syntax:"<color>",inherits:!0,initialValue:(i=H).single.black.value}),l({name:"--jb-text-secondary",syntax:"<color>",inherits:!0,initialValue:i.neutral[7].value}),l({name:"--jb-text-contrast",syntax:"<color>",inherits:!0,initialValue:i.single.white.value})}var c,L,P,o,n,C,x,f,R,U,I,_,G,$,K,J,O,Q,W,X,Y,Z,ee,te,ie,ne,ae,se,re,B,ce=(B=class extends HTMLElement{constructor(){super();d(this,n);d(this,c,{displayValue:"",value:""});p(this,"elements");d(this,L,!1);d(this,P,!1);d(this,o);d(this,x,new ue({clearValidationError:()=>this.clearValidationError(),showValidationError:this.showValidationError.bind(this),getValue:()=>r(this,c),getValidations:s(this,n,se).bind(this),getValueString:()=>r(this,c).displayValue,setValidationResult:s(this,n,re).bind(this)}));p(this,"initialValue","");d(this,$,[]);typeof this.attachInternals=="function"&&j(this,o,this.attachInternals()),s(this,n,_).call(this)}static get formAssociated(){return!0}get disabled(){return r(this,L)}set disabled(e){var t,a;j(this,L,e),this.elements.input.disabled=e,e?(t=r(this,o).states)==null||t.add("disabled"):(a=r(this,o).states)==null||a.delete("disabled")}set required(e){j(this,P,e),s(this,n,C).call(this,!1)}get required(){return r(this,P)}hasState(e){return r(this,o).states.has(e)}get isAutoValidationDisabled(){return this.getAttribute("disable-auto-validation")===""||this.getAttribute("disable-auto-validation")==="true"}get validation(){return r(this,x)}get displayValue(){return r(this,c).displayValue}get value(){return r(this,c).value}set value(e){s(this,n,f).call(this,e,"SET_VALUE")}get isDirty(){return r(this,c).value!==this.initialValue}get selectionStart(){return this.elements.input.selectionStart}set selectionStart(e){this.elements.input.selectionStart=e}get selectionEnd(){return this.elements.input.selectionEnd}set selectionEnd(e){this.elements.input.selectionEnd=e}get selectionDirection(){return this.elements.input.selectionDirection}set selectionDirection(e){this.elements.input.selectionDirection=e}get name(){return this.getAttribute("name")||""}connectedCallback(){s(this,n,U).call(this),this.initProp(),s(this,n,I).call(this)}addStandardValueCallback(e){r(this,$).push(e)}standardValue(e,t){let a={displayValue:e.toString(),value:e.toString()};return a=r(this,$).reduce((h,z)=>z(e.toString(),r(this,c),h,t),a),a}initProp(){s(this,n,f).call(this,this.getAttribute("value")||"","SET_VALUE")}static get observedAttributes(){return["label","type","message","value","name","autocomplete","placeholder","disabled","inputmode","readonly","disable-auto-validation","virtualkeyboardpolicy","required","error"]}attributeChangedCallback(e,t,a){this.onAttributeChange(e,a)}onAttributeChange(e,t){switch(e){case"name":case"autocomplete":case"inputmode":case"readonly":case"virtualkeyboardpolicy":this.elements.input.setAttribute(e,t);break;case"label":this.elements.labelValue.innerHTML=t,t==null||t===void 0||t===""?this.elements.label.classList.add("--hide"):this.elements.label.classList.remove("--hide");break;case"type":this.elements.input.setAttribute("type",t),t=="number"&&this.getAttribute("inputmode")==null&&this.setAttribute("inputmode","numeric");break;case"message":this.elements.messageBox.classList.contains("error")||(this.elements.messageBox.innerHTML=t);break;case"value":s(this,n,f).call(this,t,"SET_VALUE");break;case"placeholder":this.elements.input.placeholder=t;break;case"disabled":t===""||t==="true"?this.disabled=!0:t!=="false"&&t!=null&&t!==void 0||(this.disabled=!1,this.elements.input.removeAttribute("disabled"));break;case"required":this.required=!!t&&t!=="false";break;case"error":this.reportValidity()}}showValidationError(e){var t;this.elements.messageBox.innerHTML=e.message,(t=r(this,o).states)==null||t.add("invalid")}clearValidationError(){var t;const e=this.getAttribute("message")||"";this.elements.messageBox.innerHTML=e,(t=r(this,o).states)==null||t.delete("invalid")}focus(){this.elements.input.focus()}setSelectionRange(e,t,a){this.elements.input.setSelectionRange(e,t,a)}checkValidity(){const e=r(this,x).checkValiditySync({showError:!1});if(!e.isAllValid){const t=new CustomEvent("invalid");this.dispatchEvent(t)}return e.isAllValid}reportValidity(){const e=r(this,x).checkValiditySync({showError:!0});if(!e.isAllValid){const t=new CustomEvent("invalid");this.dispatchEvent(t)}return e.isAllValid}get validationMessage(){return r(this,o).validationMessage}},c=new WeakMap,L=new WeakMap,P=new WeakMap,o=new WeakMap,n=new WeakSet,C=function(e){if(!this.isAutoValidationDisabled)return r(this,x).checkValidity({showError:e})},x=new WeakMap,f=function(e,t){e==null&&(e="");const a=this.standardValue(e,t);s(this,n,R).call(this,a)},R=function(e){j(this,c,e),r(this,o)&&typeof r(this,o).setFormValue=="function"&&r(this,o).setFormValue(e.value),this.elements.input.value=e.displayValue},U=function(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)},I=function(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)},_=function(){const e=this.attachShadow({mode:"open",delegatesFocus:!0});he(),s(this,n,G).call(this),this.elements={input:e.querySelector(".input-box input"),inputBox:e.querySelector(".input-box"),label:e.querySelector("label"),labelValue:e.querySelector("label .label-value"),messageBox:e.querySelector(".message-box"),slots:{startSection:e.querySelector(".jb-input-start-section-wrapper slot"),endSection:e.querySelector(".jb-input-end-section-wrapper slot")}},s(this,n,K).call(this)},G=function(){const e=document.createElement("template");e.innerHTML=`<style>:host{--border-radius:var(--jb-input-border-radius, var(--jb-radius));--border-color:var(--jb-input-border-color, var(--jb-neutral-10));--message-color:var(--jb-input-message-color, var(--jb-text-secondary));--label-color: var(--jb-input-label-color, var(--jb-text-primary));--value-color: var(--jb-input-value-color, var(--jb-text-primary));--placeholder-color: var(--jb-input-placeholder-color, var(--jb-neutral-6));--input-box-bg-color:var(--jb-input-bgcolor, var(--jb-neutral-10))}:host(:state(invalid)){--message-color:var(--jb-input-message-error-color, var(--jb-red))}:host(:focus-within){--border-color:var(--jb-input-border-color-focus, var(--jb-neutral))}:host(:focus),:host(:focus-visible){outline:none}.jb-input-web-component{width:100%;margin:var(--jb-input-margin, 0 0)}.jb-input-web-component:focus-visible{outline:none}.jb-input-web-component label{width:100%;margin:var(--jb-input-label-margin, 0.25rem 0px);display:block;font-size:var(--jb-input-label-font-size, 0.8em);color:var(--label-color);margin:var(--jb-input-label-margin, 0);font-weight:var(--jb-input-label-font-weight, 300)}.jb-input-web-component label.--hide{display:none}.jb-input-web-component .input-box{width:100%;box-sizing:border-box;height:var(--jb-input-height, 40px);border:solid var(--jb-input-border-width, 1px) var(--border-color);background-color:var(--input-box-bg-color);border-bottom:solid var(--jb-input-border-bottom-width, 3px) var(--border-color);border-radius:var(--border-radius);margin:4px 0px;transition:ease .3s all;overflow:var(--jb-input-box-overflow, hidden);display:grid;grid-template-columns:auto 1fr auto;box-shadow:var(--jb-input-box-shadow, none)}.jb-input-web-component .input-box:focus-within{border-width:var(--jb-input-border-width-focus, var(--jb-input-border-width, 1px));border-bottom-width:var(--jb-input-border-bottom-width-focus, var(--jb-input-border-bottom-width, 3px));box-shadow:var(--jb-input-box-shadow-focus, none)}.jb-input-web-component .input-box input{border:none;width:100%;box-sizing:border-box;height:100%;background-color:rgba(0,0,0,0);padding:var(--jb-input-input-padding, 0.125rem 0.75rem 0 0.75rem);display:block;font-family:inherit;font-size:var(--jb-input-value-font-size, 1.1rem);color:var(--value-color);margin:0;border-radius:0;text-align:var(--jb-input-input-text-align, initial);direction:var(--jb-input-input-direction, inherit);font-weight:var(--jb-input-input-font-weight, initial)}.jb-input-web-component .input-box input:focus{outline:none}.jb-input-web-component .input-box input::placeholder{color:var(--placeholder-color);font-size:var(--jb-input-placeholder-font-size, 1.1rem)}.jb-input-web-component .input-box input::-webkit-outer-spin-button,.jb-input-web-component .input-box input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.jb-input-web-component .input-box input[type=number]{-moz-appearance:textfield}.jb-input-web-component .input-box .jb-input-start-section-wrapper{display:flex;height:100%;width:auto;align-items:center;justify-content:center}.jb-input-web-component .input-box ::slotted([slot=start-section]),.jb-input-web-component .input-box ::slotted([slot=end-section]){height:100%;display:flex;justify-content:center;align-items:center;max-height:100%;overflow-y:hidden;background-color:rgba(0,0,0,0);padding:8px 16px;width:auto;box-sizing:border-box}.jb-input-web-component .message-box{font-size:var(--jb-input-message-font-size, 0.7rem);padding:.125rem .5rem;color:var(--message-color);display:var(--jb-input-message-box-display, block)}.jb-input-web-component .message-box:empty{padding:0}</style>

    <div class="jb-input-web-component">
    <label class="--hide"><span class="label-value" part="label"></span></label>
    <div class="input-box" part="input-box">
        <div class="jb-input-start-section-wrapper">
            <slot name="start-section"></slot>
        </div>
        <input part="input"/>
        <div class="jb-input-end-section-wrapper">
            <slot name="end-section"></slot>
        </div>
    </div>
    <div class="message-box" part="message"></div>
</div>
  `,this.shadowRoot.appendChild(e.content.cloneNode(!0))},$=new WeakMap,K=function(){this.elements.input.addEventListener("change",e=>s(this,n,ne).call(this,e),{capture:!1}),this.elements.input.addEventListener("beforeinput",s(this,n,te).bind(this),{capture:!1}),this.elements.input.addEventListener("input",e=>s(this,n,Z).call(this,e),{capture:!1}),T(this.elements.input,"keyup",s(this,n,W).bind(this)),T(this.elements.input,"keydown",s(this,n,J).bind(this)),T(this.elements.input,"keypress",s(this,n,Q).bind(this))},J=function(e){s(this,n,O).call(this,e)},O=function(e){e.stopPropagation();const t=q("keydown",e,{cancelable:!0});!this.dispatchEvent(t)&&e.preventDefault()},Q=function(e){e.stopPropagation();const t=q("keypress",e,{cancelable:!1});this.dispatchEvent(t)},W=function(e){s(this,n,X).call(this,e),e.keyCode==13&&s(this,n,Y).call(this)},X=function(e){e.stopPropagation();const t=q("keyup",e,{cancelable:!1});this.dispatchEvent(t)},Y=function(){const e=new KeyboardEvent("enter");this.dispatchEvent(e)},Z=function(e){const t=e.target.selectionEnd||0,a=(e.target.selectionStart,e.target.value),h=e.target;s(this,n,f).call(this,a,"INPUT"),t!==a.length&&(["number"].includes(this.getAttribute("type"))||h.setSelectionRange(t,t)),s(this,n,C).call(this,!1),s(this,n,ee).call(this,e)},ee=function(e){e.stopPropagation();const t=F("input",e,{cancelable:!0});this.dispatchEvent(t)},te=function(e){s(this,n,ie).call(this,e)},ie=function(e){e.stopPropagation();const t=F("beforeinput",e,{cancelable:!0});return this.dispatchEvent(t),t.defaultPrevented&&e.preventDefault(),t.defaultPrevented},ne=function(e){const t=e.target.value,a=r(this,c);s(this,n,f).call(this,t,"CHANGE"),s(this,n,C).call(this,!0),s(this,n,ae).call(this,e)&&(j(this,c,a),e.preventDefault())},ae=function(e){e.stopPropagation();const t={bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed},a=new Event("change",t);return this.dispatchEvent(a),!!a.defaultPrevented},se=function(){const e=[];return this.required&&e.push({validator:/.{1}/g,message:`${this.getAttribute("label")} میبایست حتما وارد شود`,stateType:"valueMissing"}),this.getAttribute("error")!==null&&this.getAttribute("error").trim().length>0&&e.push({validator:void 0,message:this.getAttribute("error"),stateType:"customError"}),e},re=function(e){if(e.isAllValid)r(this,o).setValidity({},"");else{const t={};let a="";e.validationList.forEach(h=>{h.isValid||(h.validation.stateType&&(t[h.validation.stateType]=!0),a==""&&(a=h.message))}),r(this,o).setValidity(t,a)}},B);!customElements.get("jb-input")&&window.customElements.define("jb-input",ce);export{ce as x};
