var b=e=>{throw TypeError(e)};var D=(e,t,n)=>t.has(e)||b("Cannot "+n);var v=(e,t,n)=>t.has(e)?b("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);var l=(e,t,n)=>(D(e,t,"access private method"),n);import{R as f,r as i}from"./index-DwQS_Y10.js";import{o as G}from"./index-znC4IK4w.js";import{c as h}from"./index-BsliqPsk.js";import{a as O,t as P}from"./index-_b1slotr.js";import"./jb-validation-DPnsTO1v.js";import"./index-bfIR6bpK.js";const Q=new O({fa:{invalidValue:"کد ملی وارد شده نامعتبر است"},en:{invalidValue:"The entered national code is invalid"}});var u,w,q,B,C,y,U=(y=class extends G{constructor(){super();v(this,u);this.initMobileInputWebComponent()}initMobileInputWebComponent(){const t=document.createElement("template");t.innerHTML="<style>.jb-input-web-component{--jb-input-input-direction:var(--jb-national-input-input-direction,ltr)}</style>",this.shadowRoot.appendChild(t.content.cloneNode(!0)),this.validation.addValidationListGetter(l(this,u,C).bind(this)),l(this,u,q).call(this),this.addStandardValueCallback(l(this,u,w).bind(this))}},u=new WeakSet,w=function(t){let n="",r="";const a=/(?<nationalId>[\u06F0-\u06F90-9]{1,10})/g.exec(t);return n=a&&a.groups?a.groups.nationalId:"",r=h(n),{value:r,displayValue:n}},q=function(){this.elements.input.addEventListener("beforeinput",l(this,u,B).bind(this))},B=function(t){const n=t.data;/[\u06F0-\u06F90-9]{1,10}/g.test(n)||t.inputType=="deleteContentBackward"||t.preventDefault()},C=function(){return[{validator:({value:t})=>(function(n){if(n.length===0)return!0;const r=h(n);if(!/^\d{10}$/.test(r))return!1;const a=+r[9],o=r.split("").slice(0,9).reduce((c,p,m)=>c+ +p*(10-m),0)%11;return o<2?a===o:a+o===11})(t),message:Q.get(P,"invalidValue"),stateType:"badInput"}]},y);customElements.get("jb-national-input")||window.customElements.define("jb-national-input",U);function s(e,t,n,r=!1){let a=i.useCallback(o=>{e.current&&typeof n=="function"&&n(o)},[e,n]);i.useEffect(()=>{let o=e.current;return o&&o.addEventListener(t,a,{passive:r,capture:!1}),function(){o&&o.removeEventListener(t,a,{passive:r,capture:!1})}},[e,t,n,r])}function L(e,t){s(e,"enter",t.onEnter),s(e,"input",t.onInput),s(e,"beforeinput",t.onBeforeinput),s(e,"change",t.onChange),s(e,"keydown",t.onKeydown),s(e,"keyup",t.onKeyup),s(e,"focus",t.onFocus),s(e,"blur",t.onBlur)}function N(e,t){i.useEffect(()=>{let n=t.value;(t.value==null||t.value===void 0)&&(n=""),e&&e.current&&e.current&&(e.current.value=(n==null?void 0:n.toString())||"")},[t.value]),i.useEffect(()=>{e&&e.current&&(e.current.validation.list=t.validationList||[])},[t.validationList]),i.useEffect(()=>{var n,r;typeof t.disabled=="boolean"&&t.disabled?(n=e==null?void 0:e.current)==null||n.setAttribute("disabled",""):(r=e==null?void 0:e.current)==null||r.removeAttribute("disabled")},[t.disabled]),i.useEffect(()=>{var n,r,a;typeof t.required=="string"&&((n=e==null?void 0:e.current)==null||n.setAttribute("required",t.required)),typeof t.required=="boolean"&&(t.required?(r=e==null?void 0:e.current)==null||r.setAttribute("required",""):(a=e==null?void 0:e.current)==null||a.removeAttribute("required"))},[t.required])}i.forwardRef((e,t)=>{let n=i.useRef(null);i.useImperativeHandle(t,()=>n?n.current:{},[n]);let{onBeforeinput:r,onBlur:a,onChange:o,onEnter:c,onFocus:p,onInput:m,onKeydown:F,onKeyup:K,size:R,autocomplete:A,disabled:V,error:k,inputmode:x,label:S,message:T,name:$,placeholder:H,required:J,type:M,validationList:z,value:W,..._}=e;return L(n,{onBeforeinput:r,onBlur:a,onChange:o,onEnter:c,onFocus:p,onInput:m,onKeydown:F,onKeyup:K}),N(n,{disabled:V,required:J,validationList:z,value:W}),f.createElement("jb-input",{ref:n,label:S,message:T,name:$,placeholder:H,size:R,type:M,error:k,inputmode:x,autocomplete:A,..._},e.children)}).displayName="JBInput";let j=f.forwardRef((e,t)=>{let n=i.useRef(null),[r,a]=i.useState(0);return i.useImperativeHandle(t,()=>n?n.current:{},[n]),i.useEffect(()=>{a(r+1)},[n.current]),N(n,e),L(n,e),f.createElement("jb-national-input",{ref:n,class:e.className?e.className:""},e.children)});j.displayName="JBNationalInput";const ae={title:"Components/form elements/Inputs/JBNationalInput",component:j},d={args:{label:"national id",message:"please enter your national code"}};var g,E,I;d.parameters={...d.parameters,docs:{...(g=d.parameters)==null?void 0:g.docs,source:{originalSource:`{
  args: {
    label: 'national id',
    message: "please enter your national code"
  }
}`,...(I=(E=d.parameters)==null?void 0:E.docs)==null?void 0:I.source}}};const ie=["Normal"];export{d as Normal,ie as __namedExportsOrder,ae as default};
