var Q=l=>{throw TypeError(l)};var P=(l,e,t)=>e.has(l)||Q("Cannot "+t);var o=(l,e,t)=>(P(l,e,"read from private field"),t?t.call(l):e.get(l)),n=(l,e,t)=>e.has(l)?Q("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(l):e.set(l,t),a=(l,e,t,r)=>(P(l,e,"write to private field"),r?r.call(l,t):e.set(l,t),t),i=(l,e,t)=>(P(l,e,"access private method"),t);import"./jb-button-zHbWaroO.js";import"./jb-popover-D43UoEAJ.js";import{e as Ne}from"./jb-validation-DPnsTO1v.js";import{a as U}from"./index-BsliqPsk.js";import{N as $e}from"./index-bfIR6bpK.js";import{a as Ze,t as Fe}from"./index-_b1slotr.js";var u,j,E,M,k,q,d,B,te,se,ie,oe,re,le,ne,X,J=(X=class extends HTMLElement{constructor(){super();n(this,d);n(this,u);n(this,j);n(this,E);n(this,M);n(this,k,!1);n(this,q,!1);typeof this.attachInternals=="function"&&(a(this,M,this.attachInternals()),o(this,M).role="option"),i(this,d,te).call(this),i(this,d,oe).call(this)}get value(){return o(this,E)}set value(e){a(this,E,e)}set selected(e){a(this,k,e),e?o(this,u).componentWrapper.classList.add("--selected"):o(this,u).componentWrapper.classList.remove("--selected")}get selected(){return o(this,k)}get optionContent(){return o(this,u).contentWrapper.querySelector("slot").assignedNodes()}get hidden(){return o(this,q)}set hidden(e){a(this,q,e),e?(o(this,u).componentWrapper.classList.add("--hidden"),this.setAttribute("inert","")):(o(this,u).componentWrapper.classList.remove("--hidden"),this.removeAttribute("inert"))}get optionContentText(){return this.optionContent.reduce((e,t)=>e+=t.textContent,"")}connectedCallback(){i(this,d,ie).call(this)}setSelectElement(e){e&&(a(this,j,e),o(this,j).addEventListener("filter-change",i(this,d,B).bind(this)))}disconnectedCallback(){var t;(t=o(this,j))==null||t.removeEventListener("filter-change",i(this,d,B).bind(this));const e=new CustomEvent("jb-option-disconnected",{bubbles:!0,composed:!0,cancelable:!1});this.dispatchEvent(e)}static get observedAttributes(){return["value"]}attributeChangedCallback(e,t,r){i(this,d,re).call(this,e,r)}},u=new WeakMap,j=new WeakMap,E=new WeakMap,M=new WeakMap,k=new WeakMap,q=new WeakMap,d=new WeakSet,B=function(e){const{filterText:t}=e.detail;this.optionContentText.toLowerCase().includes(t.toLowerCase())?this.hidden=!1:this.hidden=!0},te=function(){const e=this.attachShadow({mode:"open"}),t=document.createElement("template");t.innerHTML=`<style>.jb-options-web-component .option-content-wrapper{min-height:36px;color:var(--jb-select-option-color,inherit);background-color:var(--background-color);align-items:center;padding:4px 16px;font-size:.9em;display:flex}.jb-options-web-component .option-content-wrapper:hover{background-color:var(--background-color-hover);color:var(--option-color-hover);cursor:pointer}.jb-options-web-component.--selected{font-weight:900}.jb-options-web-component.--hidden{display:none}</style>

    <div class="jb-options-web-component">
      <div class="option-content-wrapper">
        <slot></slot>
      </div>
    </div>
  `,e.appendChild(t.content.cloneNode(!0)),a(this,u,{componentWrapper:e.querySelector(".jb-options-web-component"),contentWrapper:e.querySelector(".option-content-wrapper")}),i(this,d,se).call(this)},se=function(){o(this,u).componentWrapper.addEventListener("click",i(this,d,le).bind(this))},ie=function(){const e=new CustomEvent("jb-option-connected",{bubbles:!0,composed:!0});this.dispatchEvent(e)},oe=function(){this.value=this.getAttribute("value")||null},re=function(e,t){e==="value"&&a(this,E,t)},le=function(){o(this,k)||i(this,d,ne).call(this)},ne=function(){const e=new CustomEvent("select",{bubbles:!0,cancelable:!1,composed:!0});this.dispatchEvent(e)},X);customElements.get("jb-option")||window.customElements.define("jb-option",J);var p,z,L,c,ae,ce,de,he,I,pe,R,be,Y,_e=(Y=class extends HTMLElement{constructor(){super();n(this,c);n(this,p,{});n(this,z,[]);n(this,L,new Map);i(this,c,de).call(this)}get callbacks(){return o(this,p)}get optionList(){return o(this,z)||[]}set optionList(e){Array.isArray(e)?(a(this,z,e),i(this,c,he).call(this,e)):console.error("your provided option list to jb-option-list is not a array. you must provide array value",{value:e})}connectedCallback(){}setCallback(e,t){switch(o(this,p)[e]=t,e){case"getContentDOM":case"getTitle":i(this,c,ae).call(this);break;case"getValue":i(this,c,ce).call(this)}}},p=new WeakMap,z=new WeakMap,L=new WeakMap,c=new WeakSet,ae=function(){o(this,L).forEach((e,t)=>{i(this,c,R).call(this,t,e)})},ce=function(){o(this,L).forEach((e,t)=>{e.value=i(this,c,I).call(this,t)})},de=function(){const e=this.attachShadow({mode:"open"}),t=document.createElement("template");e.appendChild(t.content.cloneNode(!0))},he=function(e){this.shadowRoot.innerHTML="",e.forEach(t=>{const r=i(this,c,be).call(this,t);this.shadowRoot.appendChild(r),o(this,L).set(t,r)})},I=function(e){this.callbacks.getValue&&typeof this.callbacks.getValue!="function"&&console.error("getOptionValue callback is not a function");try{return typeof o(this,p).getValue=="function"?o(this,p).getValue(e):e}catch{console.error("Invalid getOptionValue callback Result, must be a function that returns the value of an option",e)}},pe=function(e){if(typeof o(this,p).getTitle!="function")return String(e);try{return o(this,p).getTitle(e)}catch{console.error("Invalid getOptionTitle callback Result, must be a function that returns the value of an option",e)}return""},R=function(e,t){t.innerHTML="",typeof o(this,p).getContentDOM=="function"?t.appendChild(o(this,p).getContentDOM(e)):t.innerHTML=i(this,c,pe).call(this,e)},be=function(e){const t=new J;return i(this,c,R).call(this,e,t),t.value=i(this,c,I).call(this,e),t},Y);customElements.get("jb-option-list")||window.customElements.define("jb-option-list",_e);const Ge=new Ze({fa:{requireMessage:l=>`${l} حتما باید انتخاب شود`},en:{requireMessage:l=>`${l} is required`}});var w,f,g,y,m,A,C,s,ue,b,W,D,h,me,ve,ge,we,fe,ye,xe,x,je,H,S,N,T,Ee,ke,Le,Ce,Ve,Se,Te,O,Me,qe,ze,Qe,Ae,We,De,$,Ke,He,Oe,Z,F,_,Pe,Be,Ie,G,Re,ee,Je=(ee=class extends HTMLElement{constructor(){super();n(this,s);n(this,w);n(this,f,"");n(this,g,null);n(this,y,new Set);n(this,m,null);n(this,A,"");n(this,C,"search");n(this,b,new Ne({clearValidationError:this.clearValidationError.bind(this),showValidationError:this.showValidationError.bind(this),getValue:()=>o(this,s,ue),getValidations:i(this,s,Ie).bind(this),getValueString:()=>o(this,f),setValidationResult:i(this,s,Re).bind(this)}));n(this,W,!1);n(this,D,!1);n(this,h);this.callbacks={},this.initialValue=null,typeof this.attachInternals=="function"&&(a(this,h,this.attachInternals()),o(this,h).role="combobox"),i(this,s,ge).call(this),i(this,s,ye).call(this)}static get formAssociated(){return!0}get value(){return o(this,w)?o(this,w):null}set value(e){i(this,s,S).call(this,e)}get textValue(){return o(this,f)}set textValue(e){a(this,f,e),this.elements.input.value=e,i(this,s,$).call(this,e)}get selectedOptionTitle(){return this.value?o(this,m).optionContentText:""}get placeholder(){return o(this,A)}set placeholder(e){a(this,A,e),o(this,h).ariaPlaceholder=e,this.value!==null&&this.value!==void 0?this.elements.input.placeholder="":this.elements.input.placeholder=e}get searchPlaceholder(){return o(this,C)}set searchPlaceholder(e){a(this,C,e)}get isMobileDevice(){return U()}get isOpen(){return this.elements.componentWrapper.classList.contains("--focused")}get validation(){return o(this,b)}get disabled(){return o(this,W)}set disabled(e){var t,r;a(this,W,e),this.elements.input.disabled=e,e?((t=o(this,h).states)==null||t.add("disabled"),o(this,h).ariaDisabled="true"):((r=o(this,h).states)==null||r.delete("disabled"),o(this,h).ariaDisabled="false")}set required(e){a(this,D,e),o(this,h).ariaRequired=e?"true":"false",o(this,b).checkValiditySync({showError:!1})}get required(){return o(this,D)}get isAutoValidationDisabled(){return this.getAttribute("disable-auto-validation")===""||this.getAttribute("disable-auto-validation")==="true"}get name(){return this.getAttribute("name")||""}get isDirty(){return this.value!==this.initialValue}connectedCallback(){i(this,s,ve).call(this),i(this,s,me).call(this)}static get observedAttributes(){return["label","message","value","required","placeholder","search-placeholder","error"]}attributeChangedCallback(e,t,r){i(this,s,xe).call(this,e,r)}focus(){this.elements.input.focus(),i(this,s,We).call(this),this.elements.optionListWrapper.open(),this.isMobileDevice&&(this.elements.input.placeholder=o(this,C))}blur(){this.elements.optionListWrapper.close(),this.textValue="",i(this,s,O).call(this,""),i(this,s,De).call(this),o(this,b).checkValidity({showError:!0}),this.isMobileDevice&&(this.value?this.elements.input.placeholder="":this.elements.input.placeholder=this.placeholder),this.elements.input.blur()}showValidationError(e){const t=typeof e=="string"?e:e.message;this.elements.messageBox.innerHTML=t,this.elements.messageBox.classList.add("--error")}clearValidationError(){this.elements.messageBox.innerHTML=this.getAttribute("message")||"",this.elements.messageBox.classList.remove("--error")}checkValidity(){const e=o(this,b).checkValiditySync({showError:!1});if(!e.isAllValid){const t=new CustomEvent("invalid");this.dispatchEvent(t)}return e.isAllValid}reportValidity(){const e=o(this,b).checkValiditySync({showError:!0});if(!e.isAllValid){const t=new CustomEvent("invalid");this.dispatchEvent(t)}return e.isAllValid}get validationMessage(){var e;return((e=o(this,h))==null?void 0:e.validationMessage)||o(this,b).resultSummary.message}},w=new WeakMap,f=new WeakMap,g=new WeakMap,y=new WeakMap,m=new WeakMap,A=new WeakMap,C=new WeakMap,s=new WeakSet,ue=function(){return{inputtedText:o(this,f),selectedOption:o(this,m),value:this.value}},b=new WeakMap,W=new WeakMap,D=new WeakMap,h=new WeakMap,me=function(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)},ve=function(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)},ge=function(){const e=this.attachShadow({mode:"open",delegatesFocus:!0});$e();const t=document.createElement("template");t.innerHTML=`<style>.jb-select-web-component{width:var(--jb-select-width,100%);margin:var(--jb-select-margin,0 0);box-sizing:border-box}.jb-select-web-component.--has-value .select-box{border-color:var(--jb-select-border-color-selected,var(--border-color));background-color:var(--jb-select-bgcolor-selected,var(--select-box-bg-color))}.jb-select-web-component.--has-value .select-box .end-section .clear-button{display:block}.jb-select-web-component .label-wrapper label{width:100%;margin:var(--label-margin);font-size:var(--label-font-size);color:var(--label-color);font-weight:var(--jb-input-label-font-weight,300);display:block}.jb-select-web-component .label-wrapper label.--hide{display:none}@media (min-width:769px){.jb-select-web-component:focus-within .select-box{border-color:var(--border-color);border-radius:var(--rounded) var(--rounded) 0 0;border-bottom-color:#0000}}.jb-select-web-component .select-box{box-sizing:border-box;width:100%;height:var(--height);border:solid var(--border-width) var(--border-color);border-bottom:solid var(--border-bottom-width) var(--border-color);border-radius:var(--box-border-radius);background-color:var(--select-box-bg-color);margin:var(--jb-select-select-box-margin,4px 0px 0px 0px);align-items:center;gap:.5rem;padding-inline-end:var(--jb-select-box-padding-end,1rem);display:flex;overflow:hidden}.jb-select-web-component .select-box .start-section{justify-content:center;align-items:center;width:auto;height:100%;display:flex}.jb-select-web-component .select-box .middle-section{flex:1;width:100%;height:100%;position:relative}.jb-select-web-component .select-box .middle-section .selected-value-wrapper{border-radius:inherit;z-index:1;width:100%;height:100%;position:absolute;top:0;left:0;overflow:hidden}.jb-select-web-component .select-box .middle-section .selected-value-wrapper.--search-typed{opacity:0}.jb-select-web-component .select-box .middle-section .selected-value-wrapper .selected-value{box-sizing:border-box;width:100%;height:100%;font-family:inherit;font-size:var(--jb-select-selected-value-font-size,1.1em);color:var(--value-color);background-color:#0000;border-radius:0;align-items:center;margin:0;padding:2px 12px 0;display:flex}.jb-select-web-component .select-box .middle-section .front-box{border-radius:inherit;z-index:2;width:100%;height:100%;position:absolute;top:0;left:0;overflow:hidden}.jb-select-web-component .select-box .middle-section .front-box .search-input{background-color:#0000;border-radius:0;height:100%;margin:0;padding:2px 12px 0;display:block}.jb-select-web-component .select-box .middle-section .front-box .search-input:focus{outline:none}.jb-select-web-component .select-box .middle-section .front-box .search-input::placeholder{color:var(--placeholder-color);font-size:var(--jb-select-placeholder-font-size,1.1em)}.jb-select-web-component .select-box .end-section{align-items:center;gap:1.5rem;display:flex}.jb-select-web-component .select-box .end-section .arrow-icon{margin:var(--jb-select-arrow-icon-margin,0 0 0 0)}.jb-select-web-component .select-box .end-section .clear-button{--jb-button-padding-xs:0;--jb-button-height-xs:1rem;display:none}.jb-select-web-component .select-box:focus-within .selected-value{opacity:.7;transition:all .3s}.jb-select-web-component .message-box{font-size:var(--message-font-size);padding:.125rem var(--inline-space);color:var(--message-color);display:var(--jb-select-message-box-display,block)}.jb-select-web-component .message-box:empty{padding:0}.jb-select-web-component .popover-wrapper{position:relative}@media (min-width:769px){.jb-select-web-component .popover-wrapper .select-list-wrapper{--jb-popover-border-radius:var(--list-border-radius);--jb-popover-bg-color:var(--select-box-bg-color);--jb-popover-top:0;width:100%}}@media (min-width:769px){.jb-select-web-component .popover-wrapper .select-list-wrapper::part(content){border:solid var(--border-width) var(--border-color);border-bottom:solid var(--border-bottom-width) var(--border-color);border-top:none}}.jb-select-web-component .popover-wrapper .select-list-wrapper .mobile-search-input-wrapper{display:none}@media (max-width:768px){.jb-select-web-component .popover-wrapper .select-list-wrapper .mobile-search-input-wrapper{margin-block-end:1rem;margin-inline:.75rem;display:block}.jb-select-web-component .popover-wrapper .select-list-wrapper .mobile-search-input-wrapper .search-input{background-color:var(--jb-select-mobile-input-bgcolor,var(--select-box-bg-color));border-radius:var(--box-border-radius);width:100%;height:var(--height)}}.jb-select-web-component .popover-wrapper .select-list-wrapper .select-list{width:100%;max-height:var(--jb-select-list-max-height,400px);overflow-y:auto}.jb-select-web-component .popover-wrapper .select-list-wrapper .select-list slot{padding:var(--jb-select-list-padding,16px 0)}.jb-select-web-component .popover-wrapper .select-list-wrapper .select-list slot:empty{padding:0}.jb-select-web-component .popover-wrapper .select-list-wrapper .select-list::-webkit-scrollbar{background-color:#0000;width:9px}.jb-select-web-component .popover-wrapper .select-list-wrapper .select-list::-webkit-scrollbar-thumb{background-color:var(--list-scroll-color);border-radius:var(--jb-select-list-scroll-border-radius,4px)}.jb-select-web-component .popover-wrapper .select-list-wrapper .empty-list-placeholder{text-align:center;color:var(--empty-list-placeholder-color);padding:8px 0;font-style:italic;display:none}.jb-select-web-component .popover-wrapper .select-list-wrapper .empty-list-placeholder.--show{display:block}.jb-select-web-component .search-input{box-sizing:border-box;width:100%;font-family:inherit;font-size:var(--jb-select-value-font-size,1.1rem);color:var(--value-color);border:none;padding:2px 12px 0;display:block}.jb-select-web-component .search-input:focus{outline:none}.jb-select-web-component .search-input::placeholder{color:var(--placeholder-color);font-size:var(--jb-select-placeholder-font-size,1.1em)} :host{--height:var(--jb-select-height,2.5rem);--rounded:var(--jb-select-rounded,var(--jb-radius));--box-border-radius:var(--jb-select-box-border-radius,var(--rounded));--list-border-radius:0 0 var(--rounded) var(--rounded);--border-width:var(--jb-select-border-width,1px);--border-bottom-width:var(--jb-select-border-bottom-width,var(--jb-select-border-width,3px));--base-z-index:1;--inline-space:calc(var(--rounded) / 1.75);--label-margin:var(--jb-select-label-margin,.125rem var(--inline-space));--label-font-size:var(--jb-select-label-font-size,.8rem);--message-font-size:var(--jb-select-message-font-size,.7rem);--border-color:var(--jb-select-border-color,var(--jb-neutral-10));--message-color:var(--jb-select-message-color,var(--jb-text-secondary));--label-color:var(--jb-select-label-color,var(--jb-text-primary));--value-color:var(--jb-select-value-color,var(--jb-text-primary));--placeholder-color:var(--jb-select-placeholder-color,var(--jb-neutral-6));--select-box-bg-color:var(--jb-select-bgcolor,var(--jb-neutral-10));--overlay-bg-color:var(--jb-select-overlay-bg-color,oklch(from var(--jb-black) l c h / calc(alpha - .5)));--list-scroll-color:var(--jb-select-list-scroll-color,oklch(from var(--select-box-bg-color) calc(l - .2) c h));--empty-list-placeholder-color:var(--jb-select-empty-list-placeholder-color,var(--jb-text-secondary))}:host(:state(invalid)){--message-color:var(--jb-select-message-error-color,var(--jb-red))}:host(:focus-within){--border-color:var(--jb-select-border-color-focus,var(--jb-neutral))}</style>

  <div class="jb-select-web-component">
    <div class="label-wrapper">
        <label class="--hide"><span class="label-value"></span></label>
    </div>
    <div class="select-box">
        <div class="start-section">
            <slot name="start-section"></slot>
        </div>
        <div class="middle-section">
            <div class="selected-value-wrapper"></div>
            <div class="front-box">
                <input class="search-input" />
            </div>
        </div>
        <div class="end-section">
        <jb-button class="clear-button" color="dark" variant="ghost" size="xs">
            <svg  viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.11183 24C1.57504 24 1.03826 23.8023 0.614479 23.3786C-0.204826 22.5596 -0.204826 21.2039 0.614479 20.3848L20.3908 0.614298C21.2101 -0.204766 22.5662 -0.204766 23.3855 0.614298C24.2048 1.43336 24.2048 2.78905 23.3855 3.60811L3.60918 23.3786C3.1854 23.8023 2.64861 24 2.11183 24Z" fill="currentColor"/>
                <path d="M21.8882 24C21.3514 24 20.8146 23.8023 20.3908 23.3786L0.614479 3.60811C-0.204826 2.78905 -0.204826 1.43336 0.614479 0.614298C1.43378 -0.204766 2.78987 -0.204766 3.60918 0.614298L23.3855 20.3848C24.2048 21.2039 24.2048 22.5596 23.3855 23.3786C22.9617 23.8023 22.425 24 21.8882 24Z" fill="currentColor"/>
            </svg>
        </jb-button>
            <div class="arrow-icon" tabindex="-1">
                <slot name="select-arrow-icon">
                    <svg width='8' height='8' id='Layer_1' x='0px' y='0px' viewBox='0 0 494.1 371.1'
                        style='enable-background:new 0 0 494.1 371.1;' xml:space='preserve'>
                        <path
                            d='M293,343.8L480.9,69.3c8.7-12.7,13.3-25.4,13.3-36.1c0-20.5-16.5-33.2-44-33.2H44C16.4,0,0,12.7,0,33.2  c0,10.6,4.6,23.2,13.3,35.9l187.9,274.6c12.1,17.7,28.4,27.4,45.9,27.4C264.6,371.1,280.9,361.4,293,343.8z' />
                    </svg>
                </slot>
            </div>
        </div>
    </div>
    <div class="popover-wrapper">
        <jb-popover class="select-list-wrapper">
            <div class="mobile-search-input-wrapper">
            <!-- Here we put search input in Mobile -->
            </div>
            <div class="select-list" tabindex="-1" role="listbox">
                <slot></slot>
            </div>
            <div class="empty-list-placeholder">
                <slot name="empty-list-message">no item available</slot>
            </div>
        </jb-popover>
    </div>
    <div class="message-box"></div>
  </div>
  `,e.appendChild(t.content.cloneNode(!0)),this.elements={input:e.querySelector(".search-input"),componentWrapper:e.querySelector(".jb-select-web-component"),selectedValueWrapper:e.querySelector(".selected-value-wrapper"),messageBox:e.querySelector(".message-box"),optionList:e.querySelector(".select-list"),optionListWrapper:e.querySelector(".select-list-wrapper"),optionListSlot:e.querySelector(".select-list-wrapper .select-list slot"),arrowIcon:e.querySelector(".arrow-icon"),clearButton:e.querySelector(".clear-button"),label:{wrapper:e.querySelector("label"),text:e.querySelector("label .label-value")},emptyListPlaceholder:e.querySelector(".empty-list-placeholder"),mobileSearchInputWrapper:e.querySelector(".mobile-search-input-wrapper"),frontBox:e.querySelector(".front-box")},i(this,s,fe).call(this),i(this,s,x).call(this),i(this,s,we).call(this)},we=function(){const e=()=>{U()?this.elements.mobileSearchInputWrapper.appendChild(this.elements.input):this.elements.frontBox.appendChild(this.elements.input)};addEventListener("resize",e),e()},fe=function(){this.elements.input.addEventListener("change",e=>{i(this,s,qe).call(this,e)}),this.elements.input.addEventListener("keypress",i(this,s,Le).bind(this)),this.elements.input.addEventListener("keyup",i(this,s,Te).bind(this)),this.elements.input.addEventListener("beforeinput",i(this,s,Ce).bind(this)),this.elements.input.addEventListener("input",e=>{i(this,s,Ve).call(this,e)}),this.addEventListener("focus",i(this,s,ze).bind(this)),this.elements.input.addEventListener("blur",i(this,s,Ae).bind(this)),this.elements.arrowIcon.addEventListener("click",i(this,s,Ee).bind(this)),this.elements.clearButton.addEventListener("click",i(this,s,ke).bind(this)),this.addEventListener("select",i(this,s,Ke).bind(this)),this.addEventListener("jb-option-connected",i(this,s,He).bind(this)),this.elements.optionListSlot.addEventListener("slotchange",i(this,s,je).bind(this))},ye=function(){this.textValue="",this.value=this.getAttribute("value")||null},xe=function(e,t){switch(e){case"label":this.elements.label.text.innerHTML=t,o(this,h).ariaLabel=t,t==null||t==null||t==""?this.elements.label.wrapper.classList.add("--hide"):this.elements.label.wrapper.classList.remove("--hide");break;case"message":o(this,h).ariaDescription=t,this.elements.messageBox.innerHTML=t;break;case"value":i(this,s,S).call(this,t);break;case"required":this.required=t===""||t=="true"||t=="True";break;case"placeholder":this.placeholder=t,o(this,h).ariaPlaceholder=t;break;case"search-placeholder":this.searchPlaceholder=t;break;case"error":this.reportValidity()}},x=function(){Array.from(o(this,y)).some(e=>e.hidden==0)?this.elements.emptyListPlaceholder.classList.remove("--show"):this.elements.emptyListPlaceholder.classList.add("--show")},je=function(e){i(this,s,H).call(this),i(this,s,x).call(this)},H=function(){o(this,g)?i(this,s,S).call(this,o(this,g))&&a(this,g,null):this.value&&i(this,s,S).call(this,this.value)},S=function(e){if(e==null)return i(this,s,T).call(this,null,null),!0;let t=null;return o(this,y).forEach(r=>{r.value==e&&(t=r)}),t?(i(this,s,T).call(this,t.value,t),!0):(a(this,g,e),!1)},N=function(e){o(this,y).forEach(t=>{t.selected=!1}),e&&(e.selected=!0,a(this,m,e))},T=function(e,t){a(this,g,null),a(this,w,e),e==null?(this.textValue="",i(this,s,_).call(this,null),i(this,s,N).call(this,null),this.elements.componentWrapper.classList.remove("--has-value"),this.isMobileDevice&&this.isOpen||(this.elements.input.placeholder=this.placeholder)):(this.textValue="",i(this,s,N).call(this,t),i(this,s,_).call(this,e),this.elements.componentWrapper.classList.add("--has-value"),this.isMobileDevice&&this.isOpen||(this.elements.input.placeholder="")),i(this,s,$).call(this,"")},Ee=function(){this.isOpen?this.blur():this.focus()},ke=function(e){e.stopPropagation(),e.preventDefault(),i(this,s,T).call(this,null,null),i(this,s,G).call(this,!0),i(this,s,F).call(this)},Le=function(e){const t={altKey:e.altKey,bubbles:e.bubbles,cancelable:e.cancelable,code:e.code,composed:e.composed,ctrlKey:e.ctrlKey,detail:e.detail,isComposing:e.isComposing,key:e.key,location:e.location,metaKey:e.metaKey,view:e.view,repeat:e.repeat,shiftKey:e.shiftKey},r=new KeyboardEvent("keypress",t);this.dispatchEvent(r)},Ce=function(e){},Ve=function(e){const t=e.target.value;this.textValue=t,i(this,s,O).call(this,t),o(this,b).checkValidity({showError:!1}),i(this,s,Se).call(this,e),i(this,s,x).call(this)},Se=function(e){const t=new InputEvent("input",{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed,data:e.data,dataTransfer:e.dataTransfer,detail:e.detail,inputType:e.inputType,isComposing:e.isComposing,targetRanges:e.getTargetRanges(),view:e.view});this.dispatchEvent(t)},Te=function(e){const t=e.target.value;e.key!=="Backspace"&&e.key!=="Delete"||i(this,s,O).call(this,t),i(this,s,Me).call(this,e)},O=function(e){e!==""?this.elements.selectedValueWrapper.classList.add("--search-typed"):this.elements.selectedValueWrapper.classList.remove("--search-typed")},Me=function(e){const t=new KeyboardEvent("keyup",{altKey:e.altKey,bubbles:e.bubbles,cancelable:e.cancelable,code:e.code,ctrlKey:e.ctrlKey,detail:e.detail,key:e.key,shiftKey:e.shiftKey,charCode:e.charCode,location:e.location,composed:e.composed,isComposing:e.isComposing,metaKey:e.metaKey,repeat:e.repeat,keyCode:e.keyCode,view:e.view});this.dispatchEvent(t)},qe=function(e){a(this,f,e.target.value)},ze=function(){this.focus()},Qe=function(){this.focus()},Ae=function(e){const t=e.relatedTarget;this.elements.optionListWrapper.contains(t)||this.elements.arrowIcon.contains(t)||this.blur()},We=function(){this.elements.optionListWrapper.classList.add("--show")},De=function(){this.elements.optionListWrapper.classList.remove("--show")},$=function(e){const t=new CustomEvent("filter-change",{detail:{filterText:e},bubbles:!1,cancelable:!1,composed:!1});this.dispatchEvent(t)},Ke=function(e){const t=o(this,w),r=o(this,m),v=e.composedPath()[0];if(v instanceof J){const V=v.value;i(this,s,Z).call(this,V,v),this.blur(),i(this,s,F).call(this).defaultPrevented&&(e.preventDefault(),i(this,s,Z).call(this,t,r))}},He=function(e){e.stopPropagation();const t=e.composedPath()[0];t.addEventListener("jb-option-disconnected",i(this,s,Oe).bind(this),{once:!0,passive:!0}),t.setSelectElement(this),o(this,y).add(t),o(this,g)&&i(this,s,H).call(this),i(this,s,x).call(this)},Oe=function(e){e.stopPropagation();const t=e.target;o(this,y).delete(t),i(this,s,x).call(this),t.value==o(this,w)&&i(this,s,H).call(this)},Z=function(e,t){i(this,s,T).call(this,e,t),i(this,s,G).call(this,!0)},F=function(){const e=new Event("change",{bubbles:!0,cancelable:!0});return this.dispatchEvent(e),e},_=function(e){if(this.elements.selectedValueWrapper.innerHTML="",e!=null){const t=i(this,s,Pe).call(this,e);this.elements.selectedValueWrapper.appendChild(t)}},Pe=function(e){return typeof this.callbacks.getSelectedValueDOM=="function"?this.callbacks.getSelectedValueDOM(e,o(this,m)):i(this,s,Be).call(this)},Be=function(){let e=[];o(this,m)&&(e=o(this,m).optionContent);const t=document.createElement("div");return t.classList.add("selected-value"),t.append(...e.map(r=>r.cloneNode())),t},Ie=function(){const e=[];if(this.getAttribute("error")!==null&&this.getAttribute("error").trim().length>0&&e.push({validator:void 0,message:this.getAttribute("error"),stateType:"customError"}),this.required){const t=this.getAttribute("label")||"",r=Ge.get(Fe,"requireMessage")(t||null);e.push({validator:({value:v})=>v!=null,message:r,stateType:"valueMissing"})}return e},G=function(e){if(!this.isAutoValidationDisabled)return o(this,b).checkValidity({showError:e})},Re=function(e){var t,r;if(e.isAllValid)(t=o(this,h))==null||t.setValidity({},"");else{const v={};let V="";e.validationList.forEach(K=>{K.isValid||(K.validation.stateType?v[K.validation.stateType]=!0:v.customError=!0,V==""&&(V=K.message))}),(r=o(this,h))==null||r.setValidity(v,V)}},ee);customElements.get("jb-select")||window.customElements.define("jb-select",Je);
