var m=e=>{throw TypeError(e)};var X=(e,r,t)=>r.has(e)||m("Cannot "+t);var b=(e,r,t)=>r.has(e)?m("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t);var l=(e,r,t)=>(X(e,r,"access private method"),t);import{r as s,R as I}from"./index-DwQS_Y10.js";import{o as Y}from"./index-Ds7_9gl2.js";import{a as Z,t as ee}from"./index-_b1slotr.js";import"./jb-validation-DPnsTO1v.js";import"./index-BsliqPsk.js";import"./index-bfIR6bpK.js";const re=new Z({fa:{validNumberMessage:"شماره موبایل معتبر نیست"},en:{validNumberMessage:"mobile number is not valid"}});var u,R,B,M,g,te=(g=class extends Y{constructor(){super();b(this,u);this.initMobileInputWebComponent()}initMobileInputWebComponent(){const r=document.createElement("template");r.innerHTML="<style>.jb-input-web-component{--jb-input-input-direction:var(--jb-mobile-input-input-direction,ltr)}</style>",this.shadowRoot.appendChild(r.content.cloneNode(!0)),this.validation.addValidationListGetter(l(this,u,R).bind(this)),this.addStandardValueCallback(l(this,u,M).bind(this))}},u=new WeakSet,R=function(){const r=[],t={validator:/^(?:09[0-9]{2} [0-9]{7})?$/g,message:re.get(ee,"validNumberMessage")};return r.push(t),r},B=function(r){const t=r.replace(/\s/g,"").replace(/\u06F0/g,"0").replace(/\u06F1/g,"1").replace(/\u06F2/g,"2").replace(/\u06F3/g,"3").replace(/\u06F4/g,"4").replace(/\u06F5/g,"5").replace(/\u06F6/g,"6").replace(/\u06F7/g,"7").replace(/\u06F8/g,"8").replace(/\u06F9/g,"9").replace(/[^0-9]/g,""),n=/(?<opCode>(09|0|9)?)(?<number>.{0,})/g.exec(t);if(n&&n.groups){let o,a=n.groups.number;if(a=a.substring(0,9),n.groups.opCode)o=n.groups.opCode==="9"?"09":n.groups.opCode;else{if(!(a.length>0))return"";o="09"}return o.length==1?o:o+a}return""},M=function(r){let t="",n="";n=l(this,u,B).call(this,r);const o=/(09[0-9]{0,2})([0-9]{0,7})/g.exec(n);return t=o&&o.length>0?o.slice(1).filter(a=>a!=="").join(" "):n,{value:n,displayValue:t}},g);customElements.get("jb-mobile-input")||window.customElements.define("jb-mobile-input",te);function i(e,r,t,n=!1){let o=s.useCallback(a=>{e.current&&typeof t=="function"&&t(a)},[e,t]);s.useEffect(()=>{let a=e.current;return a&&a.addEventListener(r,o,{passive:n,capture:!1}),function(){a&&a.removeEventListener(r,o,{passive:n,capture:!1})}},[e,r,t,n])}function j(e,r){i(e,"enter",r.onEnter),i(e,"input",r.onInput),i(e,"beforeinput",r.onBeforeinput),i(e,"change",r.onChange),i(e,"keydown",r.onKeydown),i(e,"keyup",r.onKeyup),i(e,"focus",r.onFocus),i(e,"blur",r.onBlur)}function L(e,r){s.useEffect(()=>{let t=r.value;(r.value==null||r.value===void 0)&&(t=""),e&&e.current&&e.current&&(e.current.value=(t==null?void 0:t.toString())||"")},[r.value]),s.useEffect(()=>{e&&e.current&&(e.current.validation.list=r.validationList||[])},[r.validationList]),s.useEffect(()=>{var t,n;typeof r.disabled=="boolean"&&r.disabled?(t=e==null?void 0:e.current)==null||t.setAttribute("disabled",""):(n=e==null?void 0:e.current)==null||n.removeAttribute("disabled")},[r.disabled]),s.useEffect(()=>{var t,n,o;typeof r.required=="string"&&((t=e==null?void 0:e.current)==null||t.setAttribute("required",r.required)),typeof r.required=="boolean"&&(r.required?(n=e==null?void 0:e.current)==null||n.setAttribute("required",""):(o=e==null?void 0:e.current)==null||o.removeAttribute("required"))},[r.required])}s.forwardRef((e,r)=>{let t=s.useRef(null);s.useImperativeHandle(r,()=>t?t.current:{},[t]);let{onBeforeinput:n,onBlur:o,onChange:a,onEnter:x,onFocus:K,onInput:A,onKeydown:S,onKeyup:$,size:k,autocomplete:W,disabled:H,error:J,inputmode:V,label:z,message:T,name:_,placeholder:G,required:O,type:D,validationList:P,value:Q,...U}=e;return j(t,{onBeforeinput:n,onBlur:o,onChange:a,onEnter:x,onFocus:K,onInput:A,onKeydown:S,onKeyup:$}),L(t,{disabled:H,required:O,validationList:P,value:Q}),I.createElement("jb-input",{ref:t,label:z,message:T,name:_,placeholder:G,size:k,type:D,error:J,inputmode:V,autocomplete:W,...U},e.children)}).displayName="JBInput";let N=s.forwardRef((e,r)=>{let t=s.useRef(null);return s.useImperativeHandle(r,()=>t?t.current:void 0,[t]),L(t,e),j(t,e),I.createElement("jb-mobile-input",{ref:t,class:e.className},e.children)});N.displayName="JBMobileInput";const pe={title:"Components/form elements/Inputs/JBMobileInput",component:N,argTypes:{error:{control:{type:"text"},description:"error message"}}},p={args:{label:"mobile",message:"please enter your mobile number"}},c={args:{label:"required",required:!0}},d={args:{label:"mobile",required:"please enter the full number"}};var f,v,h;p.parameters={...p.parameters,docs:{...(f=p.parameters)==null?void 0:f.docs,source:{originalSource:`{
  args: {
    label: 'mobile',
    message: "please enter your mobile number"
  }
}`,...(h=(v=p.parameters)==null?void 0:v.docs)==null?void 0:h.source}}};var y,q,E;c.parameters={...c.parameters,docs:{...(y=c.parameters)==null?void 0:y.docs,source:{originalSource:`{
  args: {
    label: 'required',
    required: true
  }
}`,...(E=(q=c.parameters)==null?void 0:q.docs)==null?void 0:E.source}}};var C,F,w;d.parameters={...d.parameters,docs:{...(C=d.parameters)==null?void 0:C.docs,source:{originalSource:`{
  args: {
    label: 'mobile',
    required: 'please enter the full number'
  }
}`,...(w=(F=d.parameters)==null?void 0:F.docs)==null?void 0:w.source}}};const ce=["Normal","Required","RequiredWithMessage"];export{p as Normal,c as Required,d as RequiredWithMessage,ce as __namedExportsOrder,pe as default};
