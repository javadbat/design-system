var S=r=>{throw TypeError(r)};var V=(r,o,e)=>o.has(r)||S("Cannot "+e);var a=(r,o,e)=>(V(r,o,"read from private field"),e?e.call(r):o.get(r)),b=(r,o,e)=>o.has(r)?S("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(r):o.set(r,e),u=(r,o,e,t)=>(V(r,o,"write to private field"),t?t.call(r,e):o.set(r,e),e),g=(r,o,e)=>(V(r,o,"access private method"),e);import{R as k,r as n}from"./index-CC6F48bw.js";import{e as ne}from"./jb-validation-DPnsTO1v.js";import{j as he}from"./index-CXPivJim.js";import{a as be,t as de}from"./index-_b1slotr.js";const ue=new be({fa:{requiredMessage:"چک میبایست فعال شود"},en:{requiredMessage:"must be checked"}});var h,m,p,i,d,v,l,ae,se,oe,ce,ie,le,M,ge=(M=class extends HTMLElement{constructor(){super();b(this,l);b(this,h,!1);b(this,m,null);b(this,p,!1);b(this,i);b(this,d,new ne({getValue:()=>this.value,getValidations:g(this,l,le).bind(this),getValueString:()=>this.value?"true":"false",setValidationResult:g(this,l,ie).bind(this),showValidationError:this.showValidationError.bind(this),clearValidationError:this.clearValidationError.bind(this)}));b(this,v,!1);this.initialValue=!1,this.isAutoValidationDisabled=!1,typeof this.attachInternals=="function"&&(u(this,i,this.attachInternals()),a(this,i).role="checkbox"),this.initWebComponent()}static get formAssociated(){return!0}get value(){return a(this,m)!==null?a(this,m):a(this,h)}set value(e){var t,s;a(this,h)!==e&&u(this,h,e),g(this,l,ce).call(this),a(this,i)&&(a(this,i).ariaSelected=e?"true":"false",e?(t=a(this,i).states)==null||t.add("checked"):(s=a(this,i).states)==null||s.delete("checked"),typeof a(this,i).setFormValue=="function"&&a(this,i).setFormValue(`${e}`))}get validation(){return a(this,d)}get name(){return this.getAttribute("name")||""}get isDirty(){return a(this,h)!==this.initialValue}set required(e){u(this,v,e),a(this,d).checkValiditySync({showError:!1})}get required(){return a(this,v)}get disabled(){return a(this,p)}set disabled(e){var t,s;u(this,p,e),e?((t=a(this,i).states)==null||t.add("disabled"),a(this,i).ariaDisabled="true"):((s=a(this,i).states)==null||s.delete("disabled"),a(this,i).ariaDisabled="false")}connectedCallback(){this.callOnLoadEvent(),this.initProp(),this.callOnInitEvent()}callOnLoadEvent(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)}callOnInitEvent(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)}initWebComponent(){const e=this.attachShadow({mode:"open",delegatesFocus:!0});he();const t=document.createElement("template");t.innerHTML=`<style>:host{cursor:pointer}:host(:state(disabled)){cursor:not-allowed}.jb-checkbox-web-component{grid-template:"check label"max-content"check message"max-content/2rem max-content;justify-content:start;align-items:center;gap:0 .5rem;display:grid}.jb-checkbox-web-component .label-wrapper{color:var(--label-color);grid-area:label;font-weight:400;display:inline-block}.jb-checkbox-web-component:has(.message-box:empty){grid-template-areas:"check label""check label"}.jb-checkbox-web-component .message-box{font-size:var(--jb-checkbox-message-font-size,.7rem);color:var(--message-color);display:var(--jb-checkbox-message-box-display,block);grid-area:message}.jb-checkbox-web-component .message-box:empty{padding:0;display:none}.jb-checkbox-web-component .svg-wrapper{grid-area:check;width:2rem;height:2rem}.jb-checkbox-web-component .svg-wrapper .check-box-svg{width:100%;height:100%}.jb-checkbox-web-component .svg-wrapper .check-box-svg.--active .checkmark__cube{rx:58px;ry:58px;stroke:#0000;transition:all .3s ease-in-out}.jb-checkbox-web-component .svg-wrapper .check-box-svg.--active .checkmark__check{animation:.3s cubic-bezier(.65,0,.45,1) .1s forwards stroke}.jb-checkbox-web-component .svg-wrapper .check-box-svg .checkmark__cube{fill:var(--check-bg-color);stroke:var(--check-border-color);stroke-width:1px;transition:all .3s ease-in-out}.jb-checkbox-web-component .svg-wrapper .check-box-svg .checkmark__check{stroke-width:5px;stroke:var(--check-mark-color);transform-origin:50%;stroke-dasharray:48;stroke-dashoffset:48px}@keyframes stroke{to{stroke-dashoffset:0}} :host{--label-color:var(--jb-checkbox-label-color,var(--jb-neutral-5));--message-color:var(--jb-checkbox-message-color,var(--jb-text-secondary));--check-bg-color:var(--jb-checkbox-check-bg-color,var(--jb-white));--check-border-color:var(--jb-checkbox-check-border-color,var(--jb-neutral-7));--check-mark-color:var(--jb-checkbox-check-mark-color,var(--jb-text-contrast))}:host(:state(invalid)){--message-color:var(--jb-checkbox-message-error-color,var(--jb-red))}:host(:state(checked)){--label-color:var(--jb-checkbox-label-color,var(--jb-text-primary));--check-bg-color:var(--jb-checkbox-check-bg-color-checked,var(--jb-green));--check-mark-color:var(--jb-checkbox-check-mark-color-checked,var(--jb-white))}:host(:state(disabled)){--check-bg-color:var(--jb-checkbox-check-bg-color-disabled,var(--jb-neutral-9))}</style>

    <div class="jb-checkbox-web-component">
      <div class="svg-wrapper">
        <svg class="check-box-svg" viewBox="0 0 52 52" part="checkbox">
          <rect class="checkmark__cube" x="0" y="0" width="52" height="52" rx="5" ry="5" part="check-bg"/>
          <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" part="check-mark"/>
        </svg>
      </div>
      <div class="label-wrapper" >
        <slot name="label" part="label"></slot>
      </div>
      <div class="message-box" part="message"></div>
    </div>
  `,e.appendChild(t.content.cloneNode(!0)),this.elements={componentWrapper:e.querySelector(".jb-checkbox-web-component"),label:e.querySelector(".label-wrapper slot"),svgWrapper:e.querySelector(".svg-wrapper"),svg:e.querySelector(".check-box-svg"),message:e.querySelector(".message-box")},this.registerEventListener()}registerEventListener(){this.elements.componentWrapper.addEventListener("click",()=>g(this,l,ae).call(this))}initProp(){this.value=this.getAttribute("value")==="true"||!1}static get observedAttributes(){return["label","message","value","name","disabled","required","error"]}attributeChangedCallback(e,t,s){this.onAttributeChange(e,s)}onAttributeChange(e,t){switch(e){case"value":this.value=!!t;break;case"label":this.elements.label.innerText=t,a(this,i).ariaLabel=t;break;case"disabled":t==""||t==="true"?this.disabled=!0:t!="false"&&t!=null&&t!=null||(this.disabled=!1);break;case"required":this.required=(t||t==="")&&t!=="false";break;case"message":this.elements.message.innerHTML=t;case"error":this.reportValidity()}}focus(){}showValidationError(e){var t;this.elements.message.innerHTML=e.message,(t=a(this,i).states)==null||t.add("invalid"),a(this,i).ariaInvalid="true"}clearValidationError(){var t;const e=this.getAttribute("message")||"";this.elements.message.innerHTML=e,(t=a(this,i).states)==null||t.delete("invalid"),a(this,i).ariaInvalid="false"}get validationMessage(){return a(this,i).validationMessage}checkValidity(){return a(this,d).checkValiditySync({showError:!1}).isAllValid}reportValidity(){return a(this,d).checkValiditySync({showError:!0}).isAllValid}},h=new WeakMap,m=new WeakMap,p=new WeakMap,i=new WeakMap,d=new WeakMap,v=new WeakMap,l=new WeakSet,ae=function(){if(a(this,p))return;u(this,m,!a(this,h));const e=g(this,l,se).call(this);u(this,m,null),e||(this.value=!a(this,h),a(this,d).checkValidity({showError:!0}),g(this,l,oe).call(this).defaultPrevented&&(this.value=!a(this,h)))},se=function(){const e=new CustomEvent("before-change",{cancelable:!0});return this.dispatchEvent(e),e.defaultPrevented},oe=function(){const e=new Event("change",{bubbles:!0,cancelable:!0,composed:!0});return this.dispatchEvent(e),e},ce=function(){this.value?this.elements.svg.classList.add("--active"):this.elements.svg.classList.remove("--active")},ie=function(e){if(e.isAllValid)a(this,i).setValidity({},"");else{const t={};let s="";e.validationList.forEach(c=>{c.isValid||(c.validation.stateType&&(t[c.validation.stateType]=!0),s==""&&(s=c.message))}),a(this,i).setValidity(t,s)}},le=function(){const e=[];if(a(this,v)){const t=this.getAttribute("required").length>0?this.getAttribute("required"):ue.get(de,"requiredMessage");e.push({validator:s=>s!==!1,message:t,stateType:"valueMissing"})}return this.getAttribute("error")!==null&&this.getAttribute("error").trim().length>0&&e.push({validator:void 0,message:this.getAttribute("error"),stateType:"customError"}),e},M);customElements.get("jb-checkbox")||window.customElements.define("jb-checkbox",ge);function T(r,o,e,t=!1){let s=n.useCallback(c=>{r.current&&typeof e=="function"&&e(c)},[r,e]);n.useEffect(()=>{let c=r.current;return c&&c.addEventListener(o,s,{passive:t,capture:!1}),function(){c&&c.removeEventListener(o,s,{passive:t,capture:!1})}},[r,o,e,t])}let A=k.forwardRef((r,o)=>{var e;let t=n.useRef(null);return n.useImperativeHandle(o,()=>t?t.current:void 0,[t]),n.useEffect(()=>{var s,c;e.name?(s=t==null?void 0:t.current)==null||s.setAttribute("name",e.name||""):(c=t==null?void 0:t.current)==null||c.removeAttribute("name")},[(e=r).name]),n.useEffect(()=>{e.message?t.current.setAttribute("message",e.message):t.current.removeAttribute("message")},[e.message]),n.useEffect(()=>{t&&t.current&&(t.current.validation.list=e.validationList||[])},[e.validationList]),n.useEffect(()=>{var s,c;typeof e.disabled=="boolean"&&e.disabled?(s=t==null?void 0:t.current)==null||s.setAttribute("disabled",""):(c=t==null?void 0:t.current)==null||c.removeAttribute("disabled")},[e.disabled]),n.useEffect(()=>{var s,c,L;typeof e.required=="string"&&((s=t==null?void 0:t.current)==null||s.setAttribute("required",e.required)),typeof e.required=="boolean"&&(e.required?(c=t==null?void 0:t.current)==null||c.setAttribute("required",""):(L=t==null?void 0:t.current)==null||L.removeAttribute("required"))},[e.required]),n.useEffect(()=>{t.current&&e.value!==null&&e.value!==void 0&&(t.current.value=e.value)},[e.value]),n.useEffect(()=>{var s,c;e.error?(s=t==null?void 0:t.current)==null||s.setAttribute("error",e.error):(c=t==null?void 0:t.current)==null||c.removeAttribute("error")},[e.error]),T(t,"before-change",r.onBeforeChange,!0),T(t,"change",r.onChange,!0),k.createElement("jb-checkbox",{class:r.className?r.className:"",label:r.label?r.label:"",ref:t,style:r.style},r.children)});A.displayName="JBSwitch";function me(r){const[o,e]=n.useState("");return k.createElement(A,{label:r.label,value:o,onChange:t=>{e(t.target.value)}})}const ye={title:"Components/form elements/JBCheckbox",component:A},f={args:{label:"checkbox",onChange:r=>{console.log("onChange",r.target.value)}}},x={args:{label:"Checkbox Label",message:"message of checkbox"}},w={args:{label:"required checkbox",message:"please check and then uncheck the checkbox to see validation error",required:!0}},y={args:{label:"disabled",disabled:!0,onChange:r=>{console.log("onChange",r.target.value)}}},E={args:{label:"disabled with true value",value:!0,disabled:!0,onChange:r=>{console.log("onChange",r.target.value)}}},C={args:{children:k.createElement("div",{style:{color:"blue"},slot:"label"},"label in children"),onChange:r=>{console.log("onChange",r.target.value)}}},j={args:{label:"with error",error:"error message passed from props"}},q={render:r=>k.createElement(me,{...r}),args:{label:"check box"}};var _,W,B;f.parameters={...f.parameters,docs:{...(_=f.parameters)==null?void 0:_.docs,source:{originalSource:`{
  args: {
    label: 'checkbox',
    onChange: e => {
      console.log('onChange', e.target.value);
    }
  }
}`,...(B=(W=f.parameters)==null?void 0:W.docs)==null?void 0:B.source}}};var D,I,R;x.parameters={...x.parameters,docs:{...(D=x.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    label: 'Checkbox Label',
    message: 'message of checkbox'
  }
}`,...(R=(I=x.parameters)==null?void 0:I.docs)==null?void 0:R.source}}};var H,N,J;w.parameters={...w.parameters,docs:{...(H=w.parameters)==null?void 0:H.docs,source:{originalSource:`{
  args: {
    label: 'required checkbox',
    message: 'please check and then uncheck the checkbox to see validation error',
    required: true
  }
}`,...(J=(N=w.parameters)==null?void 0:N.docs)==null?void 0:J.source}}};var O,P,z;y.parameters={...y.parameters,docs:{...(O=y.parameters)==null?void 0:O.docs,source:{originalSource:`{
  args: {
    label: 'disabled',
    disabled: true,
    onChange: e => {
      console.log('onChange', e.target.value);
    }
  }
}`,...(z=(P=y.parameters)==null?void 0:P.docs)==null?void 0:z.source}}};var F,$,G;E.parameters={...E.parameters,docs:{...(F=E.parameters)==null?void 0:F.docs,source:{originalSource:`{
  args: {
    label: 'disabled with true value',
    value: true,
    disabled: true,
    onChange: e => {
      console.log('onChange', e.target.value);
    }
  }
}`,...(G=($=E.parameters)==null?void 0:$.docs)==null?void 0:G.source}}};var K,Q,U;C.parameters={...C.parameters,docs:{...(K=C.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    children: <div style={{
      color: 'blue'
    }} slot="label">label in children</div>,
    onChange: e => {
      console.log('onChange', e.target.value);
    }
  }
}`,...(U=(Q=C.parameters)==null?void 0:Q.docs)==null?void 0:U.source}}};var X,Y,Z;j.parameters={...j.parameters,docs:{...(X=j.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: {
    label: 'with error',
    error: 'error message passed from props'
  }
}`,...(Z=(Y=j.parameters)==null?void 0:Y.docs)==null?void 0:Z.source}}};var ee,te,re;q.parameters={...q.parameters,docs:{...(ee=q.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  render: args => <JBCheckboxTest {...args}></JBCheckboxTest>,
  args: {
    label: 'check box'
  }
}`,...(re=(te=q.parameters)==null?void 0:te.docs)==null?void 0:re.source}}};const Ee=["Normal","WithMessage","Required","Disabled","DisabledTrue","ChildrenLabel","WithError","TestCheckbox"];export{C as ChildrenLabel,y as Disabled,E as DisabledTrue,f as Normal,w as Required,q as TestCheckbox,j as WithError,x as WithMessage,Ee as __namedExportsOrder,ye as default};
