var Q=Object.defineProperty;var I=n=>{throw TypeError(n)};var X=(n,s,e)=>s in n?Q(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e;var L=(n,s,e)=>X(n,typeof s!="symbol"?s+"":s,e),$=(n,s,e)=>s.has(n)||I("Cannot "+e);var r=(n,s,e)=>($(n,s,"read from private field"),e?e.call(n):s.get(n)),d=(n,s,e)=>s.has(n)?I("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(n):s.set(n,e),m=(n,s,e,t)=>($(n,s,"write to private field"),t?t.call(n,e):s.set(n,e),e),l=(n,s,e)=>($(n,s,"access private method"),e);import{o as C}from"./index-Yv0NwGSb.js";import{c as A,i as Z}from"./index-BsliqPsk.js";import{a as _,t as M}from"./index-NH_qbYOC.js";function R(n){if(n==null||n==null||n.trim().length==0)return!1;{let s=!isNaN(Number(n));if(!s){const e=A(n);s=!isNaN(Number(e))}return s}}const ee={validator:({value:n})=>n.trim().length==0||R(n),message:new _({fa:{numberValidation:"مقدار وارد شده میبایست عدد باشد"},en:{numberValidation:"Your entered value must be number"}}).get(M,"numberValidation")};var o,p,N,v,f,V,k,i,D,O,U,W,q,B,T,z,H,G,Y,w,te=(w=class extends C{constructor(){super();d(this,i);d(this,o,{maxValue:null,minValue:null,decimalPrecision:null,acceptNegative:!0});d(this,p,1);d(this,N,!1);d(this,v,",");d(this,f,M.locale.numberingSystem=="arabext");d(this,V,"");L(this,"numberInputElements");d(this,k,!1);l(this,i,O).call(this)}get minValue(){return r(this,o).minValue}set minValue(e){if(e==null)return void(r(this,o).minValue=null);const t=Number(e);Number.isNaN(t)?console.error("min value is not a valid number"):r(this,o).minValue=t}get maxValue(){return r(this,o).maxValue}set maxValue(e){if(e==null)return void(r(this,o).maxValue=null);const t=Number(e);Number.isNaN(t)?console.error("max value is not a valid number"):r(this,o).maxValue=t}get decimalPrecision(){return r(this,o).decimalPrecision}set decimalPrecision(e){if(e==null)return void(r(this,o).decimalPrecision=null);const t=Number(e);Number.isNaN(t)?console.error("decimalPrecision value is not a valid number"):r(this,o).decimalPrecision=t}get acceptNegative(){return r(this,o).acceptNegative}set acceptNegative(e){r(this,o).acceptNegative=!!e}get step(){return r(this,p)}set step(e){e!=null?Number.isNaN(Number(e))?console.error("step must be a number"):m(this,p,e):m(this,p,null)}get showThousandSeparator(){return r(this,N)}set showThousandSeparator(e){const t=!!e;t!==r(this,N)&&(m(this,N,t),this.value=`${this.value}`)}get thousandSeparator(){return r(this,v)}set thousandSeparator(e){r(this,v)!==e&&(m(this,v,String(e)),this.value=`${this.value}`)}get showPersianNumber(){return r(this,f)}set showPersianNumber(e){m(this,f,!!e),this.value=`${this.value}`}get invalidNumberReplacement(){return r(this,V)}set invalidNumberReplacement(e){m(this,V,String(e))}get showControlButton(){return r(this,k)}set showControlButton(e){e!=r(this,k)&&(m(this,k,e),e===!0?l(this,i,z).call(this):e===!1&&l(this,i,H).call(this))}static get numberInputObservedAttributes(){return["thousand-separator","step","show-persian-number","min","max","decimal-precision","accept-negative","show-control-button"]}static get observedAttributes(){return[...C.observedAttributes,...w.numberInputObservedAttributes]}attributeChangedCallback(e,t,c){[...w.numberInputObservedAttributes,"type"].includes(e)?l(this,i,W).call(this,e,c):this.onAttributeChange(e,c)}increaseNumber(e=!1){const t=Number(this.value);if(isNaN(t))return;const c=r(this,p);this.value=`${l(this,i,T).call(this,t,c)}`,this.validation.checkValidity({showError:!0}),e&&l(this,i,B).call(this)}decreaseNumber(e=!1){const t=parseFloat(this.value);if(isNaN(t))return;const c=r(this,o)?r(this,p):1;let b=l(this,i,T).call(this,t,-1*c);!(b<0)||r(this,o)&&r(this,o).acceptNegative||(b=0),this.value=`${b}`,this.validation.checkValidity({showError:!0}),e&&l(this,i,B).call(this)}},o=new WeakMap,p=new WeakMap,N=new WeakMap,v=new WeakMap,f=new WeakMap,V=new WeakMap,k=new WeakMap,i=new WeakSet,D=function(){this.elements.input.addEventListener("beforeinput",l(this,i,Y).bind(this)),this.addEventListener("keydown",l(this,i,G).bind(this))},O=function(){const e=document.createElement("template");e.innerHTML="<style>.jb-input-web-component{--jb-input-input-direction:var(--jb-number-input-input-direction,ltr)}.jb-input-web-component .number-control-wrapper .number-control-buttons{cursor:pointer;height:100%;display:flex}.jb-input-web-component .number-control-wrapper .number-control-buttons .number-control-button{width:var(--jb-number-input-button-width,36px);text-align:center;height:100%}.jb-input-web-component .number-control-wrapper .number-control-buttons .increase-number-button{background:var(--jb-number-input-increase-button-bg,transparent);border:var(--jb-number-input-increase-button-border,none);border-radius:var(--jb-number-input-increase-button-border-radius,0);box-sizing:border-box}.jb-input-web-component .number-control-wrapper .number-control-buttons .increase-number-button .increase-icon{stroke:var(--increase-button-color);stroke-width:14px;width:100%;height:100%;display:block}.jb-input-web-component .number-control-wrapper .number-control-buttons .increase-number-button:hover .increase-icon{stroke:var(--increase-button-color-hover)}.jb-input-web-component .number-control-wrapper .number-control-buttons .decrease-number-button{border:var(--jb-number-input-decrease-button-border,none);border-radius:var(--jb-number-input-decrease-button-border-radius,0);background:var(--jb-number-input-decrease-button-bg,transparent);box-sizing:border-box}.jb-input-web-component .number-control-wrapper .number-control-buttons .decrease-number-button .decrease-icon{stroke:var(--decrease-button-color);stroke-width:14px;width:100%;height:100%;display:block}.jb-input-web-component .number-control-wrapper .number-control-buttons .decrease-number-button:hover .decrease-icon{stroke:var(--decrease-button-color-hover)} :host{--increase-button-color:var(--jb-number-input-increase-button-color,var(--jb-neutral-7));--increase-button-color-hover:var(--jb-number-input-increase-button-color-hover,oklch(from var(--jb-green)calc(l + .07)calc(c + .07)h));--decrease-button-color:var(--jb-number-input-decrease-button-color,var(--jb-neutral-7));--decrease-button-color-hover:var(--jb-number-input-decrease-button-color-hover,oklch(from var(--jb-red)calc(l + .07)calc(c + .07)h))}</style>",this.shadowRoot.appendChild(e.content.cloneNode(!0)),this.validation.addValidationListGetter(l(this,i,q).bind(this)),this.elements.input.inputMode="numeric",this.numberInputElements={controlButtons:null},l(this,i,D).call(this),this.addStandardValueCallback(l(this,i,U).bind(this))},U=function(e,t,c,b){return(function(x,u,h,S){if(x=="-"&&u.acceptNegative==1)return{displayValue:x,value:"-0"};let a=x;h.useThousandSeparator&&(a=a.replace(new RegExp(`${h.thousandSeparator}`,"g"),""));const J=a[0]=="-";a=A(a).replace(/[^0-9.]/g,""),J&&u.acceptNegative&&(a="-"+a);let g=Number(a);isNaN(g)&&(a=a.replace(/\u06F0/g,"0").replace(/\u06F1/g,"1").replace(/\u06F2/g,"2").replace(/\u06F3/g,"3").replace(/\u06F4/g,"4").replace(/\u06F5/g,"5").replace(/\u06F6/g,"6").replace(/\u06F7/g,"7").replace(/\u06F8/g,"8").replace(/\u06F9/g,"9"),g=parseFloat(a),isNaN(g)&&(a=h.invalidNumberReplacement)),S!=="INPUT"&&a.length!==0&&(u.maxValue&&g>u.maxValue&&(g=u.maxValue,a=`${u.maxValue}`),u.minValue&&g<u.minValue&&(g=u.minValue,a=`${u.minValue}`)),S!=="INPUT"&&a.endsWith(".")&&(a=a.substring(0,a.length-1));const[j,P]=a.split("."),F=P?P.length:0;if(u&&u.decimalPrecision!==null&&u.decimalPrecision!=null&&F&&F>u.decimalPrecision){const K=new RegExp(`^-?\\d+(?:\\.\\d{0,${u.decimalPrecision}})?`),y=a.match(K);y&&y[0]&&(a=y[0])}j.startsWith("0")&&j.length>1&&(a=a.substring(1)),j.startsWith("-")&&j.charAt(1)=="0"&&j.length>2&&(a="-"+a.substring(2)),S!=="INPUT"&&P&&P.endsWith("0")&&(a=a.replace(/(\.\d*?[1-9])0+|\.0+$/,"$1"));const E={displayValue:a,value:a};return h.useThousandSeparator&&(E.displayValue=a.replace(new RegExp("\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))","g"),h.thousandSeparator)),h.showPersianNumber&&(E.displayValue=Z(E.displayValue)),E})(e,r(this,o),{invalidNumberReplacement:r(this,V),thousandSeparator:r(this,v),useThousandSeparator:this.showThousandSeparator,showPersianNumber:r(this,f)},b)},W=function(e,t){switch(e){case"thousand-separator":t==""||t=="true"||t=="false"?this.showThousandSeparator=t==""||t==="true":(m(this,N,!0),m(this,v,t));break;case"step":this.step=Number(t);break;case"show-persian-number":this.showPersianNumber=t==""||t==="true";break;case"min":this.minValue=t;break;case"max":this.maxValue=t;break;case"decimal-precision":this.decimalPrecision=t;break;case"accept-negative":t!=""&&t!="true"&&t!="false"||(this.acceptNegative=t==""||t==="true");break;case"show-control-button":t!=""&&t!="true"&&t!="false"||(this.showControlButton=t==""||t==="true")}},q=function(){return[ee]},B=function(){const e=new Event("change",{cancelable:!1});this.dispatchEvent(e)},T=function(e,t){const c=`${e}`.split(".")[1],b=`${t}`.split(".")[1],x=c?Math.pow(10,c.length+1):1,u=b?Math.pow(10,b.length+1):1,h=Math.max(x,u);return(e*h+t*h)/h},z=function(){const e=document.createElement("div");e.classList.add("number-control-wrapper"),e.innerHTML=`
  <div class="number-control-buttons">
    <div class="increase-number-button number-control-button">
        <svg class="increase-icon" viewBox="0 0 120 120">
            <path  stroke-linecap="round" d="M60,40 L60,80"></path>
            <path  stroke-linecap="round" d="M40,60 L80,60"></path>
        </svg>
    </div>
    <div class="decrease-number-button number-control-button">
        <svg class="decrease-icon" viewBox="0 0 120 120">
            <path  stroke-linecap="round" d="M40,60 L80,60"></path>
        </svg>
    </div>
  </div>
  `,e.querySelector(".increase-number-button").addEventListener("click",this.increaseNumber.bind(this,!0)),e.querySelector(".decrease-number-button").addEventListener("click",this.decreaseNumber.bind(this,!0)),this.elements.slots.endSection.appendChild(e),this.numberInputElements.controlButtons=e},H=function(){this.numberInputElements.controlButtons&&this.numberInputElements.controlButtons.remove()},G=function(e){const t=e.key;t=="ArrowUp"&&(this.increaseNumber(!1),e.preventDefault()),t=="ArrowDown"&&(this.decreaseNumber(!1),e.preventDefault())},Y=function(e){const t=e.target.selectionEnd||0,c=e.target.selectionStart||0;let b=!1;e.inputType==="deleteContentBackward"||R(e.data)||(b=!0,e.data!="."||r(this,o).decimalPrecision===0||this.value.indexOf(".")!=-1||t==0||c==0||r(this,o).decimalPrecision!==null&&this.value.substring(t).length>r(this,o).decimalPrecision||(b=!1),r(this,o).acceptNegative&&e.data[0]=="-"&&c==0&&(b=!1)),b&&e.preventDefault()},w);customElements.get("jb-number-input")||window.customElements.define("jb-number-input",te);
