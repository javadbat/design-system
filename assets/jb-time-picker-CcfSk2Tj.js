var xe=Object.defineProperty;var K=a=>{throw TypeError(a)};var be=(a,e,i)=>e in a?xe(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;var I=(a,e,i)=>be(a,typeof e!="symbol"?e+"":e,i),H=(a,e,i)=>e.has(a)||K("Cannot "+i);var s=(a,e,i)=>(H(a,e,"read from private field"),i?i.call(a):e.get(a)),k=(a,e,i)=>e.has(a)?K("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(a):e.set(a,i),S=(a,e,i,r)=>(H(a,e,"write to private field"),r?r.call(a,i):e.set(a,i),i),n=(a,e,i)=>(H(a,e,"access private method"),i);import{i as fe}from"./index-C-kj9kL4.js";import{j as ge}from"./index-DA-aheCX.js";import{t as we}from"./index-NH_qbYOC.js";const T="hour",g="minute",w="second",ke="prevTime",Q="currentTime",ye="nextTime",ee="MOVE",O="ADD_1",_="SUB_1";var p,x,o,q,X,D,t,ie,se,ne,C,L,re,y,G,R,b,v,oe,ce,me,le,he,Z,ae,ue,B,z,F,j,V,E,d,J,M,pe,de,N,U,Y,W,ve,Te,$,te,Pe=(te=class extends HTMLElement{constructor(){super();k(this,t);k(this,p,{second:0,minute:0,hour:0});I(this,"elements");k(this,x,{hour:24,minute:59,second:59});I(this,"focusedTimeUnit",null);k(this,o,null);k(this,q,!1);k(this,X,[]);k(this,D,we.locale.numberingSystem=="arabext");I(this,"textWidth",null);k(this,R,!0);k(this,b);k(this,v);n(this,t,ne).call(this)}get frontalZero(){return s(this,q)}set frontalZero(e){this.frontalZero!==e&&(S(this,q,e),n(this,t,L).call(this))}set optionalUnits(e){S(this,X,e),e.forEach(i=>{var r,c,m;(r=this.elements.currentTime[i])==null||r.classList.add("--optional"),(c=this.elements.nextTime[i])==null||c.classList.add("--optional"),(m=this.elements.prevTime[i])==null||m.classList.add("--optional")})}get optionalUnits(){return s(this,X)}get value(){return s(this,p)}set value(e){s(this,v).hour.isTextAnimationPlaying?s(this,v).hour.waitingAction=()=>{n(this,t,N).call(this,e.hour,T,!1)}:n(this,t,N).call(this,e.hour,T,!1),s(this,v).minute.isTextAnimationPlaying?s(this,v).minute.waitingAction=()=>{n(this,t,N).call(this,e.minute,g,!1)}:n(this,t,N).call(this,e.minute,g,!1),e.second&&(s(this,v).second.isTextAnimationPlaying?s(this,v).second.waitingAction=()=>{n(this,t,N).call(this,e.second,w,!1)}:n(this,t,N).call(this,e.second,w,!1))}get secondEnabled(){return s(this,R)}set secondEnabled(e){typeof e=="boolean"&&(S(this,R,e),e==0?n(this,t,ve).call(this):n(this,t,Te).call(this))}get showPersianNumber(){return s(this,D)}set showPersianNumber(e){S(this,D,!!e),n(this,t,L).call(this)}connectedCallback(){n(this,t,ie).call(this),n(this,t,oe).call(this),n(this,t,se).call(this)}get timeTextXPositions(){let e=212,i=512;return this.secondEnabled||(e=362,i=662),{hourX:e,minuteX:i,secondX:812}}static get observedAttributes(){return[]}attributeChangedCallback(e,i,r){n(this,t,ce).call(this,e,r)}setTimeUnitFocus(e){if(e!=this.focusedTimeUnit){const i=this.focusedTimeUnit;this.focusedTimeUnit=e,e&&(this.elements.currentTime[e].classList.add("--focused"),this.elements.nextTime[e]&&this.elements.nextTime[e].classList.add("--focused"),this.elements.prevTime[e]&&this.elements.prevTime[e].classList.add("--focused"),this.elements.substitutePrevTime[e]&&this.elements.substitutePrevTime[e].classList.add("--focused"),this.elements.substituteNextTime[e]&&this.elements.substituteNextTime[e].classList.add("--focused"),this.elements.timeIndicators[e].classList.add("--focused")),i&&i!==null&&(this.elements.currentTime[i].classList.remove("--focused"),this.elements.nextTime[i]&&this.elements.nextTime[i].classList.remove("--focused"),this.elements.prevTime[i]&&this.elements.prevTime[i].classList.remove("--focused"),this.elements.substitutePrevTime[i]&&this.elements.substitutePrevTime[i].classList.remove("--focused"),this.elements.substituteNextTime[i]&&this.elements.substituteNextTime[i].classList.remove("--focused"),this.elements.timeIndicators[i].classList.remove("--focused"))}}},p=new WeakMap,x=new WeakMap,o=new WeakMap,q=new WeakMap,X=new WeakMap,D=new WeakMap,t=new WeakSet,ie=function(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)},se=function(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)},ne=function(){const e=this.attachShadow({mode:"open"});ge();const i=document.createElement("template");i.innerHTML=`<style>.jb-time-picker-web-component{width:272px;height:272px}.jb-time-picker-web-component .svg-clock-wrapper{padding:16px}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock{width:100%;height:100%;overflow:visible}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .outer-circle{fill:var(--outer-circle-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .inner-circle{fill:var(--inner-circle-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper .time-text{text-anchor:middle;cursor:pointer;user-select:none;font-size:150px}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper .time-text.--hidden{display:none}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper .time-text.--optional{opacity:.6}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .time-text{fill:var(--current-text-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .time-text.--focused.hour-text{fill:var(--hour-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .time-text.--focused.minute-text{fill:var(--minute-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .time-text.--focused.second-text{fill:var(--second-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .separator-text{text-anchor:middle;fill:var(--separator-text-color);user-select:none;font-size:150px}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.current-time .separator-text.--hidden{display:none}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.prev-time .time-text{fill:var(--prev-text-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-text-wrapper.next-time .time-text{fill:var(--next-text-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators{fill:var(--indicator-text-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .hour-indicator{display:none}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .hour-indicator.--focused{display:initial;fill:var(--hour-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .minute-indicator{stroke-width:10px;display:none}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .minute-indicator.--focused{display:initial;fill:var(--minute-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .second-indicator{stroke-width:10px;display:none}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .second-indicator.--focused{display:initial;fill:var(--second-color)}.jb-time-picker-web-component .svg-clock-wrapper .svg-clock .time-indicators .second-indicator.--focused.--hidden{display:none} :host{--hour-color:var(--jb-time-picker-hour-color,var(--jb-primary));--minute-color:var(--jb-time-picker-minute-color,var(--jb-secondary));--second-color:var(--jb-time-picker-minute-color,var(--jb-highlight));--outer-circle-color:var(--jb-time-picker-outer-circle-color,var(--jb-neutral-9));--separator-text-color:var(--jb-time-picker-separator-text-color,var(--jb-neutral-8));--indicator-color:var(--jb-time-picker-separator-text-color,var(--jb-neutral-8));--prev-text-color:var(--jb-time-picker-prev-text-color,var(--jb-text-secondary));--current-text-color:var(--jb-time-picker-current-text-color,var(--jb-text-primary));--next-text-color:var(--jb-time-picker-next-text-color,var(--jb-text-secondary));--inner-circle-color:var(--jb-time-picker-inner-circle-color,var(--jb-white))}</style>

  <div class="jb-time-picker-web-component">
    <div class="svg-clock-wrapper">
        <svg class="svg-clock" viewBox="0 0 1024 1024">
            <circle cx="512" cy="512" r="512" class="outer-circle"></circle>
            <circle cx="512" cy="512" r="480" class="inner-circle"></circle>
            <g class="time-text-wrapper substitute-prev-time" mask="url(#PrevTimeWrapperMask)">
            </g>
            <g class="time-text-wrapper prev-time" mask="url(#PrevTimeWrapperMask)">
            </g>
            <g class="time-text-wrapper current-time">
                <text class="separator-text" dominant-baseline="middle" y="512" >:</text>
                <text class="separator-text" dominant-baseline="middle" y="512" >:</text>
            </g>
            <g class="time-text-wrapper next-time" mask="url(#NextTimeWrapperMask)">
            </g>
            <g class="time-text-wrapper substitute-next-time" mask="url(#NextTimeWrapperMask)">
            </g>
            <g class="time-indicators">
                <use class="hour-indicator"  xlink:href="#HourSymbol" x="512" y="512"></use>
                <use class="minute-indicator"  xlink:href="#MinuteSymbol" x="512" y="512"></use>
                <use class="second-indicator"  xlink:href="#SecondSymbol" x="512" y="512"></use>
            </g>
            <defs>
                <linearGradient id="next-time-opacity-filter"  gradientTransform="rotate(90)">
                    <stop offset="0%" style="stop-color: #97999a; stop-opacity: 1.0"/>
                    <stop offset="40%" style="stop-color: #97999a; stop-opacity: 1.0"/>
                    <stop offset="55%" style="stop-color: #97999a; stop-opacity: 0.4"/>
                    <stop offset="70%" style="stop-color: #97999a; stop-opacity: 0.10"/>
                    <stop offset="100%" style="stop-color: #97999a; stop-opacity: 0.0"/>
                </linearGradient>
                <linearGradient id="prev-time-opacity-filter"  gradientTransform="rotate(90)">
                    <stop offset="0%" style="stop-color: #97999a; stop-opacity: 0.0"/>
                    <stop offset="30%" style="stop-color: #97999a; stop-opacity: 0.10"/>
                    <stop offset="45%" style="stop-color: #97999a; stop-opacity: 0.4"/>
                    <stop offset="60%" style="stop-color: #97999a; stop-opacity: 1.0"/>
                    <stop offset="100%" style="stop-color: #97999a; stop-opacity: 1.0"/>
                  </linearGradient>
                  <mask id="PrevTimeWrapperMask">
                    <rect x="0" y="250" width="1024" height="300" fill="url(#prev-time-opacity-filter)"  />
                  </mask>
                  <mask id="NextTimeWrapperMask">
                    <rect x="0" y="450" width="1024" height="300" fill="url(#next-time-opacity-filter)"  />
                  </mask>
                  <g id="HourSymbol">
                      <circle r="50" cx="0" cy="0" class="hour-symbol"></circle>
                  </g>
                  <g id="MinuteSymbol">
                    <circle r="40" cx="0" cy="0" class="minute-symbol"></circle>
                </g>
                <g id="SecondSymbol">
                    <circle r="30" cx="0" cy="0" class="second-symbol"></circle>
                </g>
              </defs>
        </svg>
    </div>
  </div>
  `,e.appendChild(i.content.cloneNode(!0)),this.elements={svgDOM:e.querySelector(".svg-clock"),timeIndicators:{hour:e.querySelector(".hour-indicator"),minute:e.querySelector(".minute-indicator"),second:e.querySelector(".second-indicator")},substitutePrevTime:{wrapper:e.querySelector(".substitute-prev-time"),hour:null,minute:null,second:null},prevTime:{wrapper:e.querySelector(".prev-time"),hour:null,minute:null,second:null},currentTime:{wrapper:e.querySelector(".current-time"),hour:null,minute:null,second:null},nextTime:{wrapper:e.querySelector(".next-time"),hour:null,minute:null,second:null},substituteNextTime:{wrapper:e.querySelector(".substitute-next-time"),hour:null,minute:null,second:null},separatorTexts:e.querySelectorAll(".separator-text")},n(this,t,re).call(this)},C=function(){n(this,t,M).call(this,T,this.value.hour),n(this,t,M).call(this,g,this.value.minute),this.secondEnabled&&this.value.second&&n(this,t,M).call(this,w,this.value.second)},L=function(){const e=n(this,t,Y).call(this,this.value.hour,T),i=n(this,t,Y).call(this,this.value.minute,g),r=n(this,t,Y).call(this,this.value.second||0,w),c=this.shadowRoot.querySelector(".substitute-prev-time");if(this.elements.substitutePrevTime.hour&&(this.elements.substitutePrevTime.hour.remove(),this.elements.substitutePrevTime.hour=null),this.elements.substitutePrevTime.minute&&(this.elements.substitutePrevTime.minute.remove(),this.elements.substitutePrevTime.minute=null),this.elements.substitutePrevTime.second&&(this.elements.substitutePrevTime.second.remove(),this.elements.substitutePrevTime.second=null),e>1){const l=n(this,t,d).call(this,T,"substitutePrevTime",e-2);c.append(l),this.elements.substitutePrevTime.hour=l}if(i>1){const l=n(this,t,d).call(this,g,"substitutePrevTime",i-2);c.append(l),this.elements.substitutePrevTime.minute=l}if(this.secondEnabled&&r>1){const l=n(this,t,d).call(this,w,"substitutePrevTime",r-2);c.append(l),this.elements.substitutePrevTime.second=l}const m=this.shadowRoot.querySelector(".prev-time");if(this.elements.prevTime.hour&&(this.elements.prevTime.hour.remove(),this.elements.prevTime.hour=null),this.elements.prevTime.minute&&(this.elements.prevTime.minute.remove(),this.elements.prevTime.minute=null),this.elements.prevTime.second&&(this.elements.prevTime.second.remove(),this.elements.prevTime.second=null),e>0){const l=n(this,t,d).call(this,T,"prevTime",e-1);m.append(l),this.elements.prevTime.hour=l}if(i>0){const l=n(this,t,d).call(this,g,"prevTime",i-1);m.append(l),this.elements.prevTime.minute=l}if(this.secondEnabled&&r>0){const l=n(this,t,d).call(this,w,"prevTime",r-1);m.append(l),this.elements.prevTime.second=l}this.elements.currentTime.hour&&(this.elements.currentTime.hour.remove(),this.elements.currentTime.hour=null);const h=n(this,t,d).call(this,T,"currentTime",e);this.elements.currentTime.hour=h,this.elements.currentTime.minute&&(this.elements.currentTime.minute.remove(),this.elements.currentTime.minute=null);const u=n(this,t,d).call(this,g,"currentTime",i);this.elements.currentTime.minute=u,this.elements.currentTime.second&&(this.elements.currentTime.second.remove(),this.elements.currentTime.second=null);const A=this.shadowRoot.querySelector(".current-time");if(A.append(h,u),this.secondEnabled){const l=n(this,t,d).call(this,w,"currentTime",r);this.elements.currentTime.second=l,A.append(l)}const f=this.shadowRoot.querySelector(".next-time");if(this.elements.nextTime.hour&&(this.elements.nextTime.hour.remove(),this.elements.nextTime.hour=null),this.elements.nextTime.minute&&(this.elements.nextTime.minute.remove(),this.elements.nextTime.minute=null),this.elements.nextTime.second&&(this.elements.nextTime.second.remove(),this.elements.nextTime.second=null),e<s(this,x).hour){const l=n(this,t,d).call(this,T,"nextTime",e+1);f.append(l),this.elements.nextTime.hour=l}if(i<s(this,x).minute){const l=n(this,t,d).call(this,g,"nextTime",i+1);f.append(l),this.elements.nextTime.minute=l}if(this.secondEnabled&&r<s(this,x).second){const l=n(this,t,d).call(this,w,"nextTime",r+1);f.append(l),this.elements.nextTime.second=l}const P=this.shadowRoot.querySelector(".substitute-next-time");if(this.elements.substituteNextTime.hour&&(this.elements.substituteNextTime.hour.remove(),this.elements.substituteNextTime.hour=null),this.elements.substituteNextTime.minute&&(this.elements.substituteNextTime.minute.remove(),this.elements.substituteNextTime.minute=null),this.elements.substituteNextTime.second&&(this.elements.substituteNextTime.second.remove(),this.elements.substituteNextTime.second=null),e+1<s(this,x).hour){const l=n(this,t,d).call(this,T,"substituteNextTime",e+2);P.append(l),this.elements.substituteNextTime.hour=l}if(i+1<s(this,x).minute){const l=n(this,t,d).call(this,g,"substituteNextTime",i+2);P.append(l),this.elements.substituteNextTime.minute=l}if(this.secondEnabled&&r+2<s(this,x).second){const l=n(this,t,d).call(this,w,"substituteNextTime",r+2);P.append(l),this.elements.substituteNextTime.second=l}n(this,t,y).call(this,T,"prevTime"),n(this,t,y).call(this,g,"prevTime"),n(this,t,y).call(this,T,"currentTime"),n(this,t,y).call(this,g,"currentTime"),n(this,t,y).call(this,T,"nextTime"),n(this,t,y).call(this,g,"nextTime"),this.secondEnabled&&(n(this,t,y).call(this,w,"prevTime"),n(this,t,y).call(this,w,"currentTime"),n(this,t,y).call(this,w,"nextTime"))},re=function(){this.shadowRoot.addEventListener("mousemove",e=>{n(this,t,ae).call(this,e)}),this.elements.svgDOM.addEventListener("touchmove",e=>{n(this,t,ue).call(this,e)}),this.shadowRoot.addEventListener("mouseup",n(this,t,V).bind(this)),this.elements.svgDOM.addEventListener("touchend",n(this,t,V).bind(this))},y=function(e,i){const r=this.elements[i][e];if(r){const c=r._boundedMouseDownEvent;typeof c=="function"&&(r.removeEventListener("mousedown",c),r.removeEventListener("touchstart",r._boundedTouchStartEvent));const m=u=>{n(this,t,he).call(this,u,e,i)},h=u=>{n(this,t,le).call(this,u,e,i)};r.addEventListener("mousedown",m),r.addEventListener("touchstart",h),r._boundedMouseDownEvent=m,r._boundedTouchStartEvent=h}},G=function(){return this.secondEnabled?[362,662]:[512]},R=new WeakMap,b=new WeakMap,v=new WeakMap,oe=function(){const e=this;S(this,b,{substitutePrevTimeTextY:212,prevTimeTextY:362,currentTimeTextY:512,nextTimeTextY:662,substituteNextTimeTextY:812,get hourTextX(){return e.timeTextXPositions.hourX},get minuteTextX(){return e.timeTextXPositions.minuteX},get secondTextX(){return e.timeTextXPositions.secondX},timeStepYDiff:150,get svgPosScale(){return 1}}),Object.defineProperty(s(this,b),"svgPosScale",{get:()=>{if(this.elements.timeIndicators&&this.elements.timeIndicators.hour){const i=this.elements.timeIndicators.hour.getCTM();return i&&typeof i.inverse=="function"?i.inverse().a:1}return 1}}),S(this,v,{hour:{isTextAnimationPlaying:!1,waitingAction:null},minute:{isTextAnimationPlaying:!1,waitingAction:null},second:{isTextAnimationPlaying:!1,waitingAction:null}}),n(this,t,L).call(this),n(this,t,C).call(this),n(this,t,$).call(this)},ce=function(e,i){},me=function(e,i){if(i==ke||i==ye){const r=this.elements[i][e].innerHTML,c=n(this,t,Y).call(this,parseInt(r),e);n(this,t,N).call(this,c,e,!0)}},le=function(e,i,r){const c=e.touches[0].pageY;n(this,t,Z).call(this,c,i,r)},he=function(e,i,r){const c=e.pageY;n(this,t,Z).call(this,c,i,r)},Z=function(e,i,r){S(this,o,{dom:this.elements.prevTime[i],timeUnit:i,timeStep:r,startY:e,iterationDone:0,lastAction:null,actionRecords:[],addActionRecord:function(c){c!==ee&&this.actionRecords.push(c),this.lastAction=c},get lastLogicalAction(){return this.actionRecords[this.actionRecords.length-1]},isDragged:!1,acc:{inDirectionMoveStack:[0],prevTouchYPos:null,direction:0,t:performance.now(),captureMove:function(c){const m=c>0?1:-1;m==this.direction||this.direction==0?(this.inDirectionMoveStack.push(c),this.direction=m):(this.inDirectionMoveStack=[c],this.direction=m,this.t=performance.now())}}}),this.setTimeUnitFocus(i)},ae=function(e){const i=e.pageY,r=e.movementY;n(this,t,B).call(this,i,r)},ue=function(e){if(s(this,o)){const i=e.touches[0].pageY,r=s(this,o).acc.prevTouchYPos?s(this,o).acc.prevTouchYPos:s(this,o).startY;s(this,o).acc.prevTouchYPos=i;const c=i-r;e.preventDefault(),n(this,t,B).call(this,i,c)}},B=function(e,i){if(s(this,o)){s(this,o).isDragged=!0;const r=100,c=e-s(this,o).startY,m=s(this,b).svgPosScale*c;let h=ee;(s(this,o).iterationDone==0||s(this,o).lastLogicalAction==O)&&m>r&&s(this,p)[s(this,o).timeUnit]>0&&(h=_),(s(this,o).iterationDone==0||s(this,o).lastLogicalAction==_)&&m<-1*r&&s(this,p)[s(this,o).timeUnit]<s(this,x)[s(this,o).timeUnit]&&(h=O),h==_?(s(this,p)[s(this,o).timeUnit]=s(this,p)[s(this,o).timeUnit]-1,n(this,t,W).call(this),s(this,o).iterationDone+=1,n(this,t,z).call(this,s(this,o).timeUnit,m),s(this,o).startY=e,s(this,o).timeStep=s(this,o).timeStep==Q?"nextTime":"currentTime",n(this,t,J).call(this,s(this,o).timeUnit,s(this,p)[s(this,o).timeUnit])):h==O?(s(this,p)[s(this,o).timeUnit]=s(this,p)[s(this,o).timeUnit]+1,n(this,t,W).call(this),s(this,o).iterationDone+=1,n(this,t,F).call(this,s(this,o).timeUnit,m),s(this,o).startY=e,s(this,o).timeStep=s(this,o).timeStep==Q?"prevTime":"currentTime",n(this,t,J).call(this,s(this,o).timeUnit,s(this,p)[s(this,o).timeUnit])):(this.elements.substitutePrevTime[s(this,o).timeUnit]&&(this.elements.substitutePrevTime[s(this,o).timeUnit].style.transform=`translateY(${m}px)`),this.elements.prevTime[s(this,o).timeUnit]&&(this.elements.prevTime[s(this,o).timeUnit].style.transform=`translateY(${m}px)`),this.elements.currentTime[s(this,o).timeUnit].style.transform=`translateY(${m}px)`,this.elements.nextTime[s(this,o).timeUnit]&&(this.elements.nextTime[s(this,o).timeUnit].style.transform=`translateY(${m}px)`),this.elements.substituteNextTime[s(this,o).timeUnit]&&(this.elements.substituteNextTime[s(this,o).timeUnit].style.transform=`translateY(${m}px)`)),s(this,o).addActionRecord(h),s(this,o).acc.captureMove(i)}},z=function(e,i){const r=this.elements.substituteNextTime[e];if(this.elements.substituteNextTime[e]=null,r&&r.remove(),n(this,t,j).call(this,e,"nextTime","substituteNextTime",i),n(this,t,j).call(this,e,"currentTime","nextTime",i),n(this,t,j).call(this,e,"prevTime","currentTime",i),n(this,t,j).call(this,e,"substitutePrevTime","prevTime",i),s(this,p)&&s(this,p)[e]>1){const c=s(this,p)[e]-2,m=n(this,t,d).call(this,e,"substitutePrevTime",c);this.elements.substitutePrevTime.wrapper.appendChild(m),this.elements.substitutePrevTime[e]=m}},F=function(e,i){const r=this.elements.substitutePrevTime[e];if(this.elements.substitutePrevTime[e]=null,r&&r.remove(),n(this,t,j).call(this,e,"prevTime","substitutePrevTime",i),n(this,t,j).call(this,e,"currentTime","prevTime",i),n(this,t,j).call(this,e,"nextTime","currentTime",i),n(this,t,j).call(this,e,"substituteNextTime","nextTime",i),s(this,p)[e]+1<s(this,x)[e]){const c=s(this,p)[e]+2,m=n(this,t,d).call(this,e,"substituteNextTime",c);this.elements.substituteNextTime.wrapper.appendChild(m),this.elements.substituteNextTime[e]=m}},j=function(e,i,r,c){const m=this.elements[i][e];if(m){m.setAttribute("y",s(this,b)[r+"TextY"]);let h=0;c>0&&(h=-1*(s(this,b).timeStepYDiff-c)),c<0&&(h=s(this,b).timeStepYDiff+c),m.style.transform=`translateY(${h}px)`,this.elements[r].wrapper.appendChild(m),this.elements[r][e]=m,n(this,t,y).call(this,e,r),this.elements[i][e]=null}},V=function(){if(s(this,o)){n(this,t,de).call(this);const e=s(this,o).timeUnit,i=s(this,o).timeStep;n(this,t,E).call(this,this.elements.substitutePrevTime[e]),n(this,t,E).call(this,this.elements.prevTime[e]),n(this,t,E).call(this,this.elements.currentTime[e]),n(this,t,E).call(this,this.elements.nextTime[e]),n(this,t,E).call(this,this.elements.substituteNextTime[e]),s(this,o).isDragged||n(this,t,me).call(this,e,i),S(this,o,null)}},E=function(e){e&&(e.style.transition="transform 0.3s 0s ease",setTimeout(()=>{e.style.transition=""},300),e.style.transform="")},d=function(e,i,r){const c=s(this,b)[i+"TextY"],m=s(this,b)[e+"TextX"],h=document.createElementNS("http://www.w3.org/2000/svg","text");h.classList.add(`${e}-text`,"time-text"),h.setAttributeNS(null,"dominant-baseline","middle"),this.textWidth&&h.setAttributeNS(null,"textLength",this.textWidth.toString()),h.setAttributeNS(null,"lengthAdjust","spacing"),h.setAttributeNS(null,"y",c),h.setAttributeNS(null,"x",m);let u=r.toString();return this.frontalZero&&r<10&&(u="0"+u),s(this,D)&&(u=fe(u)),h.innerHTML=u,this.focusedTimeUnit==e&&h.classList.add("--focused"),this.optionalUnits.includes(e)&&h.classList.add("--optional"),h},J=function(e,i){n(this,t,M).call(this,e,i)},M=function(e,i){const r=n(this,t,pe).call(this,i,e);this.elements.timeIndicators[e].setAttribute("x",r.x.toString()),this.elements.timeIndicators[e].setAttribute("y",r.y.toString())},pe=function(e,i){const r=(e*(i==T?30:6)-90)*(Math.PI/180);return{x:512+496*Math.cos(r),y:512+496*Math.sin(r)}},de=function(){if(s(this,o)){const e=s(this,o).acc.inDirectionMoveStack.reduce((c,m)=>c+m),i=s(this,b).svgPosScale*e,r=e/(performance.now()-s(this,o).acc.t);if(Math.abs(i)>200){const c=Math.round(Math.abs(10*r)),m=s(this,o).timeUnit,h=-1*s(this,o).acc.direction*c+this.value[m],u=n(this,t,Y).call(this,h,m);n(this,t,N).call(this,u,m)}}},N=function(e,i,r=!0){const c=e-this.value[i];if(c==0)return;let m=Math.abs(c);const h=c>0?1:c==0?0:-1,u=()=>{let A=!1;const f=()=>{A||(s(this,v)[i].isTextAnimationPlaying=!1,A=!0,s(this,p)[i]=s(this,p)[i]+h,r&&n(this,t,W).call(this),h==1&&n(this,t,F).call(this,i,0),h==-1&&n(this,t,z).call(this,i,0),typeof s(this,v)[i].waitingAction=="function"?(s(this,v)[i].waitingAction(),s(this,v)[i].waitingAction=null):(m--,m>0&&u()))},P=50+(Math.abs(c)==1?100:150/(Math.abs(c)-1))*(Math.abs(c)-m),l=m==1?"ease":"linear";s(this,v)[i].isTextAnimationPlaying=!0,n(this,t,U).call(this,i,"substitutePrevTime",h,f,P,l),n(this,t,U).call(this,i,"prevTime",h,f,P,l),n(this,t,U).call(this,i,"currentTime",h,f,P,l),n(this,t,U).call(this,i,"nextTime",h,f,P,l),n(this,t,U).call(this,i,"substituteNextTime",h,f,P,l),n(this,t,M).call(this,i,e)};m>0&&u()},U=function(e,i,r,c,m=100,h="linear"){const u=-1*r*s(this,b).timeStepYDiff,A=`${Math.random()}-animation`,f=this.elements[i][e];f&&(f.animate([{transform:"translateY(0px)"},{transform:`translateY(${u}px)`}],{id:A,duration:m,easing:h}).onfinish=c)},Y=function(e,i){return e<0?0:e>s(this,x)[i]?s(this,x)[i]:Math.round(e)},W=function(){const e=new CustomEvent("change");this.dispatchEvent(e)},ve=function(){function e(i){i&&i.classList.add("--hidden")}e(this.elements.currentTime.second),e(this.elements.nextTime.second),e(this.elements.substituteNextTime.second),e(this.elements.prevTime.second),e(this.elements.substitutePrevTime.second),e(this.elements.timeIndicators.second),e(this.elements.separatorTexts[1]),n(this,t,L).call(this),n(this,t,C).call(this),n(this,t,$).call(this)},Te=function(){function e(i){i&&i.classList.remove("--hidden")}e(this.elements.currentTime.second),e(this.elements.nextTime.second),e(this.elements.substituteNextTime.second),e(this.elements.prevTime.second),e(this.elements.substitutePrevTime.second),e(this.elements.timeIndicators.second),e(this.elements.separatorTexts[1]),n(this,t,L).call(this),n(this,t,C).call(this),n(this,t,$).call(this)},$=function(){this.elements.separatorTexts[0].setAttribute("x",s(this,t,G)[0].toString()),this.secondEnabled?(this.elements.separatorTexts[1].setAttribute("x",s(this,t,G)[1].toString()),this.elements.separatorTexts[1].classList.remove("--hidden")):this.elements.separatorTexts[1].classList.add("--hidden")},te);customElements.get("jb-time-picker")||window.customElements.define("jb-time-picker",Pe);
