import{r,R as c}from"./index-D4lIrffr.js";import"./jb-date-input-B-CWo3lr.js";function u(e,l,t,o=!1){let a=r.useCallback(n=>{e.current&&typeof t=="function"&&t(n)},[e,t]);r.useEffect(()=>{let n=e.current;return n&&n.addEventListener(l,a,{passive:o,capture:!1}),function(){n&&n.removeEventListener(l,a,{passive:o,capture:!1})}},[e,l,t,o])}let i=r.forwardRef((e,l)=>{let t=r.useRef(null);r.useImperativeHandle(l,()=>t?t.current:{},[t]);let o=r.useRef([]);return r.useEffect(()=>{var a,n;e.format&&(e.format!==((a=t.current)==null?void 0:a.valueFormat)&&((n=t.current)==null||n.setAttribute("format",e.format)),o.current.length>0&&(o.current.forEach(s=>{s()}),o.current=[]))},[e.format]),r.useEffect(()=>{var a,n;e.max&&(e.format&&e.format!==((a=t.current)==null?void 0:a.valueFormat)?o.current.push(()=>{var s;e.max&&((s=t.current)==null||s.setMaxDate(e.max))}):(n=t.current)==null||n.setMaxDate(e.max))},[e.max]),r.useEffect(()=>{var a,n;e.min&&(e.format&&e.format!==((a=t.current)==null?void 0:a.valueFormat)?o.current.push(()=>{var s;e.min&&((s=t.current)==null||s.setMinDate(e.min))}):(n=t.current)==null||n.setMinDate(e.min))},[e.min]),r.useEffect(()=>{t.current&&e.value&&(t.current.value=e.value)},[e.value]),r.useEffect(()=>{t.current&&t.current.setAttribute("message",e.message||"")},[e.message]),r.useEffect(()=>{t.current&&Array.isArray(e.jalaliMonthList)&&t.current.setMonthList("JALALI",e.jalaliMonthList)},[e.jalaliMonthList]),r.useEffect(()=>{t.current&&Array.isArray(e.gregorianMonthList)&&t.current.setMonthList("GREGORIAN",e.gregorianMonthList)},[e.gregorianMonthList]),r.useEffect(()=>{t.current&&e.placeholder!==void 0&&(t.current.placeholder=e.placeholder)},[e.placeholder]),r.useEffect(()=>{t.current&&e.overflowHandler!==void 0&&(t.current.elements.popover.overflowHandler=e.overflowHandler)},[e.overflowHandler]),r.useEffect(()=>{t.current&&e.overflowRef!==void 0&&(t.current.elements.popover.overflowDom=e.overflowRef.current)},[e.overflowRef]),r.useEffect(()=>{t.current&&typeof e.style=="string"&&t.current.setAttribute("style",e.style)},[e.style]),r.useEffect(()=>{t.current&&Array.isArray(e.validationList)&&(t.current.validation.list=e.validationList)},[e.validationList]),r.useEffect(()=>{t.current&&e.direction&&t.current.setAttribute("direction",e.direction)},[e.direction]),r.useEffect(()=>{t.current&&(e.required?t.current.required=!0:t.current.required=!1)},[e.required,t.current]),r.useEffect(()=>{var a;typeof e.calendarDefaultDateView=="object"&&e.calendarDefaultDateView.year&&e.calendarDefaultDateView.month&&((a=t.current)==null||a.setCalendarDefaultDateView(e.calendarDefaultDateView.year,e.calendarDefaultDateView.month,e.calendarDefaultDateView.dateType))},[e.calendarDefaultDateView]),r.useEffect(()=>{var a,n;e.showPersianNumber?(a=t.current)==null||a.setAttribute("show-persian-number","true"):(n=t.current)==null||n.removeAttribute("show-persian-number")},[e.showPersianNumber]),r.useEffect(()=>{var a;typeof e.disabled=="boolean"&&((a=t==null?void 0:t.current)==null||a.setAttribute("disabled",`${e.disabled}`))},[e.disabled]),r.useEffect(()=>{var a,n;e.error?(a=t==null?void 0:t.current)==null||a.setAttribute("error",e.error):(n=t==null?void 0:t.current)==null||n.removeAttribute("error")},[e.error]),u(t,"load",e.onLoad,!0),u(t,"init",e.onInit,!0),u(t,"invalid",e.onInvalid,!0),u(t,"change",e.onChange,!0),u(t,"beforeinput",e.onBeforeInput,!1),u(t,"input",e.onInput,!0),u(t,"keyup",e.onKeyUp,!0),u(t,"keydown",e.onKeyDown,!1),u(t,"keypress",e.onKeyPress,!0),u(t,"select",e.onSelect,!0),u(t,"focus",e.onFocus,!0),u(t,"blur",e.onBlur,!0),c.createElement("jb-date-input",{class:e.className?e.className:"",name:e.name,label:e.label,"value-type":e.valueType?e.valueType:"GREGORIAN",ref:t,"input-type":e.inputType?e.inputType:"JALALI"},e.children)});i.displayName="JBDateInput";export{i};
