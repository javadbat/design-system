var d=e=>{throw TypeError(e)};var w=(e,r,t)=>r.has(e)||d("Cannot "+t);var m=(e,r,t)=>r.has(e)?d("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t);var i=(e,r,t)=>(w(e,r,"access private method"),t);import{r as u,R as A}from"./index-0yr9KlQE.js";import{x}from"./index-BCJo01lv.js";import"./jb-validation-BFHHOeHY.js";import"./index-DERdVVTI.js";var l,C,F,q,f,N=(f=class extends x{constructor(){super();m(this,l);this.initMobileInputWebComponent()}initMobileInputWebComponent(){const r=document.createElement("template");r.innerHTML="<style>.jb-input-web-component{--jb-input-input-direction: var(--jb-mobile-input-input-direction, ltr)}</style>",this.shadowRoot.appendChild(r.content.cloneNode(!0)),this.validation.addValidationListGetter(i(this,l,C).bind(this)),this.addStandardValueCallback(i(this,l,q).bind(this))}},l=new WeakSet,C=function(){const r=[],t={validator:/^(?:09[0-9]{2} [0-9]{7})?$/g,message:"شماره موبایل معتبر نیست"};return r.push(t),r},F=function(r){const t=r.replace(/\s/g,"").replace(/\u06F0/g,"0").replace(/\u06F1/g,"1").replace(/\u06F2/g,"2").replace(/\u06F3/g,"3").replace(/\u06F4/g,"4").replace(/\u06F5/g,"5").replace(/\u06F6/g,"6").replace(/\u06F7/g,"7").replace(/\u06F8/g,"8").replace(/\u06F9/g,"9").replace(/[^0-9]/g,""),n=/(?<opCode>(09|0|9)?)(?<number>.{0,})/g.exec(t);if(n&&n.groups){let s,o=n.groups.number;if(o=o.substring(0,9),n.groups.opCode)s=n.groups.opCode==="9"?"09":n.groups.opCode;else{if(!(o.length>0))return"";s="09"}return s.length==1?s:s+o}return""},q=function(r){let t="",n="";n=i(this,l,F).call(this,r);const s=/(09[0-9]{0,2})([0-9]{0,7})/g.exec(n);return t=s&&s.length>0?s.slice(1).filter(o=>o!=="").join(" "):n,{value:n,displayValue:t}},f);!customElements.get("jb-mobile-input")&&window.customElements.define("jb-mobile-input",N);function a(e,r,t,n=!1){let s=u.useCallback(o=>{e.current&&typeof t=="function"&&t(o)},[e,t]);u.useEffect(()=>{let o=e.current;return o&&o.addEventListener(r,s,{passive:n,capture:!1}),function(){o&&o.removeEventListener(r,s,{passive:n,capture:!1})}},[e,r,t,n])}function I(e,r){a(e,"enter",r.onEnter),a(e,"input",r.onInput),a(e,"beforeinput",r.onBeforeinput),a(e,"change",r.onChange),a(e,"keydown",r.onKeydown),a(e,"keyup",r.onKeyup),a(e,"focus",r.onFocus),a(e,"blur",r.onBlur)}function R(e,r){u.useEffect(()=>{let t=r.value;(r.value==null||r.value===void 0)&&(t=""),e&&e.current&&e.current&&(e.current.value=(t==null?void 0:t.toString())||"")},[r.value]),u.useEffect(()=>{var t;r.type&&((t=e==null?void 0:e.current)==null||t.setAttribute("type",r.type))},[r.type]),u.useEffect(()=>{var t,n;r.name?(t=e==null?void 0:e.current)==null||t.setAttribute("name",r.name||""):(n=e==null?void 0:e.current)==null||n.removeAttribute("name")},[r.name]),u.useEffect(()=>{e&&e.current&&(e.current.validation.list=r.validationList||[])},[r.validationList]),u.useEffect(()=>{var t;(t=e==null?void 0:e.current)==null||t.setAttribute("label",r.label||"")},[r.label]),u.useEffect(()=>{var t;typeof r.disabled=="boolean"&&((t=e==null?void 0:e.current)==null||t.setAttribute("disabled",`${r.disabled}`))},[r.disabled]),u.useEffect(()=>{var t;typeof r.required=="boolean"&&((t=e==null?void 0:e.current)==null||t.setAttribute("required",`${r.required}`))},[r.required]),u.useEffect(()=>{var t,n;r.inputmode?(t=e.current)==null||t.setAttribute("inputmode",r.inputmode):(n=e.current)==null||n.removeAttribute("inputmode")},[r.inputmode]),u.useEffect(()=>{var t;(t=e==null?void 0:e.current)==null||t.setAttribute("message",r.message||"")},[r.message]),u.useEffect(()=>{var t;(t=e==null?void 0:e.current)==null||t.setAttribute("placeholder",r.placeholder||"")},[r.placeholder]),u.useEffect(()=>{var t,n;r.error?(t=e==null?void 0:e.current)==null||t.setAttribute("error",r.error):(n=e==null?void 0:e.current)==null||n.removeAttribute("error")},[r.error])}u.forwardRef((e,r)=>{let t=u.useRef(null),[n,s]=u.useState(0);return u.useImperativeHandle(r,()=>t?t.current:{},[t]),u.useEffect(()=>{s(n+1)},[t.current]),I(t,e),R(t,e),A.createElement("jb-input",{ref:t,class:e.className},e.children)}).displayName="JBInput";let j=u.forwardRef((e,r)=>{let t=u.useRef(null),[n,s]=u.useState(0);return u.useImperativeHandle(r,()=>t?t.current:{},[t]),u.useEffect(()=>{s(n+1)},[t.current]),R(t,e),I(t,e),A.createElement("jb-mobile-input",{ref:t,class:e.className},e.children)});j.displayName="JBMobileInput";const H={title:"Components/form elements/Inputs/JBMobileInput",component:j,argTypes:{error:{control:{type:"text"},description:"error message"}}},c={args:{label:"mobile",message:"please enter your mobile number"}},p={args:{label:"required",required:!0}};var b,g,v;c.parameters={...c.parameters,docs:{...(b=c.parameters)==null?void 0:b.docs,source:{originalSource:`{
  args: {
    label: 'mobile',
    message: "please enter your mobile number"
  }
}`,...(v=(g=c.parameters)==null?void 0:g.docs)==null?void 0:v.source}}};var E,h,y;p.parameters={...p.parameters,docs:{...(E=p.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    label: 'required',
    required: true
  }
}`,...(y=(h=p.parameters)==null?void 0:h.docs)==null?void 0:y.source}}};const J=["Normal","Required"];export{c as Normal,p as Required,J as __namedExportsOrder,H as default};
