var P=Object.defineProperty;var k=e=>{throw TypeError(e)};var W=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var h=(e,t,n)=>W(e,typeof t!="symbol"?t+"":t,n),f=(e,t,n)=>t.has(e)||k("Cannot "+n);var s=(e,t,n)=>(f(e,t,"read from private field"),n?n.call(e):t.get(e)),c=(e,t,n)=>t.has(e)?k("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),j=(e,t,n,a)=>(f(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),m=(e,t,n)=>(f(e,t,"access private method"),n);import{a as C}from"./index-DERdVVTI.js";var r=class{constructor(e,t){h(this,"lightness");h(this,"chroma");h(this,"hue");h(this,"variableName");this.variableName=t,this.lightness=e.lightness,this.chroma=e.chroma,this.hue=e.hue}get value(){return`oklch(${this.lightness} ${this.chroma} ${this.hue})`}};function i(e){return new r({lightness:6*(3+1.3*e)*.01,chroma:.001*(14+.09*e),hue:258.36},`--jb-neutral-${e}`)}function H(e){return new r({lightness:e.lightness-.1,chroma:e.chroma-.05,hue:e.hue},`${e.variableName}-pressed`)}function S(e){const t=Math.min(e.lightness+.12*(1-e.lightness),.985),n=e.chroma*(1-.15*(t-e.lightness));return new r({lightness:t,chroma:Number(n.toFixed(3)),hue:e.hue},`${e.variableName}-l`)}function I(e){const t=Math.max(e.lightness-.12*e.lightness,.02),n=e.chroma*(1-.15*(t-e.lightness));return new r({lightness:t,chroma:n,hue:e.hue},`${e.variableName}-d`)}function V(e){const t=Math.min(e.lightness+.65*(1-e.lightness),.93),n=.55*e.chroma*(1-.08*(t-e.lightness)),a=e.hue>=70&&e.hue<=162?5:-3,g=e.hue+a;return new r({lightness:t,chroma:Number(n.toFixed(3)),hue:g},`${e.variableName}-subtle`)}function B(e){const t=Math.max(e.lightness-.35,.22),n=Math.min(1.6*e.chroma,.28);return new r({lightness:Number(t.toFixed(3)),chroma:Number(n.toFixed(3)),hue:e.hue},`${e.variableName}-contrast`)}function b(e){return{main:e,hover:(t=e,new r({lightness:t.lightness+.07,chroma:t.chroma+.07,hue:t.hue},`${t.variableName}-hover`)),pressed:H(e),light:S(e),dark:I(e),subtle:V(e),contrast:B(e)};var t}const D=new r({lightness:.6,chroma:.26,hue:256},"--jb-primary"),M=new r({lightness:.6,chroma:.26,hue:286},"--jb-secondary"),A=new r({lightness:.75,chroma:.18,hue:70},"--jb-yellow"),T=new r({lightness:.68,chroma:.1484,hue:162.1},"--jb-green"),F=new r({lightness:.6,chroma:.22,hue:23.21},"--jb-red"),N={single:{black:new r({lightness:.14,chroma:0,hue:0},"--jb-black"),white:new r({lightness:1,chroma:0,hue:0},"--jb-white"),highlight:new r({lightness:.93,chroma:.2302,hue:125.18},"--jb-highlight")},neutral:[i(0),i(1),i(2),i(3),i(4),i(5),i(6),i(7),i(8),i(9),i(10)],primary:b(D),secondary:b(M),yellow:b(A),green:b(T),red:b(F)};function u(e){try{const{value:t,...n}=e;window.CSS.registerProperty({...n}),(function(a,g){try{g&&(document.documentElement.style.getPropertyValue(a)||document.documentElement.style.setProperty(a,g))}catch{}})(e.name,t)}catch{}}function o(e,t){u({name:t??e.variableName,syntax:"<color>",inherits:!0,initialValue:e.value})}function R(){var e;u({name:"--jb-radius",inherits:!0,value:"1rem",initialValue:"16px",syntax:"<length-percentage>"}),u({name:"--jb-radius-xs",inherits:!0,value:"0.5rem",initialValue:"8px",syntax:"<length-percentage>"}),u({name:"--jb-radius-sm",inherits:!0,value:"0.75rem",initialValue:"12px",syntax:"<length-percentage>"}),u({name:"--jb-radius-lg",inherits:!0,value:"1.25rem",initialValue:"20px",syntax:"<length-percentage>"}),u({name:"--jb-radius-xl",inherits:!0,value:"1.5rem",initialValue:"24px",syntax:"<length-percentage>"}),(function(t){o(t.neutral[0],"--jb-neutral"),o(t.primary.main),o(t.secondary.main),o(t.single.black),o(t.single.white),o(t.single.highlight),o(t.yellow.main),o(t.green.main),o(t.red.main),o(t.red.main);for(let n=1;n<=10;n++)o(t.neutral[n])})(N),o((e=N).single.black,"--jb-text-primary"),o(e.neutral[7],"--jb-text-secondary"),o(e.single.white,"--jb-text-contrast")}var p,v,w,l,$,E,d,x,y,O,L,q=(L=class extends HTMLElement{constructor(){super();c(this,l);c(this,p,!1);c(this,v,Symbol());h(this,"elements");c(this,w,!0);c(this,d,t=>{this.isOpen&&C()&&(this.close(),m(this,l,E).call(this,"HISTORY_BACK_EVENT"))});h(this,"overflowHandler","NONE");h(this,"overflowDom",null);c(this,x,()=>{this.overflowHandler=="SLIDE"&&(this.elements.contentWrapper.style.transform="translateY(0px)")});c(this,y,()=>{if(this.overflowHandler=="SLIDE"){const t=this.elements.contentWrapper.getBoundingClientRect(),n=m(this,l,O).call(this)-t.bottom;n<0&&(this.elements.contentWrapper.style.transform=`translateY(${n}px)`)}});this.initWebComponent()}get JBID(){return s(this,v)}get isOpen(){return s(this,p)}get PopoverHashPath(){return this.id?`#${this.id}`:null}connectedCallback(){this.callOnLoadEvent(),m(this,l,$).call(this),this.callOnInitEvent()}disconnectedCallback(){window.removeEventListener("popstate",s(this,d))}callOnLoadEvent(){const t=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(t)}callOnInitEvent(){const t=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(t)}initWebComponent(){const t=this.attachShadow({mode:"open"});R();const n=document.createElement("template");n.innerHTML=`<style>:host{--border-radius:var(--jb-popover-border-radius, var(--jb-radius-xl));--back-bg-color:var(--jb-popover-back-bg-color, oklch(from var(--jb-black) l c h / 0.5));--bg-color:var(--jb-popover-bg-color, #fff)}.jb-popover-web-component{position:absolute;display:none;inset-block-start:64px;inset-inline-start:0;z-index:var(--jb-popover-z-index, 10);will-change:transform;transition:transform .3s 0s ease}@media(min-width: 320px)and (max-width: 479px){.jb-popover-web-component{inset-block-start:0;inset-inline-start:0;bottom:0;position:fixed;width:100vw;height:100dvh;background-color:var(--back-bg-color);backdrop-filter:blur(5px);display:none;grid-template-rows:1fr auto;grid-template-columns:1fr;grid-template-areas:"." "content-wrapper";overflow-x:hidden}}.jb-popover-web-component.--opened{display:grid}.jb-popover-web-component .popover-content-wrapper{background-color:var(--bg-color);border-radius:var(--border-radius);padding:16px;box-shadow:12px 12px 16px 0 rgba(0,0,0,.25),-8px -8px 12px 0 hsla(0,0%,100%,.3);display:grid;align-items:center;justify-content:center;box-sizing:border-box;will-change:transform;transition:transform .3s 0s ease}@media(min-width: 320px)and (max-width: 479px){.jb-popover-web-component .popover-content-wrapper{border-radius:var(--border-radius) var(--border-radius) 0 0;grid-area:content-wrapper;padding:0;padding:32px 0}}</style>

  <div class="jb-popover-web-component">
    <div class="popover-background"></div>
    <div class="popover-content-wrapper">
        <slot></slot>
    </div>
  </div>
  `,t.appendChild(n.content.cloneNode(!0)),this.elements={componentWrapper:t.querySelector(".jb-popover-web-component"),background:t.querySelector(".popover-background"),contentWrapper:t.querySelector(".popover-content-wrapper")}}checkInitialOpenness(){window.location.hash==`#${this.id}`&&(this.triggerUrlOpenEvent(),this.open())}triggerUrlOpenEvent(){const t=new CustomEvent("urlOpen",{bubbles:!0,composed:!0});this.dispatchEvent(t)}static get observedAttributes(){return["is-open","id"]}attributeChangedCallback(t,n,a){this.onAttributeChange(t,a)}onAttributeChange(t,n){switch(t){case"is-open":n=="true"?s(this,p)||this.open():s(this,p)&&this.close();break;case"id":this.id=n}}onBackgroundClick(){m(this,l,E).call(this,"BACKGROUND_CLICK"),s(this,w)&&this.close()}close(){j(this,p,!1),this.elements.componentWrapper.classList.remove("--opened"),this.elements.componentWrapper.classList.add("--closed"),window.history.state=="jb-popover-open"&&this.PopoverHashPath!==null&&(window.removeEventListener("popstate",s(this,d)),window.location.hash==this.PopoverHashPath&&history.go(-1))}open(){j(this,p,!0),this.elements.componentWrapper.classList.remove("--closed"),this.elements.componentWrapper.classList.add("--opened"),C()&&this.PopoverHashPath!==null&&(window.history.pushState("jb-popover-open","",this.PopoverHashPath),window.addEventListener("popstate",s(this,d),{once:!0}))}},p=new WeakMap,v=new WeakMap,w=new WeakMap,l=new WeakSet,$=function(){this.elements.background.addEventListener("click",this.onBackgroundClick.bind(this)),this.elements.contentWrapper.addEventListener("mouseenter",s(this,y)),this.elements.contentWrapper.addEventListener("mouseleave",s(this,x))},E=function(t){const n=new CustomEvent("close",{detail:{eventType:t}});this.dispatchEvent(n)},d=new WeakMap,x=new WeakMap,y=new WeakMap,O=function(){return this.overflowDom?this.overflowDom.getBoundingClientRect().bottom:window.innerHeight},L);!customElements.get("jb-popover")&&window.customElements.define("jb-popover",q);
