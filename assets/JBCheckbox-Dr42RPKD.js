var x=s=>{throw TypeError(s)};var p=(s,o,e)=>o.has(s)||x("Cannot "+e);var r=(s,o,e)=>(p(s,o,"read from private field"),e?e.call(s):o.get(s)),b=(s,o,e)=>o.has(s)?x("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(s):o.set(s,e),m=(s,o,e,t)=>(p(s,o,"write to private field"),t?t.call(s,e):o.set(s,e),e),d=(s,o,e)=>(p(s,o,"access private method"),e);import{R as w,r as n}from"./index-DwQS_Y10.js";import{e as S}from"./jb-validation-DPnsTO1v.js";import{N as _}from"./index-bfIR6bpK.js";import{a as T,t as I}from"./index-_b1slotr.js";const H=new T({fa:{requiredMessage:"چک میبایست فعال شود"},en:{requiredMessage:"must be checked"}});var h,v,g,c,u,k,l,j,V,A,q,L,C,M,E,N=(E=class extends HTMLElement{constructor(){super();b(this,l);b(this,h,!1);b(this,v,null);b(this,g,!1);b(this,c);b(this,u,new S({getValue:()=>this.value,getValidations:d(this,l,M).bind(this),getValueString:()=>this.value?"true":"false",setValidationResult:d(this,l,C).bind(this),showValidationError:this.showValidationError.bind(this),clearValidationError:this.clearValidationError.bind(this)}));b(this,k,!1);this.initialValue=!1,this.isAutoValidationDisabled=!1,typeof this.attachInternals=="function"&&(m(this,c,this.attachInternals()),r(this,c).role="checkbox"),d(this,l,j).call(this)}static get formAssociated(){return!0}get value(){return r(this,v)!==null?r(this,v):r(this,h)}set value(e){var t,a;r(this,h)!==e&&m(this,h,e),d(this,l,L).call(this),r(this,c)&&(r(this,c).ariaSelected=e?"true":"false",e?(t=r(this,c).states)==null||t.add("checked"):(a=r(this,c).states)==null||a.delete("checked"),typeof r(this,c).setFormValue=="function"&&r(this,c).setFormValue(`${e}`))}get validation(){return r(this,u)}get name(){return this.getAttribute("name")||""}get isDirty(){return r(this,h)!==this.initialValue}set required(e){m(this,k,e),r(this,u).checkValiditySync({showError:!1})}get required(){return r(this,k)}get disabled(){return r(this,g)}set disabled(e){var t,a;m(this,g,e),e?((t=r(this,c).states)==null||t.add("disabled"),r(this,c).ariaDisabled="true"):((a=r(this,c).states)==null||a.delete("disabled"),r(this,c).ariaDisabled="false")}connectedCallback(){this.callOnLoadEvent(),this.initProp(),this.callOnInitEvent()}callOnLoadEvent(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)}callOnInitEvent(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)}registerEventListener(){this.elements.componentWrapper.addEventListener("click",()=>d(this,l,V).call(this))}initProp(){this.value=this.getAttribute("value")==="true"||!1}static get observedAttributes(){return["label","message","value","name","disabled","required","error"]}attributeChangedCallback(e,t,a){this.onAttributeChange(e,a)}onAttributeChange(e,t){switch(e){case"value":this.value=!!t;break;case"label":this.elements.label.innerText=t,r(this,c).ariaLabel=t;break;case"disabled":t==""||t==="true"?this.disabled=!0:t!="false"&&t!=null&&t!=null||(this.disabled=!1);break;case"required":this.required=(t||t==="")&&t!=="false";break;case"message":this.elements.message.innerHTML=t;break;case"error":this.reportValidity()}}focus(){}showValidationError(e){var t;this.elements.message.innerHTML=e.message,(t=r(this,c).states)==null||t.add("invalid"),r(this,c).ariaInvalid="true"}clearValidationError(){var t;const e=this.getAttribute("message")||"";this.elements.message.innerHTML=e,(t=r(this,c).states)==null||t.delete("invalid"),r(this,c).ariaInvalid="false"}get validationMessage(){return r(this,c).validationMessage}checkValidity(){return r(this,u).checkValiditySync({showError:!1}).isAllValid}reportValidity(){return r(this,u).checkValiditySync({showError:!0}).isAllValid}},h=new WeakMap,v=new WeakMap,g=new WeakMap,c=new WeakMap,u=new WeakMap,k=new WeakMap,l=new WeakSet,j=function(){const e=this.attachShadow({mode:"open",delegatesFocus:!0});_();const t=document.createElement("template");t.innerHTML=`<style>:host{cursor:pointer}:host(:state(disabled)){cursor:not-allowed}.jb-checkbox-web-component{grid-template:"check label"max-content"check message"max-content/2rem max-content;justify-content:start;align-items:center;gap:0 .5rem;display:grid}.jb-checkbox-web-component .label-wrapper{color:var(--label-color);grid-area:label;font-weight:400;display:inline-block}.jb-checkbox-web-component:has(.message-box:empty){grid-template-areas:"check label""check label"}.jb-checkbox-web-component .message-box{font-size:var(--jb-checkbox-message-font-size,.7rem);color:var(--message-color);display:var(--jb-checkbox-message-box-display,block);grid-area:message}.jb-checkbox-web-component .message-box:empty{padding:0;display:none}.jb-checkbox-web-component .svg-wrapper{grid-area:check;width:2rem;height:2rem}.jb-checkbox-web-component .svg-wrapper .check-box-svg{width:100%;height:100%}.jb-checkbox-web-component .svg-wrapper .check-box-svg.--active .checkmark__cube{rx:58px;ry:58px;stroke:#0000;transition:all .3s ease-in-out}.jb-checkbox-web-component .svg-wrapper .check-box-svg.--active .checkmark__check{animation:.3s cubic-bezier(.65,0,.45,1) .1s forwards stroke}.jb-checkbox-web-component .svg-wrapper .check-box-svg .checkmark__cube{fill:var(--check-bg-color);stroke:var(--check-border-color);stroke-width:1px;transition:all .3s ease-in-out}.jb-checkbox-web-component .svg-wrapper .check-box-svg .checkmark__check{stroke-width:5px;stroke:var(--check-mark-color);transform-origin:50%;stroke-dasharray:48;stroke-dashoffset:48px}@keyframes stroke{to{stroke-dashoffset:0}} :host{--label-color:var(--jb-checkbox-label-color,var(--jb-neutral-5));--message-color:var(--jb-checkbox-message-color,var(--jb-text-secondary));--check-bg-color:var(--jb-checkbox-check-bg-color,var(--jb-white));--check-border-color:var(--jb-checkbox-check-border-color,var(--jb-neutral-7));--check-mark-color:var(--jb-checkbox-check-mark-color,var(--jb-text-contrast))}:host(:state(invalid)){--message-color:var(--jb-checkbox-message-error-color,var(--jb-red))}:host(:state(checked)){--label-color:var(--jb-checkbox-label-color,var(--jb-text-primary));--check-bg-color:var(--jb-checkbox-check-bg-color-checked,var(--jb-green));--check-mark-color:var(--jb-checkbox-check-mark-color-checked,var(--jb-white))}:host(:state(disabled)){--check-bg-color:var(--jb-checkbox-check-bg-color-disabled,var(--jb-neutral-9))}</style>

    <div class="jb-checkbox-web-component">
      <div class="svg-wrapper">
        <svg class="check-box-svg" viewBox="0 0 52 52" part="checkbox">
          <rect class="checkmark__cube" x="0" y="0" width="52" height="52" rx="5" ry="5" part="check-bg"/>
          <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" part="check-mark"/>
        </svg>
      </div>
      <div class="label-wrapper" >
        <slot name="label" part="label"></slot>
      </div>
      <div class="message-box" part="message"></div>
    </div>
  `,e.appendChild(t.content.cloneNode(!0)),this.elements={componentWrapper:e.querySelector(".jb-checkbox-web-component"),label:e.querySelector(".label-wrapper slot"),svgWrapper:e.querySelector(".svg-wrapper"),svg:e.querySelector(".check-box-svg"),message:e.querySelector(".message-box")},this.registerEventListener()},V=function(){if(r(this,g))return;m(this,v,!r(this,h));const e=d(this,l,A).call(this);m(this,v,null),e||(this.value=!r(this,h),r(this,u).checkValidity({showError:!0}),d(this,l,q).call(this).defaultPrevented&&(this.value=!r(this,h)))},A=function(){const e=new CustomEvent("before-change",{cancelable:!0});return this.dispatchEvent(e),e.defaultPrevented},q=function(){const e=new Event("change",{bubbles:!0,cancelable:!0,composed:!0});return this.dispatchEvent(e),e},L=function(){this.value?this.elements.svg.classList.add("--active"):this.elements.svg.classList.remove("--active")},C=function(e){if(e.isAllValid)r(this,c).setValidity({},"");else{const t={};let a="";e.validationList.forEach(i=>{i.isValid||(i.validation.stateType&&(t[i.validation.stateType]=!0),a==""&&(a=i.message))}),r(this,c).setValidity(t,a)}},M=function(){const e=[];if(r(this,k)){const t=this.getAttribute("required").length>0?this.getAttribute("required"):H.get(I,"requiredMessage");e.push({validator:a=>a!==!1,message:t,stateType:"valueMissing"})}return this.getAttribute("error")!==null&&this.getAttribute("error").trim().length>0&&e.push({validator:void 0,message:this.getAttribute("error"),stateType:"customError"}),e},E);customElements.get("jb-checkbox")||window.customElements.define("jb-checkbox",N);function y(s,o,e,t=!1){let a=n.useCallback(i=>{s.current&&typeof e=="function"&&e(i)},[s,e]);n.useEffect(()=>{let i=s.current;return i&&i.addEventListener(o,a,{passive:t,capture:!1}),function(){i&&i.removeEventListener(o,a,{passive:t,capture:!1})}},[s,o,e,t])}let R=w.forwardRef((s,o)=>{var e;let t=n.useRef(null);return n.useImperativeHandle(o,()=>t?t.current:void 0,[t]),n.useEffect(()=>{var a,i;e.name?(a=t==null?void 0:t.current)==null||a.setAttribute("name",e.name||""):(i=t==null?void 0:t.current)==null||i.removeAttribute("name")},[(e=s).name]),n.useEffect(()=>{e.message?t.current.setAttribute("message",e.message):t.current.removeAttribute("message")},[e.message]),n.useEffect(()=>{t&&t.current&&(t.current.validation.list=e.validationList||[])},[e.validationList]),n.useEffect(()=>{var a,i;typeof e.disabled=="boolean"&&e.disabled?(a=t==null?void 0:t.current)==null||a.setAttribute("disabled",""):(i=t==null?void 0:t.current)==null||i.removeAttribute("disabled")},[e.disabled]),n.useEffect(()=>{var a,i,f;typeof e.required=="string"&&((a=t==null?void 0:t.current)==null||a.setAttribute("required",e.required)),typeof e.required=="boolean"&&(e.required?(i=t==null?void 0:t.current)==null||i.setAttribute("required",""):(f=t==null?void 0:t.current)==null||f.removeAttribute("required"))},[e.required]),n.useEffect(()=>{t.current&&e.value!==null&&e.value!==void 0&&(t.current.value=e.value)},[e.value]),n.useEffect(()=>{var a,i;e.error?(a=t==null?void 0:t.current)==null||a.setAttribute("error",e.error):(i=t==null?void 0:t.current)==null||i.removeAttribute("error")},[e.error]),y(t,"before-change",s.onBeforeChange,!0),y(t,"change",s.onChange,!0),w.createElement("jb-checkbox",{class:s.className?s.className:"",label:s.label?s.label:"",ref:t,style:s.style},s.children)});R.displayName="JBSwitch";export{R as i};
