var Y=Object.defineProperty;var L=i=>{throw TypeError(i)};var Z=(i,t,e)=>t in i?Y(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var p=(i,t,e)=>Z(i,typeof t!="symbol"?t+"":t,e),k=(i,t,e)=>t.has(i)||L("Cannot "+e);var r=(i,t,e)=>(k(i,t,"read from private field"),e?e.call(i):t.get(i)),d=(i,t,e)=>t.has(i)?L("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),g=(i,t,e,s)=>(k(i,t,"write to private field"),s?s.call(i,e):t.set(i,e),e),a=(i,t,e)=>(k(i,t,"access private method"),e);import{e as tt}from"./jb-validation-BFHHOeHY.js";import{e as S,t as V,n as N}from"./index-DERdVVTI.js";var l=class{constructor(i,t){p(this,"lightness");p(this,"chroma");p(this,"hue");p(this,"variableName");this.variableName=t,this.lightness=i.lightness,this.chroma=i.chroma,this.hue=i.hue}get value(){return`oklch(${this.lightness} ${this.chroma} ${this.hue})`}};function b(i){return new l({lightness:6*(3+1.3*i)*.01,chroma:.001*(14+.09*i),hue:258.36},`--jb-neutral-${i}`)}function et(i){return new l({lightness:i.lightness-.1,chroma:i.chroma-.05,hue:i.hue},`${i.variableName}-pressed`)}function it(i){const t=Math.min(i.lightness+.12*(1-i.lightness),.985),e=i.chroma*(1-.15*(t-i.lightness));return new l({lightness:t,chroma:Number(e.toFixed(3)),hue:i.hue},`${i.variableName}-l`)}function nt(i){const t=Math.max(i.lightness-.12*i.lightness,.02),e=i.chroma*(1-.15*(t-i.lightness));return new l({lightness:t,chroma:e,hue:i.hue},`${i.variableName}-d`)}function st(i){const t=Math.min(i.lightness+.65*(1-i.lightness),.93),e=.55*i.chroma*(1-.08*(t-i.lightness)),s=i.hue>=70&&i.hue<=162?5:-3,h=i.hue+s;return new l({lightness:t,chroma:Number(e.toFixed(3)),hue:h},`${i.variableName}-subtle`)}function at(i){const t=Math.max(i.lightness-.35,.22),e=Math.min(1.6*i.chroma,.28);return new l({lightness:Number(t.toFixed(3)),chroma:Number(e.toFixed(3)),hue:i.hue},`${i.variableName}-contrast`)}function y(i){return{main:i,hover:(t=i,new l({lightness:t.lightness+.07,chroma:t.chroma+.07,hue:t.hue},`${t.variableName}-hover`)),pressed:et(i),light:it(i),dark:nt(i),subtle:st(i),contrast:at(i)};var t}const rt=new l({lightness:.6,chroma:.26,hue:256},"--jb-primary"),ot=new l({lightness:.6,chroma:.26,hue:286},"--jb-secondary"),lt=new l({lightness:.75,chroma:.18,hue:70},"--jb-yellow"),ut=new l({lightness:.68,chroma:.1484,hue:162.1},"--jb-green"),ht=new l({lightness:.6,chroma:.22,hue:23.21},"--jb-red"),$={single:{black:new l({lightness:.14,chroma:0,hue:0},"--jb-black"),white:new l({lightness:1,chroma:0,hue:0},"--jb-white"),highlight:new l({lightness:.93,chroma:.2302,hue:125.18},"--jb-highlight")},neutral:[b(0),b(1),b(2),b(3),b(4),b(5),b(6),b(7),b(8),b(9),b(10)],primary:y(rt),secondary:y(ot),yellow:y(lt),green:y(ut),red:y(ht)};function v(i){try{const{value:t,...e}=i;window.CSS.registerProperty({...e}),(function(s,h){try{h&&(document.documentElement.style.getPropertyValue(s)||document.documentElement.style.setProperty(s,h))}catch{}})(i.name,t)}catch{}}function u(i,t){v({name:t??i.variableName,syntax:"<color>",inherits:!0,initialValue:i.value})}function ct(){var i;v({name:"--jb-radius",inherits:!0,value:"1rem",initialValue:"16px",syntax:"<length-percentage>"}),v({name:"--jb-radius-xs",inherits:!0,value:"0.5rem",initialValue:"8px",syntax:"<length-percentage>"}),v({name:"--jb-radius-sm",inherits:!0,value:"0.75rem",initialValue:"12px",syntax:"<length-percentage>"}),v({name:"--jb-radius-lg",inherits:!0,value:"1.25rem",initialValue:"20px",syntax:"<length-percentage>"}),v({name:"--jb-radius-xl",inherits:!0,value:"1.5rem",initialValue:"24px",syntax:"<length-percentage>"}),(function(t){u(t.neutral[0],"--jb-neutral"),u(t.primary.main),u(t.secondary.main),u(t.single.black),u(t.single.white),u(t.single.highlight),u(t.yellow.main),u(t.green.main),u(t.red.main),u(t.red.main);for(let e=1;e<=10;e++)u(t.neutral[e])})($),u((i=$).single.black,"--jb-text-primary"),u(i.neutral[7],"--jb-text-secondary"),u(i.single.white,"--jb-text-contrast")}var c,j,f,o,n,E,m,w,C,M,T,q,z,x,D,F,H,B,R,U,I,_,G,J,K,O,Q,W,X,P,bt=(P=class extends HTMLElement{constructor(){super();d(this,n);d(this,c,{displayValue:"",value:""});p(this,"elements");d(this,j,!1);d(this,f,!1);d(this,o);d(this,m,new tt({clearValidationError:()=>this.clearValidationError(),showValidationError:this.showValidationError.bind(this),getValue:()=>r(this,c),getValidations:a(this,n,W).bind(this),getValueString:()=>r(this,c).displayValue,setValidationResult:a(this,n,X).bind(this)}));p(this,"initialValue","");d(this,x,[]);typeof this.attachInternals=="function"&&g(this,o,this.attachInternals()),a(this,n,q).call(this)}static get formAssociated(){return!0}get disabled(){return r(this,j)}set disabled(t){var e,s;g(this,j,t),this.elements.input.disabled=t,t?(e=r(this,o).states)==null||e.add("disabled"):(s=r(this,o).states)==null||s.delete("disabled")}set required(t){g(this,f,t),a(this,n,E).call(this,!1)}get required(){return r(this,f)}hasState(t){return r(this,o).states.has(t)}get isAutoValidationDisabled(){return this.getAttribute("disable-auto-validation")===""||this.getAttribute("disable-auto-validation")==="true"}get validation(){return r(this,m)}get displayValue(){return r(this,c).displayValue}get value(){return r(this,c).value}set value(t){a(this,n,w).call(this,t,"SET_VALUE")}get isDirty(){return r(this,c).value!==this.initialValue}get selectionStart(){return this.elements.input.selectionStart}set selectionStart(t){this.elements.input.selectionStart=t}get selectionEnd(){return this.elements.input.selectionEnd}set selectionEnd(t){this.elements.input.selectionEnd=t}get selectionDirection(){return this.elements.input.selectionDirection}set selectionDirection(t){this.elements.input.selectionDirection=t}get name(){return this.getAttribute("name")||""}connectedCallback(){a(this,n,M).call(this),this.initProp(),a(this,n,T).call(this)}addStandardValueCallback(t){r(this,x).push(t)}standardValue(t,e){let s={displayValue:t.toString(),value:t.toString()};return s=r(this,x).reduce((h,A)=>A(t.toString(),r(this,c),h,e),s),s}initProp(){a(this,n,w).call(this,this.getAttribute("value")||"","SET_VALUE")}static get observedAttributes(){return["label","type","message","value","name","autocomplete","placeholder","disabled","inputmode","readonly","disable-auto-validation","virtualkeyboardpolicy","required","error"]}attributeChangedCallback(t,e,s){this.onAttributeChange(t,s)}onAttributeChange(t,e){switch(t){case"name":case"autocomplete":case"inputmode":case"readonly":case"virtualkeyboardpolicy":this.elements.input.setAttribute(t,e);break;case"label":this.elements.labelValue.innerHTML=e,e==null||e===void 0||e===""?this.elements.label.classList.add("--hide"):this.elements.label.classList.remove("--hide");break;case"type":this.elements.input.setAttribute("type",e),e=="number"&&this.getAttribute("inputmode")==null&&this.setAttribute("inputmode","numeric");break;case"message":this.elements.messageBox.classList.contains("error")||(this.elements.messageBox.innerHTML=e);break;case"value":a(this,n,w).call(this,e,"SET_VALUE");break;case"placeholder":this.elements.input.placeholder=e;break;case"disabled":e===""||e==="true"?this.disabled=!0:e!=="false"&&e!=null&&e!==void 0||(this.disabled=!1,this.elements.input.removeAttribute("disabled"));break;case"required":this.required=!!e&&e!=="false";break;case"error":this.reportValidity()}}showValidationError(t){var e;this.elements.messageBox.innerHTML=t.message,(e=r(this,o).states)==null||e.add("invalid")}clearValidationError(){var e;const t=this.getAttribute("message")||"";this.elements.messageBox.innerHTML=t,(e=r(this,o).states)==null||e.delete("invalid")}focus(){this.elements.input.focus()}setSelectionRange(t,e,s){this.elements.input.setSelectionRange(t,e,s)}checkValidity(){const t=r(this,m).checkValiditySync({showError:!1});if(!t.isAllValid){const e=new CustomEvent("invalid");this.dispatchEvent(e)}return t.isAllValid}reportValidity(){const t=r(this,m).checkValiditySync({showError:!0});if(!t.isAllValid){const e=new CustomEvent("invalid");this.dispatchEvent(e)}return t.isAllValid}get validationMessage(){return r(this,o).validationMessage}},c=new WeakMap,j=new WeakMap,f=new WeakMap,o=new WeakMap,n=new WeakSet,E=function(t){if(!this.isAutoValidationDisabled)return r(this,m).checkValidity({showError:t})},m=new WeakMap,w=function(t,e){t==null&&(t="");const s=this.standardValue(t,e);a(this,n,C).call(this,s)},C=function(t){g(this,c,t),r(this,o)&&typeof r(this,o).setFormValue=="function"&&r(this,o).setFormValue(t.value),this.elements.input.value=t.displayValue},M=function(){const t=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(t)},T=function(){const t=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(t)},q=function(){const t=this.attachShadow({mode:"open",delegatesFocus:!0});ct(),a(this,n,z).call(this),this.elements={input:t.querySelector(".input-box input"),inputBox:t.querySelector(".input-box"),label:t.querySelector("label"),labelValue:t.querySelector("label .label-value"),messageBox:t.querySelector(".message-box"),slots:{startSection:t.querySelector(".jb-input-start-section-wrapper slot"),endSection:t.querySelector(".jb-input-end-section-wrapper slot")}},a(this,n,D).call(this)},z=function(){const t=document.createElement("template");t.innerHTML=`<style>:host{--border-radius:var(--jb-input-border-radius, var(--jb-radius));--border-color:var(--jb-input-border-color, var(--jb-neutral-10));--message-color:var(--jb-input-message-color, var(--jb-text-secondary));--label-color: var(--jb-input-label-color, var(--jb-text-primary));--value-color: var(--jb-input-value-color, var(--jb-text-primary));--placeholder-color: var(--jb-input-placeholder-color, var(--jb-neutral-6));--input-box-bg-color:var(--jb-input-bgcolor, var(--jb-neutral-10))}:host(:state(invalid)){--message-color:var(--jb-input-message-error-color, var(--jb-red))}:host(:focus-within){--border-color:var(--jb-input-border-color-focus, var(--jb-neutral))}:host{display:block}:host(:focus),:host(:focus-visible){outline:none}.jb-input-web-component{width:100%;margin:var(--jb-input-margin, 0 0)}.jb-input-web-component:focus-visible{outline:none}.jb-input-web-component label{width:100%;margin:var(--jb-input-label-margin, 0.25rem 0px);display:block;font-size:var(--jb-input-label-font-size, 0.8em);color:var(--label-color);margin:var(--jb-input-label-margin, 0);font-weight:var(--jb-input-label-font-weight, 300)}.jb-input-web-component label.--hide{display:none}.jb-input-web-component .input-box{width:100%;box-sizing:border-box;height:var(--jb-input-height, 40px);border:solid var(--jb-input-border-width, 1px) var(--border-color);background-color:var(--input-box-bg-color);border-bottom:solid var(--jb-input-border-bottom-width, 3px) var(--border-color);border-radius:var(--border-radius);margin:4px 0px;transition:ease .3s all;overflow:var(--jb-input-box-overflow, hidden);display:grid;grid-template-columns:auto 1fr auto;box-shadow:var(--jb-input-box-shadow, none)}.jb-input-web-component .input-box:focus-within{border-width:var(--jb-input-border-width-focus, var(--jb-input-border-width, 1px));border-bottom-width:var(--jb-input-border-bottom-width-focus, var(--jb-input-border-bottom-width, 3px));box-shadow:var(--jb-input-box-shadow-focus, none)}.jb-input-web-component .input-box input{border:none;width:100%;box-sizing:border-box;height:100%;background-color:rgba(0,0,0,0);padding:var(--jb-input-input-padding, 0.125rem 0.75rem 0 0.75rem);display:block;font-family:inherit;font-size:var(--jb-input-value-font-size, 1.1rem);color:var(--value-color);margin:0;border-radius:0;text-align:var(--jb-input-input-text-align, initial);direction:var(--jb-input-input-direction, inherit);font-weight:var(--jb-input-input-font-weight, initial)}.jb-input-web-component .input-box input:focus{outline:none}.jb-input-web-component .input-box input::placeholder{color:var(--placeholder-color);font-size:var(--jb-input-placeholder-font-size, 1.1rem)}.jb-input-web-component .input-box input::-webkit-outer-spin-button,.jb-input-web-component .input-box input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.jb-input-web-component .input-box input[type=number]{-moz-appearance:textfield}.jb-input-web-component .input-box .jb-input-start-section-wrapper{display:flex;height:100%;width:auto;align-items:center;justify-content:center}.jb-input-web-component .input-box ::slotted([slot=start-section]),.jb-input-web-component .input-box ::slotted([slot=end-section]){height:100%;display:flex;justify-content:center;align-items:center;max-height:100%;overflow-y:hidden;background-color:rgba(0,0,0,0);padding:8px 16px;width:auto;box-sizing:border-box}.jb-input-web-component .message-box{font-size:var(--jb-input-message-font-size, 0.7rem);padding:.125rem .5rem;color:var(--message-color);display:var(--jb-input-message-box-display, block)}.jb-input-web-component .message-box:empty{padding:0}</style>

    <div class="jb-input-web-component">
    <label class="--hide"><span class="label-value" part="label"></span></label>
    <div class="input-box" part="input-box">
        <div class="jb-input-start-section-wrapper">
            <slot name="start-section"></slot>
        </div>
        <input part="input"/>
        <div class="jb-input-end-section-wrapper">
            <slot name="end-section"></slot>
        </div>
    </div>
    <div class="message-box" part="message"></div>
</div>
  `,this.shadowRoot.appendChild(t.content.cloneNode(!0))},x=new WeakMap,D=function(){this.elements.input.addEventListener("change",t=>a(this,n,O).call(this,t),{capture:!1}),this.elements.input.addEventListener("beforeinput",a(this,n,J).bind(this),{capture:!1}),this.elements.input.addEventListener("input",t=>a(this,n,_).call(this,t),{capture:!1}),S(this.elements.input,"keyup",a(this,n,R).bind(this)),S(this.elements.input,"keydown",a(this,n,F).bind(this)),S(this.elements.input,"keypress",a(this,n,B).bind(this))},F=function(t){a(this,n,H).call(this,t)},H=function(t){t.stopPropagation();const e=V("keydown",t,{cancelable:!0});!this.dispatchEvent(e)&&t.preventDefault()},B=function(t){t.stopPropagation();const e=V("keypress",t,{cancelable:!1});this.dispatchEvent(e)},R=function(t){a(this,n,U).call(this,t),t.keyCode==13&&a(this,n,I).call(this,t)},U=function(t){t.stopPropagation();const e=V("keyup",t,{cancelable:!1});this.dispatchEvent(e)},I=function(t){const e=V("enter",t,{cancelable:!1});this.dispatchEvent(e)},_=function(t){const e=t.target.selectionEnd||0;t.target.selectionStart;const s=t.target.value,h=t.target;a(this,n,w).call(this,s,"INPUT"),e!==s.length&&(["number"].includes(this.getAttribute("type"))||h.setSelectionRange(e,e)),a(this,n,E).call(this,!1),a(this,n,G).call(this,t)},G=function(t){t.stopPropagation();const e=N("input",t,{cancelable:!0});this.dispatchEvent(e)},J=function(t){a(this,n,K).call(this,t)},K=function(t){t.stopPropagation();const e=N("beforeinput",t,{cancelable:!0});return this.dispatchEvent(e),e.defaultPrevented&&t.preventDefault(),e.defaultPrevented},O=function(t){const e=t.target.value,s=r(this,c);a(this,n,w).call(this,e,"CHANGE"),a(this,n,E).call(this,!0),a(this,n,Q).call(this,t)&&(g(this,c,s),t.preventDefault())},Q=function(t){t.stopPropagation();const e={bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed},s=new Event("change",e);return this.dispatchEvent(s),!!s.defaultPrevented},W=function(){const t=[];return this.required&&t.push({validator:/.{1}/g,message:`${this.getAttribute("label")} میبایست حتما وارد شود`,stateType:"valueMissing"}),this.getAttribute("error")!==null&&this.getAttribute("error").trim().length>0&&t.push({validator:void 0,message:this.getAttribute("error"),stateType:"customError"}),t},X=function(t){if(t.isAllValid)r(this,o).setValidity({},"");else{const e={};let s="";t.validationList.forEach(h=>{h.isValid||(h.validation.stateType&&(e[h.validation.stateType]=!0),s==""&&(s=h.message))}),r(this,o).setValidity(e,s)}},P);!customElements.get("jb-input")&&window.customElements.define("jb-input",bt);export{bt as x};
