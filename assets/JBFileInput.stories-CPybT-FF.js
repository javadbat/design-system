var U=Object.defineProperty;var W=t=>{throw TypeError(t)};var G=(t,e,i)=>e in t?U(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var V=(t,e,i)=>G(t,typeof e!="symbol"?e+"":e,i),$=(t,e,i)=>e.has(t)||W("Cannot "+i);var r=(t,e,i)=>($(t,e,"read from private field"),i?i.call(t):e.get(t)),p=(t,e,i)=>e.has(t)?W("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),s=(t,e,i,n)=>($(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i),k=(t,e,i)=>($(t,e,"access private method"),i);import{r as j,R as K}from"./index-D4lIrffr.js";import{e as X}from"./jb-validation-BFHHOeHY.js";import{r as F}from"./index-B65NTg4l.js";var l=class{constructor(t,e){V(this,"lightness");V(this,"chroma");V(this,"hue");V(this,"variableName");this.variableName=e,this.lightness=t.lightness,this.chroma=t.chroma,this.hue=t.hue}get value(){return`oklch(${this.lightness} ${this.chroma} ${this.hue})`}};function u(t){return new l({lightness:6*(3+1.3*t)*.01,chroma:.001*(14+.09*t),hue:258.36},`--jb-neutral-${t}`)}function E(t){return new l({lightness:t.lightness+.07,chroma:t.chroma+.07,hue:t.hue},`${t.variableName}-hover`)}function N(t){return new l({lightness:t.lightness-.1,chroma:t.chroma-.05,hue:t.hue},`${t.variableName}-pressed`)}function M(t){const e=Math.min(t.lightness+.12*(1-t.lightness),.985),i=t.chroma*(1-.15*(e-t.lightness));return new l({lightness:e,chroma:Number(i.toFixed(3)),hue:t.hue},`${t.variableName}-l`)}function T(t){const e=Math.max(t.lightness-.12*t.lightness,.02),i=t.chroma*(1-.15*(e-t.lightness));return new l({lightness:e,chroma:i,hue:t.hue},`${t.variableName}-d`)}function C(t){const e=Math.min(t.lightness+.65*(1-t.lightness),.93),i=.55*t.chroma*(1-.08*(e-t.lightness)),n=t.hue>=70&&t.hue<=162?5:-3,c=t.hue+n;return new l({lightness:e,chroma:Number(i.toFixed(3)),hue:c},`${t.variableName}-subtle`)}function L(t){const e=Math.max(t.lightness-.35,.22),i=Math.min(1.6*t.chroma,.28);return new l({lightness:Number(e.toFixed(3)),chroma:Number(i.toFixed(3)),hue:t.hue},`${t.variableName}-contrast`)}const v=new l({lightness:.6,chroma:.26,hue:256},"--jb-primary"),g=new l({lightness:.6,chroma:.26,hue:286},"--jb-secondary"),b=new l({lightness:.75,chroma:.18,hue:70},"--jb-yellow"),w=new l({lightness:.68,chroma:.1484,hue:162.1},"--jb-green"),f=new l({lightness:.6,chroma:.22,hue:23.21},"--jb-red"),z={single:{black:new l({lightness:.14,chroma:0,hue:0},"--jb-black"),white:new l({lightness:1,chroma:0,hue:0},"--jb-white"),highlight:new l({lightness:.93,chroma:.2302,hue:125.18},"--jb-highlight")},neutral:[u(0),u(1),u(2),u(3),u(4),u(5),u(6),u(7),u(8),u(9),u(10)],primary:{main:v,hover:E(v),pressed:N(v),light:M(v),dark:T(v),subtle:C(v),contrast:L(v)},secondary:{main:g,hover:E(g),pressed:N(g),light:M(g),dark:T(g),subtle:C(g),contrast:L(g)},yellow:{main:b,hover:E(b),pressed:N(b),light:M(b),dark:T(b),subtle:C(b),contrast:L(b)},green:{main:w,hover:E(w),pressed:N(w),light:M(w),dark:T(w),subtle:C(w),contrast:L(w)},red:{main:f,hover:E(f),pressed:N(f),light:M(f),dark:T(f),subtle:C(f),contrast:L(f)}};function a(t){try{const{value:e,...i}=t;window.CSS.registerProperty({...i}),function(n,c){try{c&&(document.documentElement.style.getPropertyValue(n)||document.documentElement.style.setProperty(n,c))}catch{}}(t.name,e)}catch{}}function Y(){var t;a({name:"--jb-radius",inherits:!0,value:"1rem",initialValue:"16px",syntax:"<length-percentage>"}),a({name:"--jb-radius-xs",inherits:!0,value:"0.5rem",initialValue:"8px",syntax:"<length-percentage>"}),a({name:"--jb-radius-sm",inherits:!0,value:"0.75rem",initialValue:"12px",syntax:"<length-percentage>"}),a({name:"--jb-radius-lg",inherits:!0,value:"1.25rem",initialValue:"20px",syntax:"<length-percentage>"}),a({name:"--jb-radius-xl",inherits:!0,value:"1.5rem",initialValue:"24px",syntax:"<length-percentage>"}),function(e){a({name:e.primary.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.primary.main.value}),a({name:e.secondary.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.secondary.main.value}),a({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:e.neutral[0].value}),a({name:e.single.black.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.black.value}),a({name:e.single.white.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.white.value}),a({name:e.single.highlight.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.highlight.value}),a({name:e.yellow.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.yellow.main.value}),a({name:e.green.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.green.main.value}),a({name:e.red.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.red.main.value}),a({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:e.neutral[0].value});for(let i=1;i<=10;i++)a({name:e.neutral[i].variableName,syntax:"<color>",inherits:!0,initialValue:e.neutral[i].value})}(z),a({name:"--jb-text-primary",syntax:"<color>",inherits:!0,initialValue:(t=z).single.black.value}),a({name:"--jb-text-secondary",syntax:"<color>",inherits:!0,initialValue:t.neutral[7].value}),a({name:"--jb-text-contrast",syntax:"<color>",inherits:!0,initialValue:t.single.white.value})}var h,o,m,y,I,S,x,A,d,B,D,O,J,H,Z=(H=class extends HTMLElement{constructor(){super();p(this,d);p(this,h,null);p(this,o);p(this,m,!1);p(this,y);p(this,I,"empty");p(this,S,"application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint, text/plain, application/pdf, image/*");p(this,x,new X({clearValidationError:this.clearValidationError.bind(this),getValue:()=>({file:r(this,h)}),getValidations:k(this,d,O).bind(this),getValueString:e=>e.file.name,setValidationResult:k(this,d,J).bind(this),showValidationError:this.showValidationError.bind(this)}));p(this,A,!1);typeof this.attachInternals=="function"&&s(this,y,this.attachInternals()),this.initWebComponent(),this.initProp(),this.registerEventListener()}set required(e){s(this,m,e),r(this,x).checkValidity({showError:!1})}get required(){return r(this,m)}get acceptTypes(){return r(this,S)}set acceptTypes(e){e&&(s(this,S,e),r(this,o).virtualInput.accept=e)}get value(){return r(this,h)}set value(e){e==null?this.resetValue():s(this,h,e)}get status(){return r(this,h)}get selectedFileType(){return r(this,h)&&r(this,h).type,null}get validation(){return r(this,x)}get isAutoValidationDisabled(){return r(this,A)}set isAutoValidationDisabled(e){s(this,A,e)}initWebComponent(){const e=this.attachShadow({mode:"open",delegatesFocus:!0,slotAssignment:"named"});Y();const i=document.createElement("template");i.innerHTML=`<style>:host{--border-radius:var(--jb-file-input-border-radius,var(--jb-radius-xl));--bg-color: var(--jb-file-input-bg-color,var(--jb-neutral-10));--border-color-error:var(--jb-file-input-border-color-error,var(--jb-error));--bg-color-error:var(--jb-file-input-bg-color-error,var(--jb-neutral-10));--icon-neutral-color:var(--jb-file-input-icon-neutral-color, var(--jb-neutral));--icon-primary-color:var(--jb-file-input-icon-primary-color, var(--jb-primary));--placeholder-title-color:var(--jb-file-input-placeholder-title-color, var(--jb-neutral));--file-name-color:var(--jb-file-input-file-name-color, var(--jb-neutral))}.jb-file-input-web-component{background-color:var(--bg-color);width:100%;height:100%;border-radius:var(--border-radius);display:flex;justify-content:center;align-items:center;overflow:hidden;box-sizing:border-box}.jb-file-input-web-component.--has-error{border:solid 1px var(--border-color-error);border-bottom:solid 3px var(--border-color-error);background-color:var(--bg-color-error)}.jb-file-input-web-component[status=empty] .placeholder-wrapper{display:flex}.jb-file-input-web-component .placeholder-wrapper{width:100%;height:100%;display:none;cursor:pointer;justify-content:center;align-items:center;flex-direction:column;padding:32px}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg{width:64px;height:64px;fill:var(--icon-neutral-color)}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st0{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-miterlimit:10}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st1{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st2{fill:var(--icon-primary-color)}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st3{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .placeholder-wrapper .placeholder-title{color:var(--placeholder-title-color);font-variation-settings:"wght" 600}.jb-file-input-web-component[status=selected] .file-wrapper{display:flex}.jb-file-input-web-component .file-wrapper{width:100%;height:100%;display:none;cursor:pointer;justify-content:center;align-items:center;flex-direction:column;padding:32px}.jb-file-input-web-component .file-wrapper .icon-wrapper svg{width:64px;height:64px;fill:var(--icon-neutral-color)}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st0{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-miterlimit:10}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st1{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st2{fill:var(--icon-primary-color)}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st3{fill:none;stroke:var(--icon-neutral-color);stroke-width:3;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .file-wrapper .file-name{color:var(--file-name-color);font-variation-settings:"wght" 600}</style>
<div class="jb-file-input-web-component">
    <div class="placeholder-wrapper">
        <div class="icon-wrapper">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;" xml:space="preserve">
                <style type="text/css">

                </style>
                <path class="st0" d="M46.5,60.4H17.5c-4.4,0-8-3.6-8-8V11.6c0-4.4,3.6-8,8-8h29.1c4.4,0,8,3.6,8,8v40.8  C54.5,56.8,50.9,60.4,46.5,60.4z"/>
                <path class="st1" d="M46.7,43.7"/>
                <path class="st1" d="M18.4,43.7"/>
                <line class="st1" x1="18.1" y1="43.7" x2="46.5" y2="43.7"/>
                <line class="st1" x1="18.1" y1="50.7" x2="46.5" y2="50.7"/>
                <line class="st1" x1="18.1" y1="36.7" x2="46.5" y2="36.7"/>
                <path class="st2" d="M44.7,28.6c-2.2,0-4.2-0.8-5.8-2.4c-1.5-1.5-2.4-3.6-2.4-5.8c0-2.2,0.8-4.2,2.4-5.8L52.1,2.5   c1.2-1.2,2.8-1.9,4.6-1.9c1.7,0,3.4,0.7,4.6,1.9c2.5,2.5,2.5,6.7,0,9.2L49.8,22.4c-1.9,1.9-5,1.9-6.9,0c-0.9-0.9-1.4-2.2-1.4-3.5   c0-1.3,0.5-2.5,1.4-3.5l0,0l6.4-5.5c0.3-0.3,0.9-0.3,1.2,0.1c0.3,0.3,0.3,0.9-0.1,1.2l-6.4,5.5c-0.6,0.6-0.9,1.4-0.9,2.3   c0,0.9,0.3,1.7,0.9,2.3c1.3,1.3,3.3,1.3,4.6,0l11.6-10.6c1.9-1.9,1.9-4.9,0-6.8c-0.9-0.9-2.1-1.4-3.4-1.4c-1.3,0-2.5,0.5-3.4,1.4   L40.2,15.9c-1.2,1.2-1.9,2.8-1.9,4.6c0,1.7,0.7,3.4,1.9,4.6c1.2,1.2,2.8,1.9,4.6,1.9c1.7,0,3.4-0.7,4.6-1.9l11.8-11   c0.3-0.3,0.9-0.3,1.2,0c0.3,0.3,0.3,0.9,0,1.2l-11.8,11C49,27.8,46.9,28.6,44.7,28.6z"/>
                <path class="st0" d="M29.2,30.2h-8.9c-1.2,0-2.1-1-2.1-2.1v-9.6c0-1.2,1-2.1,2.1-2.1h8.9c1.2,0,2.1,1,2.1,2.1v9.6  C31.3,29.3,30.3,30.2,29.2,30.2z"/>
                <line class="st3" x1="54.5" y1="25.1" x2="54.5" y2="19.3"/>
            </svg>
        </div>
        <div class="placeholder-title">انتخاب فایل</div>
    </div>
    <div class="file-wrapper">
        <div class="icon-wrapper">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;" xml:space="preserve">
                <style type="text/css">

                </style>
                <path class="st0" d="M46.5,60.4H17.5c-4.4,0-8-3.6-8-8V11.6c0-4.4,3.6-8,8-8h29.1c4.4,0,8,3.6,8,8v40.8  C54.5,56.8,50.9,60.4,46.5,60.4z"/>
                <path class="st1" d="M46.7,43.7"/>
                <path class="st1" d="M18.4,43.7"/>
                <line class="st1" x1="18.1" y1="43.7" x2="46.5" y2="43.7"/>
                <line class="st1" x1="18.1" y1="50.7" x2="46.5" y2="50.7"/>
                <line class="st1" x1="18.1" y1="36.7" x2="46.5" y2="36.7"/>
                <path class="st2" d="M44.7,28.6c-2.2,0-4.2-0.8-5.8-2.4c-1.5-1.5-2.4-3.6-2.4-5.8c0-2.2,0.8-4.2,2.4-5.8L52.1,2.5   c1.2-1.2,2.8-1.9,4.6-1.9c1.7,0,3.4,0.7,4.6,1.9c2.5,2.5,2.5,6.7,0,9.2L49.8,22.4c-1.9,1.9-5,1.9-6.9,0c-0.9-0.9-1.4-2.2-1.4-3.5   c0-1.3,0.5-2.5,1.4-3.5l0,0l6.4-5.5c0.3-0.3,0.9-0.3,1.2,0.1c0.3,0.3,0.3,0.9-0.1,1.2l-6.4,5.5c-0.6,0.6-0.9,1.4-0.9,2.3   c0,0.9,0.3,1.7,0.9,2.3c1.3,1.3,3.3,1.3,4.6,0l11.6-10.6c1.9-1.9,1.9-4.9,0-6.8c-0.9-0.9-2.1-1.4-3.4-1.4c-1.3,0-2.5,0.5-3.4,1.4   L40.2,15.9c-1.2,1.2-1.9,2.8-1.9,4.6c0,1.7,0.7,3.4,1.9,4.6c1.2,1.2,2.8,1.9,4.6,1.9c1.7,0,3.4-0.7,4.6-1.9l11.8-11   c0.3-0.3,0.9-0.3,1.2,0c0.3,0.3,0.3,0.9,0,1.2l-11.8,11C49,27.8,46.9,28.6,44.7,28.6z"/>
                <path class="st0" d="M29.2,30.2h-8.9c-1.2,0-2.1-1-2.1-2.1v-9.6c0-1.2,1-2.1,2.1-2.1h8.9c1.2,0,2.1,1,2.1,2.1v9.6  C31.3,29.3,30.3,30.2,29.2,30.2z"/>
                <line class="st3" x1="54.5" y1="25.1" x2="54.5" y2="19.3"/>
            </svg>
        </div>
        <div class="file-name"></div>
    </div>
</div>`,e.appendChild(i.content.cloneNode(!0)),s(this,o,{componentWrapper:e.querySelector(".jb-file-input-web-component"),placeholderWrapper:e.querySelector(".placeholder-wrapper"),virtualInput:k(this,d,B).call(this),placeholderTitle:e.querySelector(".placeholder-title"),fileNameWrapper:e.querySelector(".file-wrapper .file-name")})}initProp(){this.setStatus("empty"),s(this,h,null),s(this,m,!1)}registerEventListener(){r(this,o).placeholderWrapper.addEventListener("click",this.openFileSelector.bind(this))}openFileSelector(){r(this,o).virtualInput.click()}static get observedAttributes(){return["required","placeholder-title","accept"]}attributeChangedCallback(e,i,n){this.onAttributeChange(e,n)}onAttributeChange(e,i){switch(e){case"required":s(this,m,i==""||i=="true");break;case"placeholder-title":r(this,o).placeholderTitle.innerHTML=i;break;case"accept":this.acceptTypes=i}}setStatus(e){r(this,o).componentWrapper.setAttribute("status",e),s(this,I,e)}triggerInputValidation(e=!0){let i=null,n=!0;r(this,m)&&(n=this.value!=null,n||(i="REQUIRED"));const c=n;return c?this.clearValidationError():e&&i&&this.showValidationError(i),{isAllValid:c}}showValidationError(e){r(this,o).componentWrapper.classList.add("--has-error")}clearValidationError(){r(this,o).componentWrapper.classList.remove("--has-error")}resetValue(){s(this,h,null),this.setStatus("empty"),r(this,o).virtualInput.value=""}_triggerOnChangeEvent(){const e=new Event("change");this.dispatchEvent(e)}checkValidity(){const e=r(this,x).checkValiditySync({showError:!1});if(!e.isAllValid){const i=new CustomEvent("invalid");this.dispatchEvent(i)}return e.isAllValid}reportValidity(){const e=r(this,x).checkValiditySync({showError:!0});if(!e.isAllValid){const i=new CustomEvent("invalid");this.dispatchEvent(i)}return e.isAllValid}get validationMessage(){return r(this,y).validationMessage}},h=new WeakMap,o=new WeakMap,m=new WeakMap,y=new WeakMap,I=new WeakMap,S=new WeakMap,x=new WeakMap,A=new WeakMap,d=new WeakSet,B=function(){const e=document.createElement("input");return e.type="file",e.accept=this.acceptTypes,e.addEventListener("change",i=>k(this,d,D).call(this,i)),e},D=function(e){const i=e.target;if(i.files&&i.files.length>0){const n=i.files[0];s(this,h,n),r(this,o).fileNameWrapper.innerHTML=n.name,this.setStatus("selected"),this._triggerOnChangeEvent()}},O=function(){const e=[];return r(this,m)&&e.push({validator:({file:n})=>n!==null,message:"فایل حتما باید انتخاب شود",stateType:"valueMissing"}),e},J=function(e){if(e.isAllValid)r(this,y).setValidity({},"");else{const i={};let n="";e.validationList.forEach(c=>{c.isValid||(c.validation.stateType&&(i[c.validation.stateType]=!0),n==""&&(n=c.message))}),r(this,y).setValidity(i,n)}},H);!customElements.get("jb-file-input")&&window.customElements.define("jb-file-input",Z);let Q=j.forwardRef((t,e)=>{let i=j.useRef(null);return j.useImperativeHandle(e,()=>i?i.current:void 0,[i]),j.useEffect(()=>{i.current&&t.acceptTypes&&(i.current.acceptTypes=t.acceptTypes)},[t.acceptTypes]),j.useEffect(()=>{i.current&&t.placeholderTitle&&i.current.setAttribute("placeholder-title",t.placeholderTitle)},[t.placeholderTitle]),j.useEffect(()=>{i.current&&t.required&&i.current.setAttribute("required",t.required?"true":"false")},[t.required]),F(i,"load",t.onLoad,!0),F(i,"init",t.onInit,!0),F(i,"change",t.onChange,!0),K.createElement("jb-file-input",{ref:i,class:t.className})});Q.displayName="JBFileInput";const ae={title:"Components/form elements/JBFileInput",component:Q},q={args:{}};var R,_,P;q.parameters={...q.parameters,docs:{...(R=q.parameters)==null?void 0:R.docs,source:{originalSource:`{
  args: {}
}`,...(P=(_=q.parameters)==null?void 0:_.docs)==null?void 0:P.source}}};const le=["Normal"];export{q as Normal,le as __namedExportsOrder,ae as default};
