var de=Object.defineProperty;var Ht=f=>{throw TypeError(f)};var ue=(f,c,_)=>c in f?de(f,c,{enumerable:!0,configurable:!0,writable:!0,value:_}):f[c]=_;var ut=(f,c,_)=>ue(f,typeof c!="symbol"?c+"":c,_),Qt=(f,c,_)=>c.has(f)||Ht("Cannot "+_);var V=(f,c,_)=>(Qt(f,c,"read from private field"),_?_.call(f):c.get(f)),ht=(f,c,_)=>c.has(f)?Ht("Cannot add the same private member more than once"):c instanceof WeakSet?c.add(f):c.set(f,_),ct=(f,c,_,T)=>(Qt(f,c,"write to private field"),T?T.call(f,_):c.set(f,_),_),Ut=(f,c,_)=>(Qt(f,c,"access private method"),_);import{g as ce,r as lt,R as le}from"./index-DhY--VwN.js";import{r as Wt}from"./index-BMrwitbN.js";var Nt={exports:{}},ge=Nt.exports,Vt;function pe(){return Vt||(Vt=1,(function(f,c){(function(_,T){f.exports=T()})(ge,(()=>(()=>{var _={873:(N,R)=>{var Y,Dt,pt=(function(){var et=function(p,l){var h=p,e=st[l],t=null,i=0,n=null,r=[],a={},m=function(o,d){t=(function(s){for(var u=new Array(s),g=0;g<s;g+=1){u[g]=new Array(s);for(var S=0;S<s;S+=1)u[g][S]=null}return u})(i=4*h+17),w(0,0),w(i-7,0),w(0,i-7),v(),y(),b(o,d),h>=7&&x(o),n==null&&(n=j(h,e,r)),C(n,d)},w=function(o,d){for(var s=-1;s<=7;s+=1)if(!(o+s<=-1||i<=o+s))for(var u=-1;u<=7;u+=1)d+u<=-1||i<=d+u||(t[o+s][d+u]=0<=s&&s<=6&&(u==0||u==6)||0<=u&&u<=6&&(s==0||s==6)||2<=s&&s<=4&&2<=u&&u<=4)},y=function(){for(var o=8;o<i-8;o+=1)t[o][6]==null&&(t[o][6]=o%2==0);for(var d=8;d<i-8;d+=1)t[6][d]==null&&(t[6][d]=d%2==0)},v=function(){for(var o=H.getPatternPosition(h),d=0;d<o.length;d+=1)for(var s=0;s<o.length;s+=1){var u=o[d],g=o[s];if(t[u][g]==null)for(var S=-2;S<=2;S+=1)for(var M=-2;M<=2;M+=1)t[u+S][g+M]=S==-2||S==2||M==-2||M==2||S==0&&M==0}},x=function(o){for(var d=H.getBCHTypeNumber(h),s=0;s<18;s+=1){var u=!o&&(d>>s&1)==1;t[Math.floor(s/3)][s%3+i-8-3]=u}for(s=0;s<18;s+=1)u=!o&&(d>>s&1)==1,t[s%3+i-8-3][Math.floor(s/3)]=u},b=function(o,d){for(var s=e<<3|d,u=H.getBCHTypeInfo(s),g=0;g<15;g+=1){var S=!o&&(u>>g&1)==1;g<6?t[g][8]=S:g<8?t[g+1][8]=S:t[i-15+g][8]=S}for(g=0;g<15;g+=1)S=!o&&(u>>g&1)==1,g<8?t[8][i-g-1]=S:g<9?t[8][15-g-1+1]=S:t[8][15-g-1]=S;t[i-8][8]=!o},C=function(o,d){for(var s=-1,u=i-1,g=7,S=0,M=H.getMaskFunction(d),k=i-1;k>0;k-=2)for(k==6&&(k-=1);;){for(var q=0;q<2;q+=1)if(t[u][k-q]==null){var D=!1;S<o.length&&(D=(o[S]>>>g&1)==1),M(u,k-q)&&(D=!D),t[u][k-q]=D,(g-=1)==-1&&(S+=1,g=7)}if((u+=s)<0||i<=u){u-=s,s=-s;break}}},j=function(o,d,s){for(var u=zt.getRSBlocks(o,d),g=wt(),S=0;S<s.length;S+=1){var M=s[S];g.put(M.getMode(),4),g.put(M.getLength(),H.getLengthInBits(M.getMode(),o)),M.write(g)}var k=0;for(S=0;S<u.length;S+=1)k+=u[S].dataCount;if(g.getLengthInBits()>8*k)throw"code length overflow. ("+g.getLengthInBits()+">"+8*k+")";for(g.getLengthInBits()+4<=8*k&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;!(g.getLengthInBits()>=8*k||(g.put(236,8),g.getLengthInBits()>=8*k));)g.put(17,8);return(function(q,D){for(var P=0,Q=0,L=0,I=new Array(D.length),z=new Array(D.length),O=0;O<D.length;O+=1){var E=D[O].dataCount,F=D[O].totalCount-E;Q=Math.max(Q,E),L=Math.max(L,F),I[O]=new Array(E);for(var A=0;A<I[O].length;A+=1)I[O][A]=255&q.getBuffer()[A+P];P+=E;var J=H.getErrorCorrectPolynomial(F),G=at(I[O],J.getLength()-1).mod(J);for(z[O]=new Array(J.getLength()-1),A=0;A<z[O].length;A+=1){var W=A+G.getLength()-z[O].length;z[O][A]=W>=0?G.getAt(W):0}}var Lt=0;for(A=0;A<D.length;A+=1)Lt+=D[A].totalCount;var xt=new Array(Lt),nt=0;for(A=0;A<Q;A+=1)for(O=0;O<D.length;O+=1)A<I[O].length&&(xt[nt]=I[O][A],nt+=1);for(A=0;A<L;A+=1)for(O=0;O<D.length;O+=1)A<z[O].length&&(xt[nt]=z[O][A],nt+=1);return xt})(g,u)};a.addData=function(o,d){var s=null;switch(d=d||"Byte"){case"Numeric":s=Bt(o);break;case"Alphanumeric":s=Pt(o);break;case"Byte":s=ft(o);break;case"Kanji":s=It(o);break;default:throw"mode:"+d}r.push(s),n=null},a.isDark=function(o,d){if(o<0||i<=o||d<0||i<=d)throw o+","+d;return t[o][d]},a.getModuleCount=function(){return i},a.make=function(){if(h<1){for(var o=1;o<40;o++){for(var d=zt.getRSBlocks(o,e),s=wt(),u=0;u<r.length;u++){var g=r[u];s.put(g.getMode(),4),s.put(g.getLength(),H.getLengthInBits(g.getMode(),o)),g.write(s)}var S=0;for(u=0;u<d.length;u++)S+=d[u].dataCount;if(s.getLengthInBits()<=8*S)break}h=o}m(!1,(function(){for(var M=0,k=0,q=0;q<8;q+=1){m(!0,q);var D=H.getLostPoint(a);(q==0||M>D)&&(M=D,k=q)}return k})())},a.createTableTag=function(o,d){o=o||2;var s="";s+='<table style="',s+=" border-width: 0px; border-style: none;",s+=" border-collapse: collapse;",s+=" padding: 0px; margin: "+(d=d===void 0?4*o:d)+"px;",s+='">',s+="<tbody>";for(var u=0;u<a.getModuleCount();u+=1){s+="<tr>";for(var g=0;g<a.getModuleCount();g+=1)s+='<td style="',s+=" border-width: 0px; border-style: none;",s+=" border-collapse: collapse;",s+=" padding: 0px; margin: 0px;",s+=" width: "+o+"px;",s+=" height: "+o+"px;",s+=" background-color: ",s+=a.isDark(u,g)?"#000000":"#ffffff",s+=";",s+='"/>';s+="</tr>"}return(s+="</tbody>")+"</table>"},a.createSvgTag=function(o,d,s,u){var g={};typeof arguments[0]=="object"&&(o=(g=arguments[0]).cellSize,d=g.margin,s=g.alt,u=g.title),o=o||2,d=d===void 0?4*o:d,(s=typeof s=="string"?{text:s}:s||{}).text=s.text||null,s.id=s.text?s.id||"qrcode-description":null,(u=typeof u=="string"?{text:u}:u||{}).text=u.text||null,u.id=u.text?u.id||"qrcode-title":null;var S,M,k,q,D=a.getModuleCount()*o+2*d,P="";for(q="l"+o+",0 0,"+o+" -"+o+",0 0,-"+o+"z ",P+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',P+=g.scalable?"":' width="'+D+'px" height="'+D+'px"',P+=' viewBox="0 0 '+D+" "+D+'" ',P+=' preserveAspectRatio="xMinYMin meet"',P+=u.text||s.text?' role="img" aria-labelledby="'+$([u.id,s.id].join(" ").trim())+'"':"",P+=">",P+=u.text?'<title id="'+$(u.id)+'">'+$(u.text)+"</title>":"",P+=s.text?'<description id="'+$(s.id)+'">'+$(s.text)+"</description>":"",P+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',P+='<path d="',M=0;M<a.getModuleCount();M+=1)for(k=M*o+d,S=0;S<a.getModuleCount();S+=1)a.isDark(M,S)&&(P+="M"+(S*o+d)+","+k+q);return(P+='" stroke="transparent" fill="black"/>')+"</svg>"},a.createDataURL=function(o,d){o=o||2,d=d===void 0?4*o:d;var s=a.getModuleCount()*o+2*d,u=d,g=s-d;return mt(s,s,(function(S,M){if(u<=S&&S<g&&u<=M&&M<g){var k=Math.floor((S-u)/o),q=Math.floor((M-u)/o);return a.isDark(q,k)?0:1}return 1}))},a.createImgTag=function(o,d,s){o=o||2,d=d===void 0?4*o:d;var u=a.getModuleCount()*o+2*d,g="";return g+="<img",g+=' src="',g+=a.createDataURL(o,d),g+='"',g+=' width="',g+=u,g+='"',g+=' height="',g+=u,g+='"',s&&(g+=' alt="',g+=$(s),g+='"'),g+"/>"};var $=function(o){for(var d="",s=0;s<o.length;s+=1){var u=o.charAt(s);switch(u){case"<":d+="&lt;";break;case">":d+="&gt;";break;case"&":d+="&amp;";break;case'"':d+="&quot;";break;default:d+=u}}return d};return a.createASCII=function(o,d){if((o=o||1)<2)return(function(I){I=I===void 0?2:I;var z,O,E,F,A,J=1*a.getModuleCount()+2*I,G=I,W=J-I,Lt={"██":"█","█ ":"▀"," █":"▄","  ":" "},xt={"██":"▀","█ ":"▀"," █":" ","  ":" "},nt="";for(z=0;z<J;z+=2){for(E=Math.floor((z-G)/1),F=Math.floor((z+1-G)/1),O=0;O<J;O+=1)A="█",G<=O&&O<W&&G<=z&&z<W&&a.isDark(E,Math.floor((O-G)/1))&&(A=" "),G<=O&&O<W&&G<=z+1&&z+1<W&&a.isDark(F,Math.floor((O-G)/1))?A+=" ":A+="█",nt+=I<1&&z+1>=W?xt[A]:Lt[A];nt+=`
`}return J%2&&I>0?nt.substring(0,nt.length-J-1)+Array(J+1).join("▀"):nt.substring(0,nt.length-1)})(d);o-=1,d=d===void 0?2*o:d;var s,u,g,S,M=a.getModuleCount()*o+2*d,k=d,q=M-d,D=Array(o+1).join("██"),P=Array(o+1).join("  "),Q="",L="";for(s=0;s<M;s+=1){for(g=Math.floor((s-k)/o),L="",u=0;u<M;u+=1)S=1,k<=u&&u<q&&k<=s&&s<q&&a.isDark(g,Math.floor((u-k)/o))&&(S=0),L+=S?D:P;for(g=0;g<o;g+=1)Q+=L+`
`}return Q.substring(0,Q.length-1)},a.renderTo2dContext=function(o,d){d=d||2;for(var s=a.getModuleCount(),u=0;u<s;u++)for(var g=0;g<s;g++)o.fillStyle=a.isDark(u,g)?"black":"white",o.fillRect(u*d,g*d,d,d)},a};et.stringToBytes=(et.stringToBytesFuncs={default:function(p){for(var l=[],h=0;h<p.length;h+=1){var e=p.charCodeAt(h);l.push(255&e)}return l}}).default,et.createStringToBytes=function(p,l){var h=(function(){for(var t=Tt(p),i=function(){var y=t.read();if(y==-1)throw"eof";return y},n=0,r={};;){var a=t.read();if(a==-1)break;var m=i(),w=i()<<8|i();r[String.fromCharCode(a<<8|m)]=w,n+=1}if(n!=l)throw n+" != "+l;return r})(),e=63;return function(t){for(var i=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);if(r<128)i.push(r);else{var a=h[t.charAt(n)];typeof a=="number"?(255&a)==a?i.push(a):(i.push(a>>>8),i.push(255&a)):i.push(e)}}return i}};var dt,rt,tt,B,it,st={L:1,M:0,Q:3,H:2},H=(dt=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],rt=1335,tt=7973,it=function(p){for(var l=0;p!=0;)l+=1,p>>>=1;return l},(B={}).getBCHTypeInfo=function(p){for(var l=p<<10;it(l)-it(rt)>=0;)l^=rt<<it(l)-it(rt);return 21522^(p<<10|l)},B.getBCHTypeNumber=function(p){for(var l=p<<12;it(l)-it(tt)>=0;)l^=tt<<it(l)-it(tt);return p<<12|l},B.getPatternPosition=function(p){return dt[p-1]},B.getMaskFunction=function(p){switch(p){case 0:return function(l,h){return(l+h)%2==0};case 1:return function(l,h){return l%2==0};case 2:return function(l,h){return h%3==0};case 3:return function(l,h){return(l+h)%3==0};case 4:return function(l,h){return(Math.floor(l/2)+Math.floor(h/3))%2==0};case 5:return function(l,h){return l*h%2+l*h%3==0};case 6:return function(l,h){return(l*h%2+l*h%3)%2==0};case 7:return function(l,h){return(l*h%3+(l+h)%2)%2==0};default:throw"bad maskPattern:"+p}},B.getErrorCorrectPolynomial=function(p){for(var l=at([1],0),h=0;h<p;h+=1)l=l.multiply(at([1,U.gexp(h)],0));return l},B.getLengthInBits=function(p,l){if(1<=l&&l<10)switch(p){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+p}else if(l<27)switch(p){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+p}else{if(!(l<41))throw"type:"+l;switch(p){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+p}}},B.getLostPoint=function(p){for(var l=p.getModuleCount(),h=0,e=0;e<l;e+=1)for(var t=0;t<l;t+=1){for(var i=0,n=p.isDark(e,t),r=-1;r<=1;r+=1)if(!(e+r<0||l<=e+r))for(var a=-1;a<=1;a+=1)t+a<0||l<=t+a||r==0&&a==0||n==p.isDark(e+r,t+a)&&(i+=1);i>5&&(h+=3+i-5)}for(e=0;e<l-1;e+=1)for(t=0;t<l-1;t+=1){var m=0;p.isDark(e,t)&&(m+=1),p.isDark(e+1,t)&&(m+=1),p.isDark(e,t+1)&&(m+=1),p.isDark(e+1,t+1)&&(m+=1),m!=0&&m!=4||(h+=3)}for(e=0;e<l;e+=1)for(t=0;t<l-6;t+=1)p.isDark(e,t)&&!p.isDark(e,t+1)&&p.isDark(e,t+2)&&p.isDark(e,t+3)&&p.isDark(e,t+4)&&!p.isDark(e,t+5)&&p.isDark(e,t+6)&&(h+=40);for(t=0;t<l;t+=1)for(e=0;e<l-6;e+=1)p.isDark(e,t)&&!p.isDark(e+1,t)&&p.isDark(e+2,t)&&p.isDark(e+3,t)&&p.isDark(e+4,t)&&!p.isDark(e+5,t)&&p.isDark(e+6,t)&&(h+=40);var w=0;for(t=0;t<l;t+=1)for(e=0;e<l;e+=1)p.isDark(e,t)&&(w+=1);return h+Math.abs(100*w/l/l-50)/5*10},B),U=(function(){for(var p=new Array(256),l=new Array(256),h=0;h<8;h+=1)p[h]=1<<h;for(h=8;h<256;h+=1)p[h]=p[h-4]^p[h-5]^p[h-6]^p[h-8];for(h=0;h<255;h+=1)l[p[h]]=h;return{glog:function(e){if(e<1)throw"glog("+e+")";return l[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return p[e]}}})();function at(p,l){if(p.length===void 0)throw p.length+"/"+l;var h=(function(){for(var t=0;t<p.length&&p[t]==0;)t+=1;for(var i=new Array(p.length-t+l),n=0;n<p.length-t;n+=1)i[n]=p[n+t];return i})(),e={getAt:function(t){return h[t]},getLength:function(){return h.length},multiply:function(t){for(var i=new Array(e.getLength()+t.getLength()-1),n=0;n<e.getLength();n+=1)for(var r=0;r<t.getLength();r+=1)i[n+r]^=U.gexp(U.glog(e.getAt(n))+U.glog(t.getAt(r)));return at(i,0)},mod:function(t){if(e.getLength()-t.getLength()<0)return e;for(var i=U.glog(e.getAt(0))-U.glog(t.getAt(0)),n=new Array(e.getLength()),r=0;r<e.getLength();r+=1)n[r]=e.getAt(r);for(r=0;r<t.getLength();r+=1)n[r]^=U.gexp(U.glog(t.getAt(r))+i);return at(n,0).mod(t)}};return e}var zt=(function(){var p=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],l=function(e,t){var i={};return i.totalCount=e,i.dataCount=t,i},h={getRSBlocks:function(e,t){var i=(function(x,b){switch(b){case st.L:return p[4*(x-1)+0];case st.M:return p[4*(x-1)+1];case st.Q:return p[4*(x-1)+2];case st.H:return p[4*(x-1)+3];default:return}})(e,t);if(i===void 0)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+t;for(var n=i.length/3,r=[],a=0;a<n;a+=1)for(var m=i[3*a+0],w=i[3*a+1],y=i[3*a+2],v=0;v<m;v+=1)r.push(l(w,y));return r}};return h})(),wt=function(){var p=[],l=0,h={getBuffer:function(){return p},getAt:function(e){var t=Math.floor(e/8);return(p[t]>>>7-e%8&1)==1},put:function(e,t){for(var i=0;i<t;i+=1)h.putBit((e>>>t-i-1&1)==1)},getLengthInBits:function(){return l},putBit:function(e){var t=Math.floor(l/8);p.length<=t&&p.push(0),e&&(p[t]|=128>>>l%8),l+=1}};return h},Bt=function(p){var l=p,h={getMode:function(){return 1},getLength:function(i){return l.length},write:function(i){for(var n=l,r=0;r+2<n.length;)i.put(e(n.substring(r,r+3)),10),r+=3;r<n.length&&(n.length-r==1?i.put(e(n.substring(r,r+1)),4):n.length-r==2&&i.put(e(n.substring(r,r+2)),7))}},e=function(i){for(var n=0,r=0;r<i.length;r+=1)n=10*n+t(i.charAt(r));return n},t=function(i){if("0"<=i&&i<="9")return i.charCodeAt(0)-48;throw"illegal char :"+i};return h},Pt=function(p){var l=p,h={getMode:function(){return 2},getLength:function(t){return l.length},write:function(t){for(var i=l,n=0;n+1<i.length;)t.put(45*e(i.charAt(n))+e(i.charAt(n+1)),11),n+=2;n<i.length&&t.put(e(i.charAt(n)),6)}},e=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-48;if("A"<=t&&t<="Z")return t.charCodeAt(0)-65+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return h},ft=function(p){var l=et.stringToBytes(p);return{getMode:function(){return 4},getLength:function(h){return l.length},write:function(h){for(var e=0;e<l.length;e+=1)h.put(l[e],8)}}},It=function(p){var l=et.stringToBytesFuncs.SJIS;if(!l)throw"sjis not supported.";(function(){var t=l("友");if(t.length!=2||(t[0]<<8|t[1])!=38726)throw"sjis not supported."})();var h=l(p),e={getMode:function(){return 8},getLength:function(t){return~~(h.length/2)},write:function(t){for(var i=h,n=0;n+1<i.length;){var r=(255&i[n])<<8|255&i[n+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(n+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13),n+=2}if(n<i.length)throw"illegal char at "+(n+1)}};return e},Et=function(){var p=[],l={writeByte:function(h){p.push(255&h)},writeShort:function(h){l.writeByte(h),l.writeByte(h>>>8)},writeBytes:function(h,e,t){e=e||0,t=t||h.length;for(var i=0;i<t;i+=1)l.writeByte(h[i+e])},writeString:function(h){for(var e=0;e<h.length;e+=1)l.writeByte(h.charCodeAt(e))},toByteArray:function(){return p},toString:function(){var h="";h+="[";for(var e=0;e<p.length;e+=1)e>0&&(h+=","),h+=p[e];return h+"]"}};return l},Tt=function(p){var l=p,h=0,e=0,t=0,i={read:function(){for(;t<8;){if(h>=l.length){if(t==0)return-1;throw"unexpected end of file./"+t}var r=l.charAt(h);if(h+=1,r=="=")return t=0,-1;r.match(/^\s$/)||(e=e<<6|n(r.charCodeAt(0)),t+=6)}var a=e>>>t-8&255;return t-=8,a}},n=function(r){if(65<=r&&r<=90)return r-65;if(97<=r&&r<=122)return r-97+26;if(48<=r&&r<=57)return r-48+52;if(r==43)return 62;if(r==47)return 63;throw"c:"+r};return i},mt=function(p,l,h){for(var e=(function(w,y){var v=w,x=y,b=new Array(w*y),C={setPixel:function(o,d,s){b[d*v+o]=s},write:function(o){o.writeString("GIF87a"),o.writeShort(v),o.writeShort(x),o.writeByte(128),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(0),o.writeByte(255),o.writeByte(255),o.writeByte(255),o.writeString(","),o.writeShort(0),o.writeShort(0),o.writeShort(v),o.writeShort(x),o.writeByte(0);var d=j(2);o.writeByte(2);for(var s=0;d.length-s>255;)o.writeByte(255),o.writeBytes(d,s,255),s+=255;o.writeByte(d.length-s),o.writeBytes(d,s,d.length-s),o.writeByte(0),o.writeString(";")}},j=function(o){for(var d=1<<o,s=1+(1<<o),u=o+1,g=$(),S=0;S<d;S+=1)g.add(String.fromCharCode(S));g.add(String.fromCharCode(d)),g.add(String.fromCharCode(s));var M,k,q,D=Et(),P=(M=D,k=0,q=0,{write:function(z,O){if(z>>>O)throw"length over";for(;k+O>=8;)M.writeByte(255&(z<<k|q)),O-=8-k,z>>>=8-k,q=0,k=0;q|=z<<k,k+=O},flush:function(){k>0&&M.writeByte(q)}});P.write(d,u);var Q=0,L=String.fromCharCode(b[Q]);for(Q+=1;Q<b.length;){var I=String.fromCharCode(b[Q]);Q+=1,g.contains(L+I)?L+=I:(P.write(g.indexOf(L),u),g.size()<4095&&(g.size()==1<<u&&(u+=1),g.add(L+I)),L=I)}return P.write(g.indexOf(L),u),P.write(s,u),P.flush(),D.toByteArray()},$=function(){var o={},d=0,s={add:function(u){if(s.contains(u))throw"dup key:"+u;o[u]=d,d+=1},size:function(){return d},indexOf:function(u){return o[u]},contains:function(u){return o[u]!==void 0}};return s};return C})(p,l),t=0;t<l;t+=1)for(var i=0;i<p;i+=1)e.setPixel(i,t,h(i,t));var n=Et();e.write(n);for(var r=(function(){var w=0,y=0,v=0,x="",b={},C=function($){x+=String.fromCharCode(j(63&$))},j=function($){if(!($<0)){if($<26)return 65+$;if($<52)return $-26+97;if($<62)return $-52+48;if($==62)return 43;if($==63)return 47}throw"n:"+$};return b.writeByte=function($){for(w=w<<8|255&$,y+=8,v+=1;y>=6;)C(w>>>y-6),y-=6},b.flush=function(){if(y>0&&(C(w<<6-y),w=0,y=0),v%3!=0)for(var $=3-v%3,o=0;o<$;o+=1)x+="="},b.toString=function(){return x},b})(),a=n.toByteArray(),m=0;m<a.length;m+=1)r.writeByte(a[m]);return r.flush(),"data:image/gif;base64,"+r};return et})();pt.stringToBytesFuncs["UTF-8"]=function(et){return(function(dt){for(var rt=[],tt=0;tt<dt.length;tt++){var B=dt.charCodeAt(tt);B<128?rt.push(B):B<2048?rt.push(192|B>>6,128|63&B):B<55296||B>=57344?rt.push(224|B>>12,128|B>>6&63,128|63&B):(tt++,B=65536+((1023&B)<<10|1023&dt.charCodeAt(tt)),rt.push(240|B>>18,128|B>>12&63,128|B>>6&63,128|63&B))}return rt})(et)},(Dt=typeof(Y=function(){return pt})=="function"?Y.apply(R,[]):Y)===void 0||(N.exports=Dt)}},T={};function X(N){var R=T[N];if(R!==void 0)return R.exports;var Y=T[N]={exports:{}};return _[N](Y,Y.exports,X),Y.exports}X.n=N=>{var R=N&&N.__esModule?()=>N.default:()=>N;return X.d(R,{a:R}),R},X.d=(N,R)=>{for(var Y in R)X.o(R,Y)&&!X.o(N,Y)&&Object.defineProperty(N,Y,{enumerable:!0,get:R[Y]})},X.o=(N,R)=>Object.prototype.hasOwnProperty.call(N,R);var Ft={};return(()=>{X.d(Ft,{default:()=>l});const N=h=>!!h&&typeof h=="object"&&!Array.isArray(h);function R(h,...e){if(!e.length)return h;const t=e.shift();return t!==void 0&&N(h)&&N(t)?(h=Object.assign({},h),Object.keys(t).forEach((i=>{const n=h[i],r=t[i];Array.isArray(n)&&Array.isArray(r)?h[i]=r:N(n)&&N(r)?h[i]=R(Object.assign({},n),r):h[i]=r})),R(h,...e)):h}function Y(h,e){const t=document.createElement("a");t.download=e,t.href=h,document.body.appendChild(t),t.click(),document.body.removeChild(t)}const Dt={L:.07,M:.15,Q:.25,H:.3};class pt{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,n){let r;switch(this._type){case"dots":r=this._drawDot;break;case"classy":r=this._drawClassy;break;case"classy-rounded":r=this._drawClassyRounded;break;case"rounded":r=this._drawRounded;break;case"extra-rounded":r=this._drawExtraRounded;break;default:r=this._drawSquare}r.call(this,{x:e,y:t,size:i,getNeighbor:n})}_rotateFigure({x:e,y:t,size:i,rotation:n=0,draw:r}){var a;const m=e+i/2,w=t+i/2;r(),(a=this._element)===null||a===void 0||a.setAttribute("transform",`rotate(${180*n/Math.PI},${m},${w})`)}_basicDot(e){const{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(i+t/2)),this._element.setAttribute("cy",String(n+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(i)),this._element.setAttribute("y",String(n)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_basicSideRounded(e){const{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${n}v ${t}h `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, 0 ${-t}`)}}))}_basicCornerRounded(e){const{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${n}v ${t}h ${t}v `+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_basicCornerExtraRounded(e){const{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${n}v ${t}h ${t}a ${t} ${t}, 0, 0, 0, ${-t} ${-t}`)}}))}_basicCornersRounded(e){const{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${i} ${n}v `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${t/2} ${t/2}h `+t/2+"v "+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_drawDot({x:e,y:t,size:i}){this._basicDot({x:e,y:t,size:i,rotation:0})}_drawSquare({x:e,y:t,size:i}){this._basicSquare({x:e,y:t,size:i,rotation:0})}_drawRounded({x:e,y:t,size:i,getNeighbor:n}){const r=n?+n(-1,0):0,a=n?+n(1,0):0,m=n?+n(0,-1):0,w=n?+n(0,1):0,y=r+a+m+w;if(y!==0)if(y>2||r&&a||m&&w)this._basicSquare({x:e,y:t,size:i,rotation:0});else{if(y===2){let v=0;return r&&m?v=Math.PI/2:m&&a?v=Math.PI:a&&w&&(v=-Math.PI/2),void this._basicCornerRounded({x:e,y:t,size:i,rotation:v})}if(y===1){let v=0;return m?v=Math.PI/2:a?v=Math.PI:w&&(v=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:i,rotation:v})}}else this._basicDot({x:e,y:t,size:i,rotation:0})}_drawExtraRounded({x:e,y:t,size:i,getNeighbor:n}){const r=n?+n(-1,0):0,a=n?+n(1,0):0,m=n?+n(0,-1):0,w=n?+n(0,1):0,y=r+a+m+w;if(y!==0)if(y>2||r&&a||m&&w)this._basicSquare({x:e,y:t,size:i,rotation:0});else{if(y===2){let v=0;return r&&m?v=Math.PI/2:m&&a?v=Math.PI:a&&w&&(v=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:v})}if(y===1){let v=0;return m?v=Math.PI/2:a?v=Math.PI:w&&(v=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:i,rotation:v})}}else this._basicDot({x:e,y:t,size:i,rotation:0})}_drawClassy({x:e,y:t,size:i,getNeighbor:n}){const r=n?+n(-1,0):0,a=n?+n(1,0):0,m=n?+n(0,-1):0,w=n?+n(0,1):0;r+a+m+w!==0?r||m?a||w?this._basicSquare({x:e,y:t,size:i,rotation:0}):this._basicCornerRounded({x:e,y:t,size:i,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:t,size:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:i,rotation:Math.PI/2})}_drawClassyRounded({x:e,y:t,size:i,getNeighbor:n}){const r=n?+n(-1,0):0,a=n?+n(1,0):0,m=n?+n(0,-1):0,w=n?+n(0,1):0;r+a+m+w!==0?r||m?a||w?this._basicSquare({x:e,y:t,size:i,rotation:0}):this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:t,size:i,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:i,rotation:Math.PI/2})}}const et={dot:"dot",square:"square",extraRounded:"extra-rounded"},dt=Object.values(et);class rt{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,n){let r;switch(this._type){case et.square:r=this._drawSquare;break;case et.extraRounded:r=this._drawExtraRounded;break;default:r=this._drawDot}r.call(this,{x:e,y:t,size:i,rotation:n})}_rotateFigure({x:e,y:t,size:i,rotation:n=0,draw:r}){var a;const m=e+i/2,w=t+i/2;r(),(a=this._element)===null||a===void 0||a.setAttribute("transform",`rotate(${180*n/Math.PI},${m},${w})`)}_basicDot(e){const{size:t,x:i,y:n}=e,r=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i+t/2} ${n}a ${t/2} ${t/2} 0 1 0 0.1 0zm 0 ${r}a ${t/2-r} ${t/2-r} 0 1 1 -0.1 0Z`)}}))}_basicSquare(e){const{size:t,x:i,y:n}=e,r=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i} ${n}v ${t}h ${t}v `+-t+`zM ${i+r} ${n+r}h `+(t-2*r)+"v "+(t-2*r)+"h "+(2*r-t)+"z")}}))}_basicExtraRounded(e){const{size:t,x:i,y:n}=e,r=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${i} ${n+2.5*r}v `+2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*r} ${2.5*r}h `+2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*r} ${2.5*-r}v `+-2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*-r} ${2.5*-r}h `+-2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*-r} ${2.5*r}M ${i+2.5*r} ${n+r}h `+2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*r} ${1.5*r}v `+2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*-r} ${1.5*r}h `+-2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*-r} ${1.5*-r}v `+-2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*r} ${1.5*-r}`)}}))}_drawDot({x:e,y:t,size:i,rotation:n}){this._basicDot({x:e,y:t,size:i,rotation:n})}_drawSquare({x:e,y:t,size:i,rotation:n}){this._basicSquare({x:e,y:t,size:i,rotation:n})}_drawExtraRounded({x:e,y:t,size:i,rotation:n}){this._basicExtraRounded({x:e,y:t,size:i,rotation:n})}}const tt={dot:"dot",square:"square"},B=Object.values(tt);class it{constructor({svg:e,type:t,window:i}){this._svg=e,this._type=t,this._window=i}draw(e,t,i,n){let r;r=this._type===tt.square?this._drawSquare:this._drawDot,r.call(this,{x:e,y:t,size:i,rotation:n})}_rotateFigure({x:e,y:t,size:i,rotation:n=0,draw:r}){var a;const m=e+i/2,w=t+i/2;r(),(a=this._element)===null||a===void 0||a.setAttribute("transform",`rotate(${180*n/Math.PI},${m},${w})`)}_basicDot(e){const{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(i+t/2)),this._element.setAttribute("cy",String(n+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:i,y:n}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(i)),this._element.setAttribute("y",String(n)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_drawDot({x:e,y:t,size:i,rotation:n}){this._basicDot({x:e,y:t,size:i,rotation:n})}_drawSquare({x:e,y:t,size:i,rotation:n}){this._basicSquare({x:e,y:t,size:i,rotation:n})}}const st="circle",H=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],U=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class at{constructor(e,t){this._roundSize=i=>this._options.dotsOptions.roundSize?Math.floor(i):i,this._window=t,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(e.width)),this._element.setAttribute("height",String(e.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${e.width} ${e.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=e.image,this._instanceId=at.instanceCount++,this._options=e}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(e){const t=e.getModuleCount(),i=Math.min(this._options.width,this._options.height)-2*this._options.margin,n=this._options.shape===st?i/Math.sqrt(2):i,r=this._roundSize(n/t);let a={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=e,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:m,qrOptions:w}=this._options,y=m.imageSize*Dt[w.errorCorrectionLevel],v=Math.floor(y*t*t);a=(function({originalHeight:x,originalWidth:b,maxHiddenDots:C,maxHiddenAxisDots:j,dotSize:$}){const o={x:0,y:0},d={x:0,y:0};if(x<=0||b<=0||C<=0||$<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const s=x/b;return o.x=Math.floor(Math.sqrt(C/s)),o.x<=0&&(o.x=1),j&&j<o.x&&(o.x=j),o.x%2==0&&o.x--,d.x=o.x*$,o.y=1+2*Math.ceil((o.x*s-1)/2),d.y=Math.round(d.x*s),(o.y*o.x>C||j&&j<o.y)&&(j&&j<o.y?(o.y=j,o.y%2==0&&o.x--):o.y-=2,d.y=o.y*$,o.x=1+2*Math.ceil((o.y/s-1)/2),d.x=Math.round(d.y/s)),{height:d.y,width:d.x,hideYDots:o.y,hideXDots:o.x}})({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:v,maxHiddenAxisDots:t-14,dotSize:r})}this.drawBackground(),this.drawDots(((m,w)=>{var y,v,x,b,C,j;return!(this._options.imageOptions.hideBackgroundDots&&m>=(t-a.hideYDots)/2&&m<(t+a.hideYDots)/2&&w>=(t-a.hideXDots)/2&&w<(t+a.hideXDots)/2||!((y=H[m])===null||y===void 0)&&y[w]||!((v=H[m-t+7])===null||v===void 0)&&v[w]||!((x=H[m])===null||x===void 0)&&x[w-t+7]||!((b=U[m])===null||b===void 0)&&b[w]||!((C=U[m-t+7])===null||C===void 0)&&C[w]||!((j=U[m])===null||j===void 0)&&j[w-t+7])})),this.drawCorners(),this._options.image&&await this.drawImage({width:a.width,height:a.height,count:t,dotSize:r})}drawBackground(){var e,t,i;const n=this._element,r=this._options;if(n){const a=(e=r.backgroundOptions)===null||e===void 0?void 0:e.gradient,m=(t=r.backgroundOptions)===null||t===void 0?void 0:t.color;let w=r.height,y=r.width;if(a||m){const v=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((i=r.backgroundOptions)===null||i===void 0)&&i.round&&(w=y=Math.min(r.width,r.height),v.setAttribute("rx",String(w/2*r.backgroundOptions.round))),v.setAttribute("x",String(this._roundSize((r.width-y)/2))),v.setAttribute("y",String(this._roundSize((r.height-w)/2))),v.setAttribute("width",String(y)),v.setAttribute("height",String(w)),this._backgroundClipPath.appendChild(v),this._createColor({options:a,color:m,additionalRotation:0,x:0,y:0,height:r.height,width:r.width,name:`background-color-${this._instanceId}`})}}}drawDots(e){var t,i;if(!this._qr)throw"QR code is not defined";const n=this._options,r=this._qr.getModuleCount();if(r>n.width||r>n.height)throw"The canvas is too small.";const a=Math.min(n.width,n.height)-2*n.margin,m=n.shape===st?a/Math.sqrt(2):a,w=this._roundSize(m/r),y=this._roundSize((n.width-r*w)/2),v=this._roundSize((n.height-r*w)/2),x=new pt({svg:this._element,type:n.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(t=n.dotsOptions)===null||t===void 0?void 0:t.gradient,color:n.dotsOptions.color,additionalRotation:0,x:0,y:0,height:n.height,width:n.width,name:`dot-color-${this._instanceId}`});for(let b=0;b<r;b++)for(let C=0;C<r;C++)e&&!e(b,C)||!((i=this._qr)===null||i===void 0)&&i.isDark(b,C)&&(x.draw(y+C*w,v+b*w,w,((j,$)=>!(C+j<0||b+$<0||C+j>=r||b+$>=r)&&!(e&&!e(b+$,C+j))&&!!this._qr&&this._qr.isDark(b+$,C+j))),x._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(x._element));if(n.shape===st){const b=this._roundSize((a/w-r)/2),C=r+2*b,j=y-b*w,$=v-b*w,o=[],d=this._roundSize(C/2);for(let s=0;s<C;s++){o[s]=[];for(let u=0;u<C;u++)s>=b-1&&s<=C-b&&u>=b-1&&u<=C-b||Math.sqrt((s-d)*(s-d)+(u-d)*(u-d))>d?o[s][u]=0:o[s][u]=this._qr.isDark(u-2*b<0?u:u>=r?u-2*b:u-b,s-2*b<0?s:s>=r?s-2*b:s-b)?1:0}for(let s=0;s<C;s++)for(let u=0;u<C;u++)o[s][u]&&(x.draw(j+u*w,$+s*w,w,((g,S)=>{var M;return!!(!((M=o[s+S])===null||M===void 0)&&M[u+g])})),x._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(x._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const e=this._element,t=this._options;if(!e)throw"Element code is not defined";const i=this._qr.getModuleCount(),n=Math.min(t.width,t.height)-2*t.margin,r=t.shape===st?n/Math.sqrt(2):n,a=this._roundSize(r/i),m=7*a,w=3*a,y=this._roundSize((t.width-i*a)/2),v=this._roundSize((t.height-i*a)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((([x,b,C])=>{var j,$,o,d,s,u,g,S,M,k,q,D,P,Q;const L=y+x*a*(i-7),I=v+b*a*(i-7);let z=this._dotsClipPath,O=this._dotsClipPath;if((!((j=t.cornersSquareOptions)===null||j===void 0)&&j.gradient||!(($=t.cornersSquareOptions)===null||$===void 0)&&$.color)&&(z=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),z.setAttribute("id",`clip-path-corners-square-color-${x}-${b}-${this._instanceId}`),this._defs.appendChild(z),this._cornersSquareClipPath=this._cornersDotClipPath=O=z,this._createColor({options:(o=t.cornersSquareOptions)===null||o===void 0?void 0:o.gradient,color:(d=t.cornersSquareOptions)===null||d===void 0?void 0:d.color,additionalRotation:C,x:L,y:I,height:m,width:m,name:`corners-square-color-${x}-${b}-${this._instanceId}`})),((s=t.cornersSquareOptions)===null||s===void 0?void 0:s.type)&&dt.includes(t.cornersSquareOptions.type)){const E=new rt({svg:this._element,type:t.cornersSquareOptions.type,window:this._window});E.draw(L,I,m,C),E._element&&z&&z.appendChild(E._element)}else{const E=new pt({svg:this._element,type:((u=t.cornersSquareOptions)===null||u===void 0?void 0:u.type)||t.dotsOptions.type,window:this._window});for(let F=0;F<H.length;F++)for(let A=0;A<H[F].length;A++)!((g=H[F])===null||g===void 0)&&g[A]&&(E.draw(L+A*a,I+F*a,a,((J,G)=>{var W;return!!(!((W=H[F+G])===null||W===void 0)&&W[A+J])})),E._element&&z&&z.appendChild(E._element))}if((!((S=t.cornersDotOptions)===null||S===void 0)&&S.gradient||!((M=t.cornersDotOptions)===null||M===void 0)&&M.color)&&(O=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),O.setAttribute("id",`clip-path-corners-dot-color-${x}-${b}-${this._instanceId}`),this._defs.appendChild(O),this._cornersDotClipPath=O,this._createColor({options:(k=t.cornersDotOptions)===null||k===void 0?void 0:k.gradient,color:(q=t.cornersDotOptions)===null||q===void 0?void 0:q.color,additionalRotation:C,x:L+2*a,y:I+2*a,height:w,width:w,name:`corners-dot-color-${x}-${b}-${this._instanceId}`})),((D=t.cornersDotOptions)===null||D===void 0?void 0:D.type)&&B.includes(t.cornersDotOptions.type)){const E=new it({svg:this._element,type:t.cornersDotOptions.type,window:this._window});E.draw(L+2*a,I+2*a,w,C),E._element&&O&&O.appendChild(E._element)}else{const E=new pt({svg:this._element,type:((P=t.cornersDotOptions)===null||P===void 0?void 0:P.type)||t.dotsOptions.type,window:this._window});for(let F=0;F<U.length;F++)for(let A=0;A<U[F].length;A++)!((Q=U[F])===null||Q===void 0)&&Q[A]&&(E.draw(L+A*a,I+F*a,a,((J,G)=>{var W;return!!(!((W=U[F+G])===null||W===void 0)&&W[A+J])})),E._element&&O&&O.appendChild(E._element))}}))}loadImage(){return new Promise(((e,t)=>{var i;const n=this._options;if(!n.image)return t("Image is not defined");if(!((i=n.nodeCanvas)===null||i===void 0)&&i.loadImage)n.nodeCanvas.loadImage(n.image).then((r=>{var a,m;if(this._image=r,this._options.imageOptions.saveAsBlob){const w=(a=n.nodeCanvas)===null||a===void 0?void 0:a.createCanvas(this._image.width,this._image.height);(m=w==null?void 0:w.getContext("2d"))===null||m===void 0||m.drawImage(r,0,0),this._imageUri=w==null?void 0:w.toDataURL()}e()})).catch(t);else{const r=new this._window.Image;typeof n.imageOptions.crossOrigin=="string"&&(r.crossOrigin=n.imageOptions.crossOrigin),this._image=r,r.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await(async function(a,m){return new Promise((w=>{const y=new m.XMLHttpRequest;y.onload=function(){const v=new m.FileReader;v.onloadend=function(){w(v.result)},v.readAsDataURL(y.response)},y.open("GET",a),y.responseType="blob",y.send()}))})(n.image||"",this._window)),e()},r.src=n.image}}))}async drawImage({width:e,height:t,count:i,dotSize:n}){const r=this._options,a=this._roundSize((r.width-i*n)/2),m=this._roundSize((r.height-i*n)/2),w=a+this._roundSize(r.imageOptions.margin+(i*n-e)/2),y=m+this._roundSize(r.imageOptions.margin+(i*n-t)/2),v=e-2*r.imageOptions.margin,x=t-2*r.imageOptions.margin,b=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");b.setAttribute("href",this._imageUri||""),b.setAttribute("xlink:href",this._imageUri||""),b.setAttribute("x",String(w)),b.setAttribute("y",String(y)),b.setAttribute("width",`${v}px`),b.setAttribute("height",`${x}px`),this._element.appendChild(b)}_createColor({options:e,color:t,additionalRotation:i,x:n,y:r,height:a,width:m,name:w}){const y=m>a?m:a,v=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(v.setAttribute("x",String(n)),v.setAttribute("y",String(r)),v.setAttribute("height",String(a)),v.setAttribute("width",String(m)),v.setAttribute("clip-path",`url('#clip-path-${w}')`),e){let x;if(e.type==="radial")x=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),x.setAttribute("id",w),x.setAttribute("gradientUnits","userSpaceOnUse"),x.setAttribute("fx",String(n+m/2)),x.setAttribute("fy",String(r+a/2)),x.setAttribute("cx",String(n+m/2)),x.setAttribute("cy",String(r+a/2)),x.setAttribute("r",String(y/2));else{const b=((e.rotation||0)+i)%(2*Math.PI),C=(b+2*Math.PI)%(2*Math.PI);let j=n+m/2,$=r+a/2,o=n+m/2,d=r+a/2;C>=0&&C<=.25*Math.PI||C>1.75*Math.PI&&C<=2*Math.PI?(j-=m/2,$-=a/2*Math.tan(b),o+=m/2,d+=a/2*Math.tan(b)):C>.25*Math.PI&&C<=.75*Math.PI?($-=a/2,j-=m/2/Math.tan(b),d+=a/2,o+=m/2/Math.tan(b)):C>.75*Math.PI&&C<=1.25*Math.PI?(j+=m/2,$+=a/2*Math.tan(b),o-=m/2,d-=a/2*Math.tan(b)):C>1.25*Math.PI&&C<=1.75*Math.PI&&($+=a/2,j+=m/2/Math.tan(b),d-=a/2,o-=m/2/Math.tan(b)),x=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),x.setAttribute("id",w),x.setAttribute("gradientUnits","userSpaceOnUse"),x.setAttribute("x1",String(Math.round(j))),x.setAttribute("y1",String(Math.round($))),x.setAttribute("x2",String(Math.round(o))),x.setAttribute("y2",String(Math.round(d)))}e.colorStops.forEach((({offset:b,color:C})=>{const j=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");j.setAttribute("offset",100*b+"%"),j.setAttribute("stop-color",C),x.appendChild(j)})),v.setAttribute("fill",`url('#${w}')`),this._defs.appendChild(x)}else t&&v.setAttribute("fill",t);this._element.appendChild(v)}}at.instanceCount=0;const zt=at,wt="canvas",Bt={};for(let h=0;h<=40;h++)Bt[h]=h;const Pt={type:wt,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:Bt[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function ft(h){const e=Object.assign({},h);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation?e.rotation=Number(e.rotation):e.rotation=0,e.colorStops=e.colorStops.map((t=>Object.assign(Object.assign({},t),{offset:Number(t.offset)}))),e}function It(h){const e=Object.assign({},h);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=Object.assign(Object.assign({},e.imageOptions),{hideBackgroundDots:!!e.imageOptions.hideBackgroundDots,imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=Object.assign({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=ft(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=Object.assign({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=ft(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=Object.assign({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=ft(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=Object.assign({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=ft(e.backgroundOptions.gradient))),e}var Et=X(873),Tt=X.n(Et);function mt(h){if(!h)throw new Error("Extension must be defined");h[0]==="."&&(h=h.substring(1));const e={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[h.toLowerCase()];if(!e)throw new Error(`Extension "${h}" is not supported`);return e}class p{constructor(e){e!=null&&e.jsdom?this._window=new e.jsdom("",{resources:"usable"}).window:this._window=window,this._options=e?It(R(Pt,e)):Pt,this.update()}static _clearContainer(e){e&&(e.innerHTML="")}_setupSvg(){if(!this._qr)return;const e=new zt(this._options,this._window);this._svg=e.getElement(),this._svgDrawingPromise=e.drawQR(this._qr).then((()=>{var t;this._svg&&((t=this._extension)===null||t===void 0||t.call(this,e.getElement(),this._options))}))}_setupCanvas(){var e,t;this._qr&&(!((e=this._options.nodeCanvas)===null||e===void 0)&&e.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(t=this._svgDrawingPromise)===null||t===void 0?void 0:t.then((()=>{var i;if(!this._svg)return;const n=this._svg,r=new this._window.XMLSerializer().serializeToString(n),a=btoa(r),m=`data:${mt("svg")};base64,${a}`;if(!((i=this._options.nodeCanvas)===null||i===void 0)&&i.loadImage)return this._options.nodeCanvas.loadImage(m).then((w=>{var y,v;w.width=this._options.width,w.height=this._options.height,(v=(y=this._nodeCanvas)===null||y===void 0?void 0:y.getContext("2d"))===null||v===void 0||v.drawImage(w,0,0)}));{const w=new this._window.Image;return new Promise((y=>{w.onload=()=>{var v,x;(x=(v=this._domCanvas)===null||v===void 0?void 0:v.getContext("2d"))===null||x===void 0||x.drawImage(w,0,0),y()},w.src=m}))}})))}async _getElement(e="png"){if(!this._qr)throw"QR code is empty";return e.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(e){p._clearContainer(this._container),this._options=e?It(R(this._options,e)):this._options,this._options.data&&(this._qr=Tt()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||(function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}})(this._options.data)),this._qr.make(),this._options.type===wt?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(e){if(e){if(typeof e.appendChild!="function")throw"Container should be a single DOM node";this._options.type===wt?this._domCanvas&&e.appendChild(this._domCanvas):this._svg&&e.appendChild(this._svg),this._container=e}}applyExtension(e){if(!e)throw"Extension function should be defined.";this._extension=e,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(e="png"){if(!this._qr)throw"QR code is empty";const t=await this._getElement(e),i=mt(e);if(!t)return null;if(e.toLowerCase()==="svg"){const n=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(t)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(n):new Blob([n],{type:i})}return new Promise((n=>{const r=t;if("toBuffer"in r)if(i==="image/png")n(r.toBuffer(i));else if(i==="image/jpeg")n(r.toBuffer(i));else{if(i!=="application/pdf")throw Error("Unsupported extension");n(r.toBuffer(i))}else"toBlob"in r&&r.toBlob(n,i,1)}))}async download(e){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let t="png",i="qr";typeof e=="string"?(t=e,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof e=="object"&&e!==null&&(e.name&&(i=e.name),e.extension&&(t=e.extension));const n=await this._getElement(t);if(n)if(t.toLowerCase()==="svg"){let r=new XMLSerializer().serializeToString(n);r=`<?xml version="1.0" standalone="no"?>\r
`+r,Y(`data:${mt(t)};charset=utf-8,${encodeURIComponent(r)}`,`${i}.svg`)}else Y(n.toDataURL(mt(t)),`${i}.${t}`)}}const l=p})(),Ft.default})()))})(Nt)),Nt.exports}var we=pe();const fe=ce(we);var Z=class{constructor(f,c){ut(this,"lightness");ut(this,"chroma");ut(this,"hue");ut(this,"variableName");this.variableName=c,this.lightness=f.lightness,this.chroma=f.chroma,this.hue=f.hue}get value(){return`oklch(${this.lightness} ${this.chroma} ${this.hue})`}};function ot(f){return new Z({lightness:6*(3+1.3*f)*.01,chroma:.001*(14+.09*f),hue:258.36},`--jb-neutral-${f}`)}function me(f){return new Z({lightness:f.lightness-.1,chroma:f.chroma-.05,hue:f.hue},`${f.variableName}-pressed`)}function ve(f){const c=Math.min(f.lightness+.12*(1-f.lightness),.985),_=f.chroma*(1-.15*(c-f.lightness));return new Z({lightness:c,chroma:Number(_.toFixed(3)),hue:f.hue},`${f.variableName}-l`)}function be(f){const c=Math.max(f.lightness-.12*f.lightness,.02);return new Z({lightness:c,chroma:f.chroma*(1-.15*(c-f.lightness)),hue:f.hue},`${f.variableName}-d`)}function _e(f){const c=Math.min(f.lightness+.65*(1-f.lightness),.93),_=.55*f.chroma*(1-.08*(c-f.lightness)),T=f.hue>=70&&f.hue<=162?5:-3,X=f.hue+T;return new Z({lightness:c,chroma:Number(_.toFixed(3)),hue:X},`${f.variableName}-subtle`)}function ye(f){const c=Math.max(f.lightness-.35,.22),_=Math.min(1.6*f.chroma,.28);return new Z({lightness:Number(c.toFixed(3)),chroma:Number(_.toFixed(3)),hue:f.hue},`${f.variableName}-contrast`)}function St(f){return{main:f,hover:(c=f,new Z({lightness:c.lightness+.07,chroma:c.chroma+.07,hue:c.hue},`${c.variableName}-hover`)),pressed:me(f),light:ve(f),dark:be(f),subtle:_e(f),contrast:ye(f)};var c}const xe=new Z({lightness:.6,chroma:.26,hue:256},"--jb-primary"),Se=new Z({lightness:.6,chroma:.26,hue:286},"--jb-secondary"),Ce=new Z({lightness:.75,chroma:.18,hue:70},"--jb-yellow"),Oe=new Z({lightness:.68,chroma:.1484,hue:162.1},"--jb-green"),$e=new Z({lightness:.6,chroma:.22,hue:23.21},"--jb-red"),Xt={single:{black:new Z({lightness:.14,chroma:0,hue:0},"--jb-black"),white:new Z({lightness:1,chroma:0,hue:0},"--jb-white"),highlight:new Z({lightness:.93,chroma:.2302,hue:125.18},"--jb-highlight")},neutral:[ot(0),ot(1),ot(2),ot(3),ot(4),ot(5),ot(6),ot(7),ot(8),ot(9),ot(10)],primary:St(xe),secondary:St(Se),yellow:St(Ce),green:St(Oe),red:St($e)};function vt(f){try{const{value:c,..._}=f;typeof window.CSS.registerProperty=="function"&&window.CSS.registerProperty({..._}),(function(T,X){try{X&&(document.documentElement.style.getPropertyValue(T)||document.documentElement.style.setProperty(T,X))}catch{}})(f.name,c)}catch{}}function K(f,c){vt({name:c??f.variableName,syntax:"<color>",inherits:!0,initialValue:f.value})}function Me(){var f;vt({name:"--jb-radius",inherits:!0,value:"1rem",initialValue:"16px",syntax:"<length-percentage>"}),vt({name:"--jb-radius-xs",inherits:!0,value:"0.5rem",initialValue:"8px",syntax:"<length-percentage>"}),vt({name:"--jb-radius-sm",inherits:!0,value:"0.75rem",initialValue:"12px",syntax:"<length-percentage>"}),vt({name:"--jb-radius-lg",inherits:!0,value:"1.25rem",initialValue:"20px",syntax:"<length-percentage>"}),vt({name:"--jb-radius-xl",inherits:!0,value:"1.5rem",initialValue:"24px",syntax:"<length-percentage>"}),(function(c){K(c.neutral[0],"--jb-neutral"),K(c.primary.main),K(c.secondary.main),K(c.single.black),K(c.single.white),K(c.single.highlight),K(c.yellow.main),K(c.green.main),K(c.red.main),K(c.red.main);for(let _=1;_<=10;_++)K(c.neutral[_])})(Xt),K((f=Xt).single.black,"--jb-text-primary"),K(f.neutral[7],"--jb-text-secondary"),K(f.single.white,"--jb-text-contrast")}var bt,_t,gt,yt,At,kt,jt,qt,Rt,he,Yt,Ae=(Yt=class extends HTMLElement{constructor(){super();ht(this,Rt);ut(this,"elements");ht(this,bt,null);ht(this,_t,240);ht(this,gt,240);ht(this,yt,null);ut(this,"downloadFileName","qr");ht(this,At,{color:"var(--image-color)",type:"square"});ht(this,kt,{color:"var(--image-color)",type:"square"});ht(this,jt,{color:"#fff"});ht(this,qt,null);this.initWebComponent()}get dotsOptions(){return V(this,At)}set dotsOptions(c){Object.assign(V(this,At),c),this.drawQrcode()}get cornersSquareOptions(){return V(this,kt)}set cornersSquareOptions(c){Object.assign(V(this,kt),c),this.drawQrcode()}get backgroundOptions(){return V(this,jt)}set backgroundOptions(c){Object.assign(V(this,jt),c),this.drawQrcode()}get width(){return V(this,_t)}set width(c){ct(this,_t,c),this.drawQrcode(),this.style.width=`${c}px`}get height(){return V(this,gt)}set height(c){V(this,gt)!==c&&(ct(this,gt,c),this.drawQrcode(),this.style.height=`${c}px`)}get value(){return V(this,bt)}set value(c){c&&c!==this.value?(ct(this,bt,c),this.drawQrcode()):ct(this,bt,null)}set logo(c){ct(this,qt,c)}get logo(){return V(this,qt)}initWebComponent(){Me();const c=this.attachShadow({mode:"open"}),_=document.createElement("template");_.innerHTML=`<style>:host{width:15rem;height:15rem;display:block}.jb-qrcode-web-component{aspect-ratio:1;border-radius:1.5rem;position:relative;overflow:hidden}.jb-qrcode-web-component:hover .overlay{opacity:1}.jb-qrcode-web-component .overlay{cursor:pointer;opacity:0;background-color:var(--overlay-bg-color);backdrop-filter:blur(8px);z-index:1;border-radius:var(--border-radius);flex-wrap:wrap;justify-content:center;align-items:center;gap:1rem;width:100%;height:100%;transition:all .3s;display:flex;position:absolute;top:0;left:0;overflow:hidden}.jb-qrcode-web-component .overlay .download-button{color:var(--overlay-button-color);stroke:var(--overlay-button-color);background-color:#0000;border-radius:1rem;justify-content:center;align-items:center;width:2.5rem;height:2.5rem;display:flex}.jb-qrcode-web-component .overlay .download-button:hover{background-color:var(--overlay-button-bg-color-hover);stroke:var(--overlay-button-color-hover)}.jb-qrcode-web-component .overlay .download-button #DownloadIcon{object-fit:contain;stroke-width:1.5px;width:80%;height:80%} :host{--image-color:var(--jb-qrcode-image-color,var(--jb-neutral));--overlay-bg-color:var(--jb-qrcode-overlay-bg-color,oklch(from var(--jb-neutral)l c h/calc(alpha - .5)));--overlay-button-color:var(--jb-qrcode-overlay-button-color,var(--jb-white));--overlay-button-bg-color-hover:var(--jb-qrcode-overlay-button-bg-color-hover,var(--jb-white));--overlay-button-color-hover:var(--jb-qrcode-overlay-button-color-hover,var(--jb-neutral))}</style>

  <div class="jb-qrcode-web-component">
      <div class="qrcode-wrapper">
      </div>
      <div class="overlay">      
          <div class="download-button">
            <svg id="DownloadIcon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path id="S1" d="M15.0382 12.5084L12.1222 15.4364L9.20621 12.5084"  stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path id="S3" d="M12.1222 15.4361L12.1222 3.39508"  stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path id="S2" d="M16.7549 8.12799H17.6879C19.7229 8.12799 21.3719 9.77699 21.3719 11.813V16.697C21.3719 18.727 19.7269 20.372 17.6969 20.372L6.55695 20.372C4.52195 20.372 2.87195 18.722 2.87195 16.687V11.802C2.87195 9.77299 4.51795 8.12799 6.54695 8.12799L7.48895 8.12799" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
      </div>
  </div>
  `,c.appendChild(_.content.cloneNode(!0)),this.elements={componentWrapper:c.querySelector(".circle-chart-web-component"),qrCodeWrapper:c.querySelector(".qrcode-wrapper"),downloadButton:c.querySelector("#DownloadIcon")},Ut(this,Rt,he).call(this)}static get observedAttributes(){return["value","logo","file-name"]}attributeChangedCallback(c,_,T){this.onAttributeChange(c,T)}onAttributeChange(c,_){switch(c){case"value":this.value=_;break;case"logo":this.logo=_;break;case"file-name":this.downloadFileName=_}}drawQrcode(){this.value&&(ct(this,yt,new fe({width:V(this,_t),height:V(this,gt),type:"svg",data:this.value,image:this.logo??void 0,dotsOptions:this.dotsOptions,cornersSquareOptions:this.cornersSquareOptions,backgroundOptions:this.backgroundOptions,imageOptions:{crossOrigin:"anonymous",margin:0}})),this.elements.qrCodeWrapper.innerHTML="",V(this,yt).append(this.elements.qrCodeWrapper))}download(c=this.downloadFileName,_="png"){var T;(T=V(this,yt))==null||T.download({name:c,extension:_})}},bt=new WeakMap,_t=new WeakMap,gt=new WeakMap,yt=new WeakMap,At=new WeakMap,kt=new WeakMap,jt=new WeakMap,qt=new WeakMap,Rt=new WeakSet,he=function(){this.elements.downloadButton.addEventListener("click",()=>this.download())},Yt);customElements.get("jb-qrcode")||window.customElements.define("jb-qrcode",Ae);function ke(f){var c;let _=lt.useRef(null);return lt.useEffect(()=>{_.current&&c.width&&(_.current.width=c.width)},[(c=f).width,_.current]),lt.useEffect(()=>{_.current&&c.height&&(_.current.height=c.height)},[c.height,_.current]),lt.useEffect(()=>{_.current&&c.downloadFileName&&(_.current.downloadFileName=c.downloadFileName)},[c.downloadFileName,_.current]),lt.useEffect(()=>{_.current&&c.dotsOption&&(_.current.dotsOptions=c.dotsOption)},[c.dotsOption,_.current]),lt.useEffect(()=>{_.current&&c.backgroundOptions&&(_.current.backgroundOptions=c.backgroundOptions)},[c.backgroundOptions,_.current]),lt.useEffect(()=>{_.current&&c.cornersSquareOptions&&(_.current.cornersSquareOptions=c.cornersSquareOptions)},[c.cornersSquareOptions,_.current]),Wt(_,"load",f.onLoad,!0),Wt(_,"init",f.onInit,!0),le.createElement("jb-qrcode",{ref:_,logo:f.logo,value:f.value})}const je={title:"Components/JBQRCode",component:ke},Ct={args:{value:"https://github.com/javadbat/design-system"}},Ot={args:{value:"https://github.com/javadbat/design-system",logo:"https://javadbat.github.io/design-system/images/logo-square.svg"}},$t={args:{value:"https://github.com/javadbat/design-system",width:420,height:420}},Mt={args:{value:"https://github.com/javadbat/design-system",dotsOption:{color:"var(--jb-primary)",gradient:{type:"linear",rotation:45,colorStops:[{color:"var(--jb-primary)",offset:0},{color:"var(--jb-secondary)",offset:.8},{color:"var(--jb-primary)",offset:1}]},type:"rounded"},cornersSquareOptions:{type:"extra-rounded",color:"var(--jb-primary)"}}};var Gt,Zt,Jt;Ct.parameters={...Ct.parameters,docs:{...(Gt=Ct.parameters)==null?void 0:Gt.docs,source:{originalSource:`{
  args: {
    value: "https://github.com/javadbat/design-system"
  }
}`,...(Jt=(Zt=Ct.parameters)==null?void 0:Zt.docs)==null?void 0:Jt.source}}};var Kt,te,ee;Ot.parameters={...Ot.parameters,docs:{...(Kt=Ot.parameters)==null?void 0:Kt.docs,source:{originalSource:`{
  args: {
    value: "https://github.com/javadbat/design-system",
    logo: "https://javadbat.github.io/design-system/images/logo-square.svg"
  }
}`,...(ee=(te=Ot.parameters)==null?void 0:te.docs)==null?void 0:ee.source}}};var re,ie,ne;$t.parameters={...$t.parameters,docs:{...(re=$t.parameters)==null?void 0:re.docs,source:{originalSource:`{
  args: {
    value: "https://github.com/javadbat/design-system",
    width: 420,
    height: 420
  }
}`,...(ne=(ie=$t.parameters)==null?void 0:ie.docs)==null?void 0:ne.source}}};var oe,se,ae;Mt.parameters={...Mt.parameters,docs:{...(oe=Mt.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  args: {
    value: "https://github.com/javadbat/design-system",
    dotsOption: {
      color: "var(--jb-primary)",
      gradient: {
        type: "linear",
        rotation: 45,
        colorStops: [{
          color: "var(--jb-primary)",
          offset: 0
        }, {
          color: "var(--jb-secondary)",
          offset: 0.8
        }, {
          color: "var(--jb-primary)",
          offset: 1
        }]
      },
      type: "rounded"
    },
    cornersSquareOptions: {
      type: "extra-rounded",
      color: "var(--jb-primary)"
    }
  }
}`,...(ae=(se=Mt.parameters)==null?void 0:se.docs)==null?void 0:ae.source}}};const qe=["Normal","WithLogo","WithCustomWidth","CustomizedLook"],Pe=Object.freeze(Object.defineProperty({__proto__:null,CustomizedLook:Mt,Normal:Ct,WithCustomWidth:$t,WithLogo:Ot,__namedExportsOrder:qe,default:je},Symbol.toStringTag,{value:"Module"}));export{Pe as D,Ct as N};
