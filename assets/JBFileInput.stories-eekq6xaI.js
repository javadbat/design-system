var z=Object.defineProperty;var T=t=>{throw TypeError(t)};var H=(t,e,r)=>e in t?z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var f=(t,e,r)=>H(t,typeof e!="symbol"?e+"":e,r),M=(t,e,r)=>e.has(t)||T("Cannot "+r);var i=(t,e,r)=>(M(t,e,"read from private field"),r?r.call(t):e.get(t)),u=(t,e,r)=>e.has(t)?T("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),a=(t,e,r,n)=>(M(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),y=(t,e,r)=>(M(t,e,"access private method"),r);import{r as v,R as P}from"./index-0yr9KlQE.js";import{e as _}from"./jb-validation-BFHHOeHY.js";import{r as C}from"./index-Dsu68ezD.js";var l=class{constructor(t,e){f(this,"lightness");f(this,"chroma");f(this,"hue");f(this,"variableName");this.variableName=e,this.lightness=t.lightness,this.chroma=t.chroma,this.hue=t.hue}get value(){return`oklch(${this.lightness} ${this.chroma} ${this.hue})`}};function h(t){return new l({lightness:6*(3+1.3*t)*.01,chroma:.001*(14+.09*t),hue:258.36},`--jb-neutral-${t}`)}function B(t){return new l({lightness:t.lightness-.1,chroma:t.chroma-.05,hue:t.hue},`${t.variableName}-pressed`)}function D(t){const e=Math.min(t.lightness+.12*(1-t.lightness),.985),r=t.chroma*(1-.15*(e-t.lightness));return new l({lightness:e,chroma:Number(r.toFixed(3)),hue:t.hue},`${t.variableName}-l`)}function O(t){const e=Math.max(t.lightness-.12*t.lightness,.02),r=t.chroma*(1-.15*(e-t.lightness));return new l({lightness:e,chroma:r,hue:t.hue},`${t.variableName}-d`)}function J(t){const e=Math.min(t.lightness+.65*(1-t.lightness),.93),r=.55*t.chroma*(1-.08*(e-t.lightness)),n=t.hue>=70&&t.hue<=162?5:-3,c=t.hue+n;return new l({lightness:e,chroma:Number(r.toFixed(3)),hue:c},`${t.variableName}-subtle`)}function Q(t){const e=Math.max(t.lightness-.35,.22),r=Math.min(1.6*t.chroma,.28);return new l({lightness:Number(e.toFixed(3)),chroma:Number(r.toFixed(3)),hue:t.hue},`${t.variableName}-contrast`)}function x(t){return{main:t,hover:(e=t,new l({lightness:e.lightness+.07,chroma:e.chroma+.07,hue:e.hue},`${e.variableName}-hover`)),pressed:B(t),light:D(t),dark:O(t),subtle:J(t),contrast:Q(t)};var e}const U=new l({lightness:.6,chroma:.26,hue:256},"--jb-primary"),G=new l({lightness:.6,chroma:.26,hue:286},"--jb-secondary"),K=new l({lightness:.75,chroma:.18,hue:70},"--jb-yellow"),X=new l({lightness:.68,chroma:.1484,hue:162.1},"--jb-green"),Y=new l({lightness:.6,chroma:.22,hue:23.21},"--jb-red"),L={single:{black:new l({lightness:.14,chroma:0,hue:0},"--jb-black"),white:new l({lightness:1,chroma:0,hue:0},"--jb-white"),highlight:new l({lightness:.93,chroma:.2302,hue:125.18},"--jb-highlight")},neutral:[h(0),h(1),h(2),h(3),h(4),h(5),h(6),h(7),h(8),h(9),h(10)],primary:x(U),secondary:x(G),yellow:x(K),green:x(X),red:x(Y)};function w(t){try{const{value:e,...r}=t;typeof window.CSS.registerProperty=="function"&&window.CSS.registerProperty({...r}),(function(n,c){try{c&&(document.documentElement.style.getPropertyValue(n)||document.documentElement.style.setProperty(n,c))}catch{}})(t.name,e)}catch{}}function s(t,e){w({name:e??t.variableName,syntax:"<color>",inherits:!0,initialValue:t.value})}function Z(){var t;w({name:"--jb-radius",inherits:!0,value:"1rem",initialValue:"16px",syntax:"<length-percentage>"}),w({name:"--jb-radius-xs",inherits:!0,value:"0.5rem",initialValue:"8px",syntax:"<length-percentage>"}),w({name:"--jb-radius-sm",inherits:!0,value:"0.75rem",initialValue:"12px",syntax:"<length-percentage>"}),w({name:"--jb-radius-lg",inherits:!0,value:"1.25rem",initialValue:"20px",syntax:"<length-percentage>"}),w({name:"--jb-radius-xl",inherits:!0,value:"1.5rem",initialValue:"24px",syntax:"<length-percentage>"}),(function(e){s(e.neutral[0],"--jb-neutral"),s(e.primary.main),s(e.secondary.main),s(e.single.black),s(e.single.white),s(e.single.highlight),s(e.yellow.main),s(e.green.main),s(e.red.main),s(e.red.main);for(let r=1;r<=10;r++)s(e.neutral[r])})(L),s((t=L).single.black,"--jb-text-primary"),s(t.neutral[7],"--jb-text-secondary"),s(t.single.white,"--jb-text-contrast")}var p,o,d,m,E,j,b,k,g,I,$,F,W,N,ee=(N=class extends HTMLElement{constructor(){super();u(this,g);u(this,p,null);u(this,o);u(this,d,!1);u(this,m);u(this,E,"empty");u(this,j,"application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint, text/plain, application/pdf, image/*");u(this,b,new _({clearValidationError:this.clearValidationError.bind(this),getValue:()=>({file:i(this,p)}),getValidations:y(this,g,F).bind(this),getValueString:e=>e.file.name,setValidationResult:y(this,g,W).bind(this),showValidationError:this.showValidationError.bind(this)}));u(this,k,!1);typeof this.attachInternals=="function"&&a(this,m,this.attachInternals()),this.initWebComponent(),this.initProp(),this.registerEventListener()}set required(e){a(this,d,e),i(this,b).checkValidity({showError:!1})}get required(){return i(this,d)}get acceptTypes(){return i(this,j)}set acceptTypes(e){e&&(a(this,j,e),i(this,o).virtualInput.accept=e)}get value(){return i(this,p)}set value(e){e==null?this.resetValue():a(this,p,e)}get status(){return i(this,p)}get selectedFileType(){return i(this,p)&&i(this,p).type,null}get validation(){return i(this,b)}get isAutoValidationDisabled(){return i(this,k)}set isAutoValidationDisabled(e){a(this,k,e)}initWebComponent(){const e=this.attachShadow({mode:"open",delegatesFocus:!0,slotAssignment:"named"});Z();const r=document.createElement("template");r.innerHTML=`<style>.jb-file-input-web-component{background-color:var(--bg-color);border-radius:var(--border-radius);box-sizing:border-box;justify-content:center;align-items:center;width:100%;height:100%;display:flex;overflow:hidden}.jb-file-input-web-component.--has-error{border:solid 1px var(--border-color-error);border-bottom:solid 3px var(--border-color-error);background-color:var(--bg-color-error)}.jb-file-input-web-component[status=empty] .placeholder-wrapper{display:flex}.jb-file-input-web-component .placeholder-wrapper{cursor:pointer;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;padding:32px;display:none}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg{width:64px;height:64px;fill:var(--icon-neutral-color)}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st0{fill:none;stroke:var(--icon-neutral-color);stroke-width:3px;stroke-miterlimit:10}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st1{fill:none;stroke:var(--icon-neutral-color);stroke-width:3px;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st2{fill:var(--icon-primary-color)}.jb-file-input-web-component .placeholder-wrapper .icon-wrapper svg .st3{fill:none;stroke:var(--icon-neutral-color);stroke-width:3px;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .placeholder-wrapper .placeholder-title{color:var(--placeholder-title-color);font-variation-settings:"wght"600}.jb-file-input-web-component[status=selected] .file-wrapper{display:flex}.jb-file-input-web-component .file-wrapper{cursor:pointer;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;padding:32px;display:none}.jb-file-input-web-component .file-wrapper .icon-wrapper svg{width:64px;height:64px;fill:var(--icon-neutral-color)}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st0{fill:none;stroke:var(--icon-neutral-color);stroke-width:3px;stroke-miterlimit:10}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st1{fill:none;stroke:var(--icon-neutral-color);stroke-width:3px;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st2{fill:var(--icon-primary-color)}.jb-file-input-web-component .file-wrapper .icon-wrapper svg .st3{fill:none;stroke:var(--icon-neutral-color);stroke-width:3px;stroke-linejoin:round;stroke-miterlimit:10}.jb-file-input-web-component .file-wrapper .file-name{color:var(--file-name-color);font-variation-settings:"wght"600} :host{--border-radius:var(--jb-file-input-border-radius,var(--jb-radius-xl));--bg-color:var(--jb-file-input-bg-color,var(--jb-neutral-10));--border-color-error:var(--jb-file-input-border-color-error,var(--jb-error));--bg-color-error:var(--jb-file-input-bg-color-error,var(--jb-neutral-10));--icon-neutral-color:var(--jb-file-input-icon-neutral-color,var(--jb-neutral));--icon-primary-color:var(--jb-file-input-icon-primary-color,var(--jb-primary));--placeholder-title-color:var(--jb-file-input-placeholder-title-color,var(--jb-neutral));--file-name-color:var(--jb-file-input-file-name-color,var(--jb-neutral))}</style>

  <div class="jb-file-input-web-component">
    <div class="placeholder-wrapper">
        <div class="icon-wrapper">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                id="Layer_1" x="0px" y="0px" viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;"
                xml:space="preserve">
                <style type="text/css">

                </style>
                <path class="st0"
                    d="M46.5,60.4H17.5c-4.4,0-8-3.6-8-8V11.6c0-4.4,3.6-8,8-8h29.1c4.4,0,8,3.6,8,8v40.8  C54.5,56.8,50.9,60.4,46.5,60.4z" />
                <path class="st1" d="M46.7,43.7" />
                <path class="st1" d="M18.4,43.7" />
                <line class="st1" x1="18.1" y1="43.7" x2="46.5" y2="43.7" />
                <line class="st1" x1="18.1" y1="50.7" x2="46.5" y2="50.7" />
                <line class="st1" x1="18.1" y1="36.7" x2="46.5" y2="36.7" />
                <path class="st2"
                    d="M44.7,28.6c-2.2,0-4.2-0.8-5.8-2.4c-1.5-1.5-2.4-3.6-2.4-5.8c0-2.2,0.8-4.2,2.4-5.8L52.1,2.5   c1.2-1.2,2.8-1.9,4.6-1.9c1.7,0,3.4,0.7,4.6,1.9c2.5,2.5,2.5,6.7,0,9.2L49.8,22.4c-1.9,1.9-5,1.9-6.9,0c-0.9-0.9-1.4-2.2-1.4-3.5   c0-1.3,0.5-2.5,1.4-3.5l0,0l6.4-5.5c0.3-0.3,0.9-0.3,1.2,0.1c0.3,0.3,0.3,0.9-0.1,1.2l-6.4,5.5c-0.6,0.6-0.9,1.4-0.9,2.3   c0,0.9,0.3,1.7,0.9,2.3c1.3,1.3,3.3,1.3,4.6,0l11.6-10.6c1.9-1.9,1.9-4.9,0-6.8c-0.9-0.9-2.1-1.4-3.4-1.4c-1.3,0-2.5,0.5-3.4,1.4   L40.2,15.9c-1.2,1.2-1.9,2.8-1.9,4.6c0,1.7,0.7,3.4,1.9,4.6c1.2,1.2,2.8,1.9,4.6,1.9c1.7,0,3.4-0.7,4.6-1.9l11.8-11   c0.3-0.3,0.9-0.3,1.2,0c0.3,0.3,0.3,0.9,0,1.2l-11.8,11C49,27.8,46.9,28.6,44.7,28.6z" />
                <path class="st0"
                    d="M29.2,30.2h-8.9c-1.2,0-2.1-1-2.1-2.1v-9.6c0-1.2,1-2.1,2.1-2.1h8.9c1.2,0,2.1,1,2.1,2.1v9.6  C31.3,29.3,30.3,30.2,29.2,30.2z" />
                <line class="st3" x1="54.5" y1="25.1" x2="54.5" y2="19.3" />
            </svg>
        </div>
        <div class="placeholder-title">انتخاب فایل</div>
    </div>
    <div class="file-wrapper">
        <div class="icon-wrapper">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                id="Layer_1" x="0px" y="0px" viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;"
                xml:space="preserve">
                <style type="text/css">

                </style>
                <path class="st0"
                    d="M46.5,60.4H17.5c-4.4,0-8-3.6-8-8V11.6c0-4.4,3.6-8,8-8h29.1c4.4,0,8,3.6,8,8v40.8  C54.5,56.8,50.9,60.4,46.5,60.4z" />
                <path class="st1" d="M46.7,43.7" />
                <path class="st1" d="M18.4,43.7" />
                <line class="st1" x1="18.1" y1="43.7" x2="46.5" y2="43.7" />
                <line class="st1" x1="18.1" y1="50.7" x2="46.5" y2="50.7" />
                <line class="st1" x1="18.1" y1="36.7" x2="46.5" y2="36.7" />
                <path class="st2"
                    d="M44.7,28.6c-2.2,0-4.2-0.8-5.8-2.4c-1.5-1.5-2.4-3.6-2.4-5.8c0-2.2,0.8-4.2,2.4-5.8L52.1,2.5   c1.2-1.2,2.8-1.9,4.6-1.9c1.7,0,3.4,0.7,4.6,1.9c2.5,2.5,2.5,6.7,0,9.2L49.8,22.4c-1.9,1.9-5,1.9-6.9,0c-0.9-0.9-1.4-2.2-1.4-3.5   c0-1.3,0.5-2.5,1.4-3.5l0,0l6.4-5.5c0.3-0.3,0.9-0.3,1.2,0.1c0.3,0.3,0.3,0.9-0.1,1.2l-6.4,5.5c-0.6,0.6-0.9,1.4-0.9,2.3   c0,0.9,0.3,1.7,0.9,2.3c1.3,1.3,3.3,1.3,4.6,0l11.6-10.6c1.9-1.9,1.9-4.9,0-6.8c-0.9-0.9-2.1-1.4-3.4-1.4c-1.3,0-2.5,0.5-3.4,1.4   L40.2,15.9c-1.2,1.2-1.9,2.8-1.9,4.6c0,1.7,0.7,3.4,1.9,4.6c1.2,1.2,2.8,1.9,4.6,1.9c1.7,0,3.4-0.7,4.6-1.9l11.8-11   c0.3-0.3,0.9-0.3,1.2,0c0.3,0.3,0.3,0.9,0,1.2l-11.8,11C49,27.8,46.9,28.6,44.7,28.6z" />
                <path class="st0"
                    d="M29.2,30.2h-8.9c-1.2,0-2.1-1-2.1-2.1v-9.6c0-1.2,1-2.1,2.1-2.1h8.9c1.2,0,2.1,1,2.1,2.1v9.6  C31.3,29.3,30.3,30.2,29.2,30.2z" />
                <line class="st3" x1="54.5" y1="25.1" x2="54.5" y2="19.3" />
            </svg>
        </div>
        <div class="file-name"></div>
    </div>
  </div>
      `,e.appendChild(r.content.cloneNode(!0)),a(this,o,{componentWrapper:e.querySelector(".jb-file-input-web-component"),placeholderWrapper:e.querySelector(".placeholder-wrapper"),virtualInput:y(this,g,I).call(this),placeholderTitle:e.querySelector(".placeholder-title"),fileNameWrapper:e.querySelector(".file-wrapper .file-name")})}initProp(){this.setStatus("empty"),a(this,p,null),a(this,d,!1)}registerEventListener(){i(this,o).placeholderWrapper.addEventListener("click",this.openFileSelector.bind(this))}openFileSelector(){i(this,o).virtualInput.click()}static get observedAttributes(){return["required","placeholder-title","accept"]}attributeChangedCallback(e,r,n){this.onAttributeChange(e,n)}onAttributeChange(e,r){switch(e){case"required":r==""||r=="true"?(a(this,d,!0),i(this,m).ariaRequired="true"):(a(this,d,!1),i(this,m).ariaRequired="false");break;case"placeholder-title":i(this,o).placeholderTitle.innerHTML=r,i(this,m).ariaPlaceholder=r;break;case"accept":this.acceptTypes=r}}setStatus(e){i(this,o).componentWrapper.setAttribute("status",e),a(this,E,e)}triggerInputValidation(e=!0){let r=null,n=!0;i(this,d)&&(n=this.value!=null,n||(r="REQUIRED"));const c=n;return c?this.clearValidationError():e&&r&&this.showValidationError(r),{isAllValid:c}}showValidationError(e){i(this,o).componentWrapper.classList.add("--has-error")}clearValidationError(){i(this,o).componentWrapper.classList.remove("--has-error")}resetValue(){a(this,p,null),this.setStatus("empty"),i(this,o).virtualInput.value=""}_triggerOnChangeEvent(){const e=new Event("change");this.dispatchEvent(e)}checkValidity(){const e=i(this,b).checkValiditySync({showError:!1});if(!e.isAllValid){const r=new CustomEvent("invalid");this.dispatchEvent(r)}return e.isAllValid}reportValidity(){const e=i(this,b).checkValiditySync({showError:!0});if(!e.isAllValid){const r=new CustomEvent("invalid");this.dispatchEvent(r)}return e.isAllValid}get validationMessage(){return i(this,m).validationMessage}},p=new WeakMap,o=new WeakMap,d=new WeakMap,m=new WeakMap,E=new WeakMap,j=new WeakMap,b=new WeakMap,k=new WeakMap,g=new WeakSet,I=function(){const e=document.createElement("input");return e.type="file",e.accept=this.acceptTypes,e.addEventListener("change",r=>y(this,g,$).call(this,r)),e},$=function(e){const r=e.target;if(r.files&&r.files.length>0){const n=r.files[0];a(this,p,n),i(this,o).fileNameWrapper.innerHTML=n.name,this.setStatus("selected"),this._triggerOnChangeEvent()}},F=function(){const e=[];return i(this,d)&&e.push({validator:({file:r})=>r!==null,message:"فایل حتما باید انتخاب شود",stateType:"valueMissing"}),e},W=function(e){if(e.isAllValid)i(this,m).setValidity({},"");else{const r={};let n="";e.validationList.forEach(c=>{c.isValid||(c.validation.stateType&&(r[c.validation.stateType]=!0),n==""&&(n=c.message))}),i(this,m).setValidity(r,n)}},N);customElements.get("jb-file-input")||window.customElements.define("jb-file-input",ee);let R=v.forwardRef((t,e)=>{let r=v.useRef(null);return v.useImperativeHandle(e,()=>r?r.current:void 0,[r]),v.useEffect(()=>{r.current&&t.acceptTypes&&(r.current.acceptTypes=t.acceptTypes)},[t.acceptTypes]),v.useEffect(()=>{r.current&&t.placeholderTitle&&r.current.setAttribute("placeholder-title",t.placeholderTitle)},[t.placeholderTitle]),v.useEffect(()=>{r.current&&t.required&&r.current.setAttribute("required",t.required?"true":"false")},[t.required]),C(r,"load",t.onLoad,!0),C(r,"init",t.onInit,!0),C(r,"change",t.onChange,!0),P.createElement("jb-file-input",{ref:r,class:t.className})});R.displayName="JBFileInput";const ae={title:"Components/form elements/JBFileInput",component:R},V={args:{}};var S,A,q;V.parameters={...V.parameters,docs:{...(S=V.parameters)==null?void 0:S.docs,source:{originalSource:`{
  args: {}
}`,...(q=(A=V.parameters)==null?void 0:A.docs)==null?void 0:q.source}}};const se=["Normal"];export{V as Normal,se as __namedExportsOrder,ae as default};
