var j=Object.defineProperty;var g=o=>{throw TypeError(o)};var C=(o,e,t)=>e in o?j(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var c=(o,e,t)=>C(o,typeof e!="symbol"?e+"":e,t),m=(o,e,t)=>e.has(o)||g("Cannot "+t);var n=(o,e,t)=>(m(o,e,"read from private field"),t?t.call(o):e.get(o)),s=(o,e,t)=>e.has(o)?g("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t),u=(o,e,t,l)=>(m(o,e,"write to private field"),l?l.call(o,t):e.set(o,t),t),p=(o,e,t)=>(m(o,e,"access private method"),t);import{a as f}from"./index-C-kj9kL4.js";import{j as x}from"./index-DA-aheCX.js";var i,d,h,r,k,w,a,b,v,y,E,L=(E=class extends HTMLElement{constructor(){super();s(this,r);s(this,i,!1);s(this,d,Symbol());c(this,"elements");s(this,h,!0);s(this,a,e=>{this.isOpen&&f()&&(this.close(),p(this,r,w).call(this,"HISTORY_BACK_EVENT"))});c(this,"overflowHandler","NONE");c(this,"overflowDom",null);s(this,b,()=>{this.overflowHandler=="SLIDE"&&(this.elements.contentWrapper.style.transform="translateY(0px)")});s(this,v,()=>{if(this.overflowHandler=="SLIDE"){const e=this.elements.contentWrapper.getBoundingClientRect(),t=p(this,r,y).call(this)-e.bottom;t<0&&(this.elements.contentWrapper.style.transform=`translateY(${t}px)`)}});this.initWebComponent()}get JBID(){return n(this,d)}get isOpen(){return n(this,i)}get PopoverHashPath(){return this.id?`#${this.id}`:null}connectedCallback(){this.callOnLoadEvent(),p(this,r,k).call(this),this.callOnInitEvent()}disconnectedCallback(){window.removeEventListener("popstate",n(this,a))}callOnLoadEvent(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)}callOnInitEvent(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)}initWebComponent(){const e=this.attachShadow({mode:"open"});x();const t=document.createElement("template");t.innerHTML=`<style>.jb-popover-web-component{z-index:var(--jb-popover-z-index,10);will-change:opacity;opacity:1;transition:opacity .2s;display:none;position:absolute;inset-block-start:4rem;inset-inline-start:0}@media (max-width:30rem){.jb-popover-web-component{inset-block-start:0;inset-inline-start:0;background-color:var(--back-bg-color);backdrop-filter:blur(5px);grid-template:"."1fr"content-wrapper"/1fr;width:100vw;height:100dvh;display:none;position:fixed;bottom:0;overflow:hidden}}.jb-popover-web-component.--opened{display:grid}@starting-style{.jb-popover-web-component{opacity:0}}.jb-popover-web-component .popover-content-wrapper{background-color:var(--bg-color);border-radius:var(--border-radius);box-sizing:border-box;will-change:transform;justify-content:center;align-items:center;padding:16px;transition:transform .3s;display:grid;transform:translateY(0%);box-shadow:12px 12px 16px #00000040,-8px -8px 12px #ffffff4d}@media (max-width:30rem){.jb-popover-web-component .popover-content-wrapper{border-radius:var(--border-radius)var(--border-radius)0 0;grid-area:content-wrapper;padding:2rem 0}@starting-style{.jb-popover-web-component .popover-content-wrapper{transform:translateY(100%)}}} :host{--border-radius:var(--jb-popover-border-radius,var(--jb-radius-xl));--back-bg-color:var(--jb-popover-back-bg-color,oklch(from var(--jb-black)l c h/.5));--bg-color:var(--jb-popover-bg-color,#fff)}</style>

  <div class="jb-popover-web-component">
    <div class="popover-background"></div>
    <div class="popover-content-wrapper">
        <slot></slot>
    </div>
  </div>
  `,e.appendChild(t.content.cloneNode(!0)),this.elements={componentWrapper:e.querySelector(".jb-popover-web-component"),background:e.querySelector(".popover-background"),contentWrapper:e.querySelector(".popover-content-wrapper")}}checkInitialOpenness(){window.location.hash==`#${this.id}`&&(this.triggerUrlOpenEvent(),this.open())}triggerUrlOpenEvent(){const e=new CustomEvent("urlOpen",{bubbles:!0,composed:!0});this.dispatchEvent(e)}static get observedAttributes(){return["is-open","id"]}attributeChangedCallback(e,t,l){this.onAttributeChange(e,l)}onAttributeChange(e,t){switch(e){case"is-open":t=="true"?n(this,i)||this.open():n(this,i)&&this.close();break;case"id":this.id=t}}onBackgroundClick(){p(this,r,w).call(this,"BACKGROUND_CLICK"),n(this,h)&&this.close()}close(){u(this,i,!1),this.elements.componentWrapper.classList.remove("--opened"),this.elements.componentWrapper.classList.add("--closed"),window.history.state=="jb-popover-open"&&this.PopoverHashPath!==null&&(window.removeEventListener("popstate",n(this,a)),window.location.hash==this.PopoverHashPath&&history.go(-1))}open(){u(this,i,!0),this.elements.componentWrapper.classList.remove("--closed"),this.elements.componentWrapper.classList.add("--opened"),f()&&this.PopoverHashPath!==null&&(window.history.pushState("jb-popover-open","",this.PopoverHashPath),window.addEventListener("popstate",n(this,a),{once:!0}))}},i=new WeakMap,d=new WeakMap,h=new WeakMap,r=new WeakSet,k=function(){this.elements.background.addEventListener("click",this.onBackgroundClick.bind(this)),this.elements.contentWrapper.addEventListener("mouseenter",n(this,v)),this.elements.contentWrapper.addEventListener("mouseleave",n(this,b))},w=function(e){const t=new CustomEvent("close",{detail:{eventType:e}});this.dispatchEvent(t)},a=new WeakMap,b=new WeakMap,v=new WeakMap,y=function(){return this.overflowDom?this.overflowDom.getBoundingClientRect().bottom:window.innerHeight},E);customElements.get("jb-popover")||window.customElements.define("jb-popover",L);
