var p=e=>{throw TypeError(e)};var R=(e,t,r)=>t.has(e)||p("Cannot "+r);var f=(e,t,r)=>t.has(e)?p("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);var l=(e,t,r)=>(R(e,t,"access private method"),r);import{R as d,r as a}from"./index-0yr9KlQE.js";import{o as B}from"./index-PhxB3Oy2.js";import"./jb-validation-BFHHOeHY.js";import"./index-BHpGtycm.js";import"./index-C1o-zhIV.js";function m(e){return typeof e!="string"?"":e.replace(/[۰-۹]/g,function(t){return String.fromCharCode(t.charCodeAt(0)-1728)})}var s,g,y,A,C,b,S=(b=class extends B{constructor(){super();f(this,s);this.initMobileInputWebComponent()}initMobileInputWebComponent(){const t=document.createElement("template");t.innerHTML="<style>.jb-input-web-component{--jb-input-input-direction:var(--jb-national-input-input-direction,ltr)}</style>",this.shadowRoot.appendChild(t.content.cloneNode(!0)),this.validation.addValidationListGetter(l(this,s,C).bind(this)),l(this,s,y).call(this),this.addStandardValueCallback(l(this,s,g).bind(this))}},s=new WeakSet,g=function(t){let r="",n="";const u=/(?<nationalId>[\u06F0-\u06F90-9]{1,10})/g.exec(t);return r=u&&u.groups?u.groups.nationalId:"",n=m(r),{value:n,displayValue:r}},y=function(){this.elements.input.addEventListener("beforeinput",l(this,s,A).bind(this))},A=function(t){const r=t.data;/[\u06F0-\u06F90-9]{1,10}/g.test(r)||t.inputType=="deleteContentBackward"||t.preventDefault()},C=function(){return[{validator:({value:t})=>(function(r){if(r.length===0)return!0;const n=m(r);if(!/^\d{10}$/.test(n))return!1;const u=+n[9],i=n.split("").slice(0,9).reduce((q,j,L)=>q+ +j*(10-L),0)%11;return i<2?u===i:u+i===11})(t),message:"کد ملی وارد شده نامعتبر است"}]},b);customElements.get("jb-national-input")||window.customElements.define("jb-national-input",S);function o(e,t,r,n=!1){let u=a.useCallback(i=>{e.current&&typeof r=="function"&&r(i)},[e,r]);a.useEffect(()=>{let i=e.current;return i&&i.addEventListener(t,u,{passive:n,capture:!1}),function(){i&&i.removeEventListener(t,u,{passive:n,capture:!1})}},[e,t,r,n])}function I(e,t){o(e,"enter",t.onEnter),o(e,"input",t.onInput),o(e,"beforeinput",t.onBeforeinput),o(e,"change",t.onChange),o(e,"keydown",t.onKeydown),o(e,"keyup",t.onKeyup),o(e,"focus",t.onFocus),o(e,"blur",t.onBlur)}function N(e,t){a.useEffect(()=>{let r=t.value;(t.value==null||t.value===void 0)&&(r=""),e&&e.current&&e.current&&(e.current.value=(r==null?void 0:r.toString())||"")},[t.value]),a.useEffect(()=>{var r;t.type&&((r=e==null?void 0:e.current)==null||r.setAttribute("type",t.type))},[t.type]),a.useEffect(()=>{var r,n;t.name?(r=e==null?void 0:e.current)==null||r.setAttribute("name",t.name||""):(n=e==null?void 0:e.current)==null||n.removeAttribute("name")},[t.name]),a.useEffect(()=>{e&&e.current&&(e.current.validation.list=t.validationList||[])},[t.validationList]),a.useEffect(()=>{var r;(r=e==null?void 0:e.current)==null||r.setAttribute("label",t.label||"")},[t.label]),a.useEffect(()=>{var r,n;typeof t.disabled=="boolean"&&t.disabled?(r=e==null?void 0:e.current)==null||r.setAttribute("disabled",""):(n=e==null?void 0:e.current)==null||n.removeAttribute("disabled")},[t.disabled]),a.useEffect(()=>{var r,n,u;typeof t.required=="string"&&((r=e==null?void 0:e.current)==null||r.setAttribute("required",t.required)),typeof t.required=="boolean"&&(t.required?(n=e==null?void 0:e.current)==null||n.setAttribute("required",""):(u=e==null?void 0:e.current)==null||u.removeAttribute("required"))},[t.required]),a.useEffect(()=>{var r,n;t.inputmode?(r=e.current)==null||r.setAttribute("inputmode",t.inputmode):(n=e.current)==null||n.removeAttribute("inputmode")},[t.inputmode]),a.useEffect(()=>{var r;(r=e==null?void 0:e.current)==null||r.setAttribute("message",t.message||"")},[t.message]),a.useEffect(()=>{var r;(r=e==null?void 0:e.current)==null||r.setAttribute("placeholder",t.placeholder||"")},[t.placeholder]),a.useEffect(()=>{var r,n;t.error?(r=e==null?void 0:e.current)==null||r.setAttribute("error",t.error):(n=e==null?void 0:e.current)==null||n.removeAttribute("error")},[t.error])}a.forwardRef((e,t)=>{let r=a.useRef(null),[n,u]=a.useState(0);return a.useImperativeHandle(t,()=>r?r.current:{},[r]),a.useEffect(()=>{u(n+1)},[r.current]),I(r,e),N(r,e),d.createElement("jb-input",{ref:r,class:e.className},e.children)}).displayName="JBInput";let w=d.forwardRef((e,t)=>{let r=a.useRef(null),[n,u]=a.useState(0);return a.useImperativeHandle(t,()=>r?r.current:{},[r]),a.useEffect(()=>{u(n+1)},[r.current]),N(r,e),I(r,e),d.createElement("jb-national-input",{ref:r,class:e.className?e.className:""},e.children)});w.displayName="JBNationalInput";const V={title:"Components/form elements/Inputs/JBNationalInput",component:w},c={args:{label:"national id",message:"please enter your national code"}};var v,E,h;c.parameters={...c.parameters,docs:{...(v=c.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {
    label: 'national id',
    message: "please enter your national code"
  }
}`,...(h=(E=c.parameters)==null?void 0:E.docs)==null?void 0:h.source}}};const K=["Normal"];export{c as Normal,K as __namedExportsOrder,V as default};
