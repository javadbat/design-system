var L=s=>{throw TypeError(s)};var y=(s,e,t)=>e.has(s)||L("Cannot "+t);var a=(s,e,t)=>(y(s,e,"read from private field"),t?t.call(s):e.get(s)),c=(s,e,t)=>e.has(s)?L("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),b=(s,e,t,o)=>(y(s,e,"write to private field"),o?o.call(s,t):e.set(s,t),t),n=(s,e,t)=>(y(s,e,"access private method"),t);import{R as A,r as x}from"./index-DwQS_Y10.js";import{e as ce}from"./jb-validation-DPnsTO1v.js";import{N as he}from"./index-bfIR6bpK.js";import{n as ue,t as pe}from"./index-_b1slotr.js";import{o as ve,t as j}from"./index-Bg4fOAbC.js";import{r as h}from"./index-BJ5IkxrY.js";var u,g,m,f,d,p,l,r,q,H,I,v,T,D,E,B,C,M,S,R,K,P,$,F,U,N,k,G,z,xe=(z=class extends HTMLElement{constructor(){super();c(this,r);c(this,u,"");c(this,g,!1);c(this,m,!1);c(this,f,!1);c(this,d);c(this,p);c(this,l);c(this,v,new ce({clearValidationError:this.clearValidationError.bind(this),getValue:()=>a(this,u),getValueString:()=>this.value,getValidations:n(this,r,N).bind(this),setValidationResult:n(this,r,G).bind(this),showValidationError:this.showValidationError.bind(this)}));this.initialValue="",this.autoHeight=!1,typeof this.attachInternals=="function"&&(b(this,d,this.attachInternals()),a(this,d).role="textbox"),n(this,r,q).call(this),n(this,r,T).call(this)}static get formAssociated(){return!0}get value(){return a(this,u)}set value(e){b(this,u,e),a(this,p).value=e,this.autoHeight&&n(this,r,E).call(this)}get isAutoValidationDisabled(){return a(this,g)}set isAutoValidationDisabled(e){b(this,g,e)}get disabled(){return a(this,m)}set disabled(e){var t,o;b(this,m,e),a(this,l).textarea.disabled=e,e?(t=a(this,d).states)==null||t.add("disabled"):(o=a(this,d).states)==null||o.delete("disabled")}set required(e){b(this,f,e),a(this,v).checkValiditySync({showError:!1})}get required(){return a(this,f)}get name(){return this.getAttribute("name")||""}set name(e){this.setAttribute("name",e)}get isDirty(){return a(this,u)!==this.initialValue}get validation(){return a(this,v)}static get observedAttributes(){return["label","message","value","placeholder","required","error"]}attributeChangedCallback(e,t,o){n(this,r,D).call(this,e,o)}showValidationError(e){var o;const t=typeof e=="string"?e:e.message;(o=a(this,d).states)==null||o.add("invalid"),a(this,l).messageBox.innerHTML=t}clearValidationError(){var t;const e=this.getAttribute("message")||"";(t=a(this,d).states)==null||t.delete("invalid"),a(this,l).messageBox.innerHTML=e}get validationMessage(){return a(this,d).validationMessage}checkValidity(){const e=a(this,v).checkValiditySync({showError:!1});if(!e.isAllValid){const t=new CustomEvent("invalid");this.dispatchEvent(t)}return e.isAllValid}reportValidity(){const e=a(this,v).checkValiditySync({showError:!0});if(!e.isAllValid){const t=new CustomEvent("invalid");this.dispatchEvent(t)}return e.isAllValid}},u=new WeakMap,g=new WeakMap,m=new WeakMap,f=new WeakMap,d=new WeakMap,p=new WeakMap,l=new WeakMap,r=new WeakSet,q=function(){const e=this.attachShadow({mode:"open",delegatesFocus:!0});he();const t=document.createElement("template");t.innerHTML=`<style>:host(:focus),:host(:focus-visible){outline:none}.jb-textarea-web-component{width:100%;margin:var(--jb-textarea-margin,12px 0)}.jb-textarea-web-component label{width:100%;margin:var(--label-margin);font-size:var(--label-font-size);color:var(--label-color);display:block}.jb-textarea-web-component label.--hide{display:none}.jb-textarea-web-component .textarea-box{box-sizing:border-box;border:solid var(--border-width) var(--border-color);background-color:var(--input-box-bg-color);border-bottom:solid var(--border-bottom-width) var(--border-color);border-radius:var(--border-radius);width:100%;overflow:var(--jb-textarea-box-overflow,hidden);grid-template:"slot-block-start slot-block-start slot-block-start""slot-inline-start textarea slot-inline-end"1fr"slot-block-end slot-block-end slot-block-end"/auto 1fr auto;transition:all .3s;display:grid;overflow:hidden}.jb-textarea-web-component .textarea-box textarea{box-sizing:border-box;width:100%;min-height:var(--min-height);height:var(--height);max-height:var(--max-height);padding:var(--input-padding);font-family:inherit;font-size:var(--value-font-size);resize:vertical;color:var(--value-color);background-color:#0000;border:none;border-radius:0;grid-area:textarea;margin:0;display:block}.jb-textarea-web-component .textarea-box textarea:focus{outline:none}.jb-textarea-web-component .textarea-box textarea::placeholder{color:var(--placeholder-color);font-size:var(--placeholder-font-size)}.jb-textarea-web-component .textarea-box .block-start-section-wrapper{grid-area:slot-block-start}.jb-textarea-web-component .textarea-box .block-end-section-wrapper{grid-area:slot-block-end}.jb-textarea-web-component .textarea-box .inline-start-section-wrapper{grid-area:slot-inline-start}.jb-textarea-web-component .textarea-box .inline-end-section-wrapper{grid-area:slot-inline-end}.jb-textarea-web-component .textarea-box .block-start-section-wrapper,.jb-textarea-web-component .textarea-box .block-end-section-wrapper{justify-content:start;align-items:center;width:100%;height:auto;display:flex}.jb-textarea-web-component .textarea-box .inline-start-section-wrapper,.jb-textarea-web-component .textarea-box .inline-end-section-wrapper{justify-content:center;align-items:center;width:auto;height:100%;display:flex}.jb-textarea-web-component .textarea-box ::slotted([slot=block-start-section]),.jb-textarea-web-component .textarea-box ::slotted([slot=block-end-section]){box-sizing:border-box;background-color:#0000;justify-content:start;align-items:center;width:auto;max-width:100%;height:auto;padding:8px 16px;display:flex;overflow-x:hidden}.jb-textarea-web-component .textarea-box ::slotted([slot=inline-start-section]),.jb-textarea-web-component .textarea-box ::slotted([slot=inline-end-section]){height:100%;max-height:100%;padding:var(--inline-slots-padding);box-sizing:border-box;background-color:#0000;justify-content:center;align-items:center;width:auto;display:flex;overflow-y:hidden}.jb-textarea-web-component .message-box{font-size:var(--message-font-size);padding:.125rem var(--inline-space);color:var(--message-color)}.jb-textarea-web-component .message-box:empty{padding:0} :host{--border-radius:var(--jb-textarea-border-radius,var(--jb-radius));--height:var(--jb-textarea-height,5rem);--min-height:var(--jb-textarea-min-height,5rem);--max-height:var(--jb-textarea-max-height,none);--border-width:var(--jb-textarea-border-width,1px);--border-bottom-width:var(--jb-textarea-border-bottom-width,3px);--inline-space:calc(var(--border-radius) / 1.75);--label-margin:var(--jb-textarea-label-margin,.125rem var(--inline-space));--label-font-size:var(--jb-textarea-label-font-size,.8rem);--value-font-size:var(--jb-textarea-value-font-size,1rem);--input-padding:var(--jb-textarea-input-padding,.125rem .75rem 0 .75rem);--placeholder-font-size:var(--jb-textarea-placeholder-font-size,var(--value-font-size));--message-font-size:var(--jb-textarea-message-font-size,.7rem);--inline-slots-padding:.375rem .625rem;--base-border-color:var(--jb-textarea-border-color,var(--jb-neutral-10));--border-color:var(--base-border-color);--message-color:var(--jb-textarea-message-color,var(--jb-text-secondary));--label-color:var(--jb-textarea-label-color,var(--jb-text-primary));--value-color:var(--jb-textarea-value-color,var(--jb-text-primary));--placeholder-color:var(--jb-input-placeholder-color,var(--jb-neutral-6));--base-bg-color:var(--jb-textarea-bgcolor,var(--jb-neutral-10));--input-box-bg-color:var(--base-bg-color)}:host(:state(invalid)){--message-color:var(--jb-textarea-message-error-color,var(--jb-red))}:host(:state(disabled)){--input-box-bg-color:var(--jb-textarea-bgcolor-disabled,hsl(from var(--base-bg-color) h 12% 66.1));--border-color:var(--jb-textarea-border-color-disabled,hsl(from var(--base-border-color) h 12% 66.1));--value-color:var(--jb-textarea-value-color-disabled,var(--jb-neutral-3));--label-color:var(--jb-textarea-label-color-disabled,var(--jb-neutral-3))}:host(:focus-within){--border-color:var(--jb-textarea-border-color-focus,var(--jb-neutral))}</style>

  <div class="jb-textarea-web-component">
    <label class="--hide" part="label"><span class="label-value"></span><span>:</span></label>
    <div class="textarea-box" part="textarea-box">
        <div class="block-start-section-wrapper" part="block-start-section-wrapper">
          <slot name="block-start-section"></slot>
        </div>
        <div class="inline-start-section-wrapper" part="inline-start-section-wrapper">
            <slot name="inline-start-section"></slot>
        </div>
        <textarea class="textarea-input" part="textarea"></textarea>
        <div class="inline-end-section-wrapper" part="inline-end-section-wrapper">
            <slot name="inline-end-section"></slot>
        </div>
        <div class="block-end-section-wrapper" part="block-end-section-wrapper">
            <slot name="block-end-section"></slot>
        </div>
    </div>
    <div class="message-box" part="message"></div>
  </div>
  `,e.appendChild(t.content.cloneNode(!0)),b(this,p,e.querySelector(".textarea-box textarea")),b(this,l,{textarea:a(this,p),label:e.querySelector("label"),labelValue:e.querySelector("label .label-value"),messageBox:e.querySelector(".message-box")}),n(this,r,H).call(this)},H=function(){a(this,l).textarea.addEventListener("change",e=>n(this,r,F).call(this,e)),a(this,l).textarea.addEventListener("beforeinput",n(this,r,B).bind(this)),a(this,l).textarea.addEventListener("input",e=>n(this,r,R).call(this,e)),a(this,l).textarea.addEventListener("blur",e=>n(this,r,I).call(this,e)),a(this,l).textarea.addEventListener("keypress",n(this,r,S).bind(this)),a(this,l).textarea.addEventListener("keyup",n(this,r,P).bind(this)),a(this,l).textarea.addEventListener("keydown",n(this,r,M).bind(this))},I=function(e){a(this,v).checkValidity({showError:!0})},v=new WeakMap,T=function(){this.value=this.getAttribute("value")||""},D=function(e,t){switch(e){case"label":a(this,l).labelValue.innerHTML=t,a(this,d).ariaLabel=t,t==null||t==null||t==""?a(this,l).label.classList.add("--hide"):a(this,l).label.classList.remove("--hide");break;case"message":a(this,d).ariaDescription=t,a(this,l).messageBox.classList.contains("error")||(a(this,l).messageBox.innerHTML=t);break;case"placeholder":a(this,p).setAttribute("placeholder",t),a(this,d).ariaPlaceholder=t;break;case"value":this.value=t;break;case"required":this.required=t===""||t==="true";break;case"error":this.reportValidity()}},E=function(){a(this,p).style.height="4px",a(this,p).style.height=a(this,p).scrollHeight+"px"},B=function(e){n(this,r,C).call(this,e)},C=function(e){const t=ve("beforeinput",e,{cancelable:!0});return this.dispatchEvent(t),t.defaultPrevented&&e.preventDefault(),t.defaultPrevented},M=function(e){const t=j("keydown",e,{cancelable:!0});this.dispatchEvent(t)||e.preventDefault()},S=function(e){const t=j("keypress",e,{cancelable:!0});this.dispatchEvent(t)?e.key=="Enter"&&n(this,r,$).call(this,e):e.preventDefault()},R=function(e){b(this,u,e.target.value),this.autoHeight&&n(this,r,E).call(this),n(this,r,K).call(this,e)},K=function(e){const t={bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed,data:e.data,dataTransfer:e.dataTransfer,detail:e.detail,inputType:e.inputType,isComposing:e.isComposing,targetRanges:e.getTargetRanges(),view:e.view},o=new InputEvent("input",t);this.dispatchEvent(o)},P=function(e){b(this,u,e.target.value),n(this,r,k).call(this,!1);const t=j("keyup",e,{cancelable:!0});this.dispatchEvent(t),t.defaultPrevented&&e.preventDefault()},$=function(e){const t=j("enter",e,{cancelable:!0});this.dispatchEvent(t),t.defaultPrevented&&e.preventDefault()},F=function(e){b(this,u,e.target.value),n(this,r,k).call(this,!0),n(this,r,U).call(this).defaultPrevented&&e.preventDefault()},U=function(){const e=new Event("change",{bubbles:!0,cancelable:!0});return this.dispatchEvent(e),e},N=function(){const e=[];return this.getAttribute("error")!==null&&this.getAttribute("error").trim().length>0&&e.push({validator:void 0,message:this.getAttribute("error"),stateType:"customError"}),this.required&&e.push({validator:/.{1}/g,message:ue(pe,this.getAttribute("label")),stateType:"valueMissing"}),e},k=function(e){if(!this.isAutoValidationDisabled)return a(this,v).checkValidity({showError:e})},G=function(e){if(e.isAllValid)a(this,d).setValidity({},"");else{const t={};let o="";e.validationList.forEach(i=>{i.isValid||(i.validation.stateType&&(t[i.validation.stateType]=!0),o==""&&(o=i.message))}),a(this,d).setValidity(t,o)}},z);customElements.get("jb-textarea")||window.customElements.define("jb-textarea",xe);let ke=A.forwardRef((s,e)=>{{var t,o;let i=x.useRef(null);x.useImperativeHandle(e,()=>i?i.current:void 0,[i]);let{onBeforeInput:J,onBlur:O,onChange:Q,onEnter:W,onFocus:X,onInput:Y,onKeyDown:Z,onKeyUp:_,onInit:ee,onLoad:te,placeholder:ae,name:re,autoHeight:ie,disabled:oe,error:se,required:ne,validationList:le,value:de,...be}=s;return x.useEffect(()=>{let w=t.value||"";i.current&&(i.current.value=w)},[(t={autoHeight:ie,disabled:oe,error:se,required:ne,validationList:le,value:de}).value]),x.useEffect(()=>{i.current&&(i.current.validation.list=t.validationList||[])},[t.validationList]),x.useEffect(()=>{i.current&&t.disabled!==void 0&&(t.disabled?i.current.disabled=!0:i.current.disabled=!1)},[i.current,t.disabled]),x.useEffect(()=>{i.current&&t.required!==void 0&&(t.required?i.current.setAttribute("required",""):i.current.removeAttribute("required"))},[t.required]),x.useEffect(()=>{i.current&&(i.current.autoHeight=t.autoHeight||!1)},[t.autoHeight]),x.useEffect(()=>{var w,V;t.error?(w=i==null?void 0:i.current)==null||w.setAttribute("error",t.error):(V=i==null?void 0:i.current)==null||V.removeAttribute("error")},[t.error]),o={onBeforeInput:J,onBlur:O,onChange:Q,onEnter:W,onFocus:X,onInput:Y,onKeyDown:Z,onKeyUp:_,onInit:ee,onLoad:te},h(i,"load",o.onLoad,!0),h(i,"init",o.onInit,!0),h(i,"change",o.onChange),h(i,"keydown",o.onKeyDown),h(i,"input",o.onInput),h(i,"beforeinput",o.onBeforeInput),h(i,"keyup",o.onKeyUp),h(i,"focus",o.onFocus),h(i,"blur",o.onBlur),h(i,"enter",o.onEnter),A.createElement("jb-textarea",{ref:i,name:re,label:s.label,message:s.message,placeholder:ae,...be},s.children)}});export{ke as u};
