var A=Object.defineProperty;var H=t=>{throw TypeError(t)};var T=(t,e,n)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var h=(t,e,n)=>T(t,typeof e!="symbol"?e+"":e,n),O=(t,e,n)=>e.has(t)||H("Cannot "+n);var i=(t,e,n)=>(O(t,e,"read from private field"),n?n.call(t):e.get(t)),c=(t,e,n)=>e.has(t)?H("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),P=(t,e,n,o)=>(O(t,e,"write to private field"),o?o.call(t,n):e.set(t,n),n),w=(t,e,n)=>(O(t,e,"access private method"),n);import{a as S}from"./index-BEepDcv4.js";var r=class{constructor(t,e){h(this,"lightness");h(this,"chroma");h(this,"hue");h(this,"variableName");this.variableName=e,this.lightness=t.lightness,this.chroma=t.chroma,this.hue=t.hue}get value(){return`oklch(${this.lightness} ${this.chroma} ${this.hue})`}};function s(t){return new r({lightness:6*(3+1.3*t)*.01,chroma:.001*(14+.09*t),hue:258.36},`--jb-neutral-${t}`)}function x(t){return new r({lightness:t.lightness+.07,chroma:t.chroma+.07,hue:t.hue},`${t.variableName}-hover`)}function y(t){return new r({lightness:t.lightness-.1,chroma:t.chroma-.05,hue:t.hue},`${t.variableName}-pressed`)}function f(t){const e=Math.min(t.lightness+.12*(1-t.lightness),.985),n=t.chroma*(1-.15*(e-t.lightness));return new r({lightness:e,chroma:Number(n.toFixed(3)),hue:t.hue},`${t.variableName}-l`)}function j(t){const e=Math.max(t.lightness-.12*t.lightness,.02),n=t.chroma*(1-.15*(e-t.lightness));return new r({lightness:e,chroma:n,hue:t.hue},`${t.variableName}-d`)}function k(t){const e=Math.min(t.lightness+.65*(1-t.lightness),.93),n=.55*t.chroma*(1-.08*(e-t.lightness)),o=t.hue>=70&&t.hue<=162?5:-3,N=t.hue+o;return new r({lightness:e,chroma:Number(n.toFixed(3)),hue:N},`${t.variableName}-subtle`)}function E(t){const e=Math.max(t.lightness-.35,.22),n=Math.min(1.6*t.chroma,.28);return new r({lightness:Number(e.toFixed(3)),chroma:Number(n.toFixed(3)),hue:t.hue},`${t.variableName}-contrast`)}const p=new r({lightness:.6,chroma:.26,hue:256},"--jb-primary"),m=new r({lightness:.6,chroma:.26,hue:286},"--jb-secondary"),d=new r({lightness:.75,chroma:.18,hue:70},"--jb-yellow"),b=new r({lightness:.68,chroma:.1484,hue:162.1},"--jb-green"),v=new r({lightness:.6,chroma:.22,hue:23.21},"--jb-red"),I={single:{black:new r({lightness:.14,chroma:0,hue:0},"--jb-black"),white:new r({lightness:1,chroma:0,hue:0},"--jb-white"),highlight:new r({lightness:.93,chroma:.2302,hue:125.18},"--jb-highlight")},neutral:[s(0),s(1),s(2),s(3),s(4),s(5),s(6),s(7),s(8),s(9),s(10)],primary:{main:p,hover:x(p),pressed:y(p),light:f(p),dark:j(p),subtle:k(p),contrast:E(p)},secondary:{main:m,hover:x(m),pressed:y(m),light:f(m),dark:j(m),subtle:k(m),contrast:E(m)},yellow:{main:d,hover:x(d),pressed:y(d),light:f(d),dark:j(d),subtle:k(d),contrast:E(d)},green:{main:b,hover:x(b),pressed:y(b),light:f(b),dark:j(b),subtle:k(b),contrast:E(b)},red:{main:v,hover:x(v),pressed:y(v),light:f(v),dark:j(v),subtle:k(v),contrast:E(v)}};function a(t){try{const{value:e,...n}=t;window.CSS.registerProperty({...n}),function(o,N){try{N&&(document.documentElement.style.getPropertyValue(o)||document.documentElement.style.setProperty(o,N))}catch{}}(t.name,e)}catch{}}function F(){var t;a({name:"--jb-radius",inherits:!0,value:"1rem",initialValue:"16px",syntax:"<length-percentage>"}),a({name:"--jb-radius-xs",inherits:!0,value:"0.5rem",initialValue:"8px",syntax:"<length-percentage>"}),a({name:"--jb-radius-sm",inherits:!0,value:"0.75rem",initialValue:"12px",syntax:"<length-percentage>"}),a({name:"--jb-radius-lg",inherits:!0,value:"1.25rem",initialValue:"20px",syntax:"<length-percentage>"}),a({name:"--jb-radius-xl",inherits:!0,value:"1.5rem",initialValue:"24px",syntax:"<length-percentage>"}),function(e){a({name:e.primary.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.primary.main.value}),a({name:e.secondary.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.secondary.main.value}),a({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:e.neutral[0].value}),a({name:e.single.black.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.black.value}),a({name:e.single.white.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.white.value}),a({name:e.single.highlight.variableName,syntax:"<color>",inherits:!0,initialValue:e.single.highlight.value}),a({name:e.yellow.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.yellow.main.value}),a({name:e.green.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.green.main.value}),a({name:e.red.main.variableName,syntax:"<color>",inherits:!0,initialValue:e.red.main.value}),a({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:e.neutral[0].value});for(let n=1;n<=10;n++)a({name:e.neutral[n].variableName,syntax:"<color>",inherits:!0,initialValue:e.neutral[n].value})}(I),a({name:"--jb-text-primary",syntax:"<color>",inherits:!0,initialValue:(t=I).single.black.value}),a({name:"--jb-text-secondary",syntax:"<color>",inherits:!0,initialValue:t.neutral[7].value}),a({name:"--jb-text-contrast",syntax:"<color>",inherits:!0,initialValue:t.single.white.value})}var u,C,V,l,D,W,g,L,$,M,B,R=(B=class extends HTMLElement{constructor(){super();c(this,l);c(this,u,!1);c(this,C,Symbol());h(this,"elements");c(this,V,!0);c(this,g,e=>{this.isOpen&&S()&&(this.close(),w(this,l,W).call(this,"HISTORY_BACK_EVENT"))});h(this,"overflowHandler","NONE");h(this,"overflowDom",null);c(this,L,()=>{this.overflowHandler=="SLIDE"&&(this.elements.contentWrapper.style.transform="translateY(0px)")});c(this,$,()=>{if(this.overflowHandler=="SLIDE"){const e=this.elements.contentWrapper.getBoundingClientRect(),n=w(this,l,M).call(this)-e.bottom;n<0&&(this.elements.contentWrapper.style.transform=`translateY(${n}px)`)}});this.initWebComponent()}get JBID(){return i(this,C)}get isOpen(){return i(this,u)}get PopoverHashPath(){return this.id?`#${this.id}`:null}connectedCallback(){this.callOnLoadEvent(),w(this,l,D).call(this),this.callOnInitEvent()}disconnectedCallback(){window.removeEventListener("popstate",i(this,g))}callOnLoadEvent(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)}callOnInitEvent(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)}initWebComponent(){const e=this.attachShadow({mode:"open"});F();const n=document.createElement("template");n.innerHTML=`<style>:host{--border-radius:var(--jb-popover-border-radius, var(--jb-radius-xl));--back-bg-color:var(--jb-popover-back-bg-color, oklch(from var(--jb-black) l c h / 0.5));--bg-color:var(--jb-popover-bg-color, #fff)}.jb-popover-web-component{position:absolute;display:none;inset-block-start:64px;inset-inline-start:0;z-index:var(--jb-popover-z-index, 10);will-change:transform;transition:transform .3s 0s ease}@media(min-width: 320px)and (max-width: 479px){.jb-popover-web-component{inset-block-start:0;inset-inline-start:0;bottom:0;position:fixed;width:100vw;height:100dvh;background-color:var(--back-bg-color);backdrop-filter:blur(5px);display:none;grid-template-rows:1fr auto;grid-template-columns:1fr;grid-template-areas:"." "content-wrapper";overflow-x:hidden}}.jb-popover-web-component.--opened{display:grid}.jb-popover-web-component .popover-content-wrapper{background-color:var(--bg-color);border-radius:var(--border-radius);padding:16px;box-shadow:12px 12px 16px 0 rgba(0,0,0,.25),-8px -8px 12px 0 hsla(0,0%,100%,.3);display:grid;align-items:center;justify-content:center;box-sizing:border-box;will-change:transform;transition:transform .3s 0s ease}@media(min-width: 320px)and (max-width: 479px){.jb-popover-web-component .popover-content-wrapper{border-radius:var(--border-radius) var(--border-radius) 0 0;grid-area:content-wrapper;padding:0;padding:32px 0}}</style>
<div class="jb-popover-web-component">
  <div class="popover-background"></div>
  <div class="popover-content-wrapper">
      <slot></slot>
  </div>
</div>`,e.appendChild(n.content.cloneNode(!0)),this.elements={componentWrapper:e.querySelector(".jb-popover-web-component"),background:e.querySelector(".popover-background"),contentWrapper:e.querySelector(".popover-content-wrapper")}}checkInitialOpenness(){window.location.hash==`#${this.id}`&&(this.triggerUrlOpenEvent(),this.open())}triggerUrlOpenEvent(){const e=new CustomEvent("urlOpen",{bubbles:!0,composed:!0});this.dispatchEvent(e)}static get observedAttributes(){return["is-open","id"]}attributeChangedCallback(e,n,o){this.onAttributeChange(e,o)}onAttributeChange(e,n){switch(e){case"is-open":n=="true"?i(this,u)||this.open():i(this,u)&&this.close();break;case"id":this.id=n}}onBackgroundClick(){w(this,l,W).call(this,"BACKGROUND_CLICK"),i(this,V)&&this.close()}close(){P(this,u,!1),this.elements.componentWrapper.classList.remove("--opened"),this.elements.componentWrapper.classList.add("--closed"),window.history.state=="jb-popover-open"&&this.PopoverHashPath!==null&&(window.removeEventListener("popstate",i(this,g)),window.location.hash==this.PopoverHashPath&&history.go(-1))}open(){P(this,u,!0),this.elements.componentWrapper.classList.remove("--closed"),this.elements.componentWrapper.classList.add("--opened"),S()&&this.PopoverHashPath!==null&&(window.history.pushState("jb-popover-open","",this.PopoverHashPath),window.addEventListener("popstate",i(this,g),{once:!0}))}},u=new WeakMap,C=new WeakMap,V=new WeakMap,l=new WeakSet,D=function(){this.elements.background.addEventListener("click",this.onBackgroundClick.bind(this)),this.elements.contentWrapper.addEventListener("mouseenter",i(this,$)),this.elements.contentWrapper.addEventListener("mouseleave",i(this,L))},W=function(e){const n=new CustomEvent("close",{detail:{eventType:e}});this.dispatchEvent(n)},g=new WeakMap,L=new WeakMap,$=new WeakMap,M=function(){return this.overflowDom?this.overflowDom.getBoundingClientRect().bottom:window.innerHeight},B);!customElements.get("jb-popover")&&window.customElements.define("jb-popover",R);
