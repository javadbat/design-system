var w=o=>{throw TypeError(o)};var v=(o,e,t)=>e.has(o)||w("Cannot "+t);var n=(o,e,t)=>(v(o,e,"read from private field"),t?t.call(o):e.get(o)),s=(o,e,t)=>e.has(o)?w("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t),m=(o,e,t,l)=>(v(o,e,"write to private field"),l?l.call(o,t):e.set(o,t),t),p=(o,e,t)=>(v(o,e,"access private method"),t);import{a as g}from"./index-BsliqPsk.js";import{N as y}from"./index-bfIR6bpK.js";var i,c,d,r,E,u,a,h,b,k,f,x=(f=class extends HTMLElement{constructor(){super();s(this,r);s(this,i,!1);s(this,c,Symbol());s(this,d,!0);s(this,a,e=>{this.isOpen&&g()&&(this.close(),p(this,r,u).call(this,"HISTORY_BACK_EVENT"))});s(this,h,()=>{this.overflowHandler=="SLIDE"&&(this.elements.contentWrapper.style.transform="translateY(0px)")});s(this,b,()=>{if(this.overflowHandler=="SLIDE"){const e=this.elements.contentWrapper.getBoundingClientRect(),t=p(this,r,k).call(this)-e.bottom;t<0&&(this.elements.contentWrapper.style.transform=`translateY(${t}px)`)}});this.overflowHandler="NONE",this.overflowDom=null,this.initWebComponent()}get JBID(){return n(this,c)}get isOpen(){return n(this,i)}get PopoverHashPath(){return this.id?`#${this.id}`:null}connectedCallback(){this.callOnLoadEvent(),p(this,r,E).call(this),this.callOnInitEvent()}disconnectedCallback(){window.removeEventListener("popstate",n(this,a))}callOnLoadEvent(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)}callOnInitEvent(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)}initWebComponent(){const e=this.attachShadow({mode:"open"});y();const t=document.createElement("template");t.innerHTML=`<style>:host{width:max-content;display:block}@media (max-width:30rem){:host{width:100vw}}.jb-popover-web-component{z-index:var(--jb-popover-z-index,10);will-change:opacity;opacity:1;width:inherit;transition:opacity .2s;display:none;position:absolute;inset-block-start:var(--inset-block-start);inset-inline-start:0}@media (max-width:30rem){.jb-popover-web-component{inset-block-start:0;inset-inline-start:0;background-color:var(--back-bg-color);backdrop-filter:blur(5px);grid-template:"."1fr"content-wrapper"/1fr;width:100vw;height:100dvh;display:none;position:fixed;bottom:0;overflow:hidden}}.jb-popover-web-component.--opened{display:grid}@starting-style{.jb-popover-web-component{opacity:0}}.jb-popover-web-component .popover-content-wrapper{background-color:var(--bg-color);border-radius:var(--border-radius);box-sizing:border-box;will-change:transform;grid-template-columns:minmax(0,1fr);justify-content:center;align-items:center;padding:16px;transition:transform .3s;display:grid;transform:translateY(0%);box-shadow:12px 12px 16px #00000040,-8px -8px 12px #ffffff4d}@media (max-width:30rem){.jb-popover-web-component .popover-content-wrapper{border-radius:var(--border-radius) var(--border-radius) 0 0;grid-area:content-wrapper;padding:2rem 0}@starting-style{.jb-popover-web-component .popover-content-wrapper{transform:translateY(100%)}}} :host{--border-radius:var(--jb-popover-border-radius,var(--jb-radius-xl));--inset-block-start:var(--jb-popover-top,4rem);--back-bg-color:var(--jb-popover-back-bg-color,oklch(from var(--jb-black) l c h / .5));--bg-color:var(--jb-popover-bg-color,#fff)}</style>

  <div class="jb-popover-web-component">
    <div class="popover-background"></div>
    <div class="popover-content-wrapper" part="content">
        <slot></slot>
    </div>
  </div>
  `,e.appendChild(t.content.cloneNode(!0)),this.elements={componentWrapper:e.querySelector(".jb-popover-web-component"),background:e.querySelector(".popover-background"),contentWrapper:e.querySelector(".popover-content-wrapper")}}checkInitialOpenness(){window.location.hash==`#${this.id}`&&(this.triggerUrlOpenEvent(),this.open())}triggerUrlOpenEvent(){const e=new CustomEvent("urlOpen",{bubbles:!0,composed:!0});this.dispatchEvent(e)}static get observedAttributes(){return["is-open","id"]}attributeChangedCallback(e,t,l){this.onAttributeChange(e,l)}onAttributeChange(e,t){switch(e){case"is-open":t=="true"?n(this,i)||this.open():n(this,i)&&this.close();break;case"id":this.id=t}}onBackgroundClick(){p(this,r,u).call(this,"BACKGROUND_CLICK"),n(this,d)&&this.close()}close(){m(this,i,!1),this.elements.componentWrapper.classList.remove("--opened"),this.elements.componentWrapper.classList.add("--closed"),window.history.state=="jb-popover-open"&&this.PopoverHashPath!==null&&(window.removeEventListener("popstate",n(this,a)),window.location.hash==this.PopoverHashPath&&history.go(-1))}open(){m(this,i,!0),this.elements.componentWrapper.classList.remove("--closed"),this.elements.componentWrapper.classList.add("--opened"),g()&&this.PopoverHashPath!==null&&(window.history.pushState("jb-popover-open","",this.PopoverHashPath),window.addEventListener("popstate",n(this,a),{once:!0}))}},i=new WeakMap,c=new WeakMap,d=new WeakMap,r=new WeakSet,E=function(){this.elements.background.addEventListener("click",this.onBackgroundClick.bind(this)),this.elements.contentWrapper.addEventListener("mouseenter",n(this,b)),this.elements.contentWrapper.addEventListener("mouseleave",n(this,h))},u=function(e){const t=new CustomEvent("close",{detail:{eventType:e}});this.dispatchEvent(t)},a=new WeakMap,h=new WeakMap,b=new WeakMap,k=function(){return this.overflowDom?this.overflowDom.getBoundingClientRect().bottom:window.innerHeight},f);customElements.get("jb-popover")||window.customElements.define("jb-popover",x);
