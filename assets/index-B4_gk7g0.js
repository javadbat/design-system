var y=o=>{throw TypeError(o)};var w=(o,l,e)=>l.has(o)||y("Cannot "+e);var s=(o,l,e)=>(w(o,l,"read from private field"),e?e.call(o):l.get(o)),b=(o,l,e)=>l.has(o)?y("Cannot add the same private member more than once"):l instanceof WeakSet?l.add(o):l.set(o,e),h=(o,l,e,t)=>(w(o,l,"write to private field"),t?t.call(o,e):l.set(o,e),e),n=(o,l,e)=>(w(o,l,"access private method"),e);import{e as K}from"./jb-validation-DPnsTO1v.js";import{e as x,t as j,n as z}from"./index-BsliqPsk.js";import{j as O}from"./index-CXPivJim.js";import{n as Q,t as W}from"./index-_b1slotr.js";var u,v,g,r,i,m,p,c,V,k,A,S,L,f,q,T,C,D,P,M,$,H,B,I,R,U,F,N,_,G,E,X=(E=class extends HTMLElement{constructor(){super();b(this,i);b(this,u,{displayValue:"",value:""});b(this,v,!1);b(this,g,!1);b(this,r);b(this,p,new K({clearValidationError:()=>this.clearValidationError(),showValidationError:this.showValidationError.bind(this),getValue:()=>s(this,u),getValidations:n(this,i,_).bind(this),getValueString:()=>s(this,u).displayValue,setValidationResult:n(this,i,G).bind(this)}));b(this,f,[]);this.initialValue="",typeof this.attachInternals=="function"&&(h(this,r,this.attachInternals()),s(this,r).role="textbox"),n(this,i,S).call(this)}static get formAssociated(){return!0}get disabled(){return s(this,v)}set disabled(e){var t,a;h(this,v,e),this.elements.input.disabled=e,e?((t=s(this,r).states)==null||t.add("disabled"),s(this,r).ariaDisabled="true"):((a=s(this,r).states)==null||a.delete("disabled"),s(this,r).ariaDisabled="false")}set required(e){h(this,g,e),n(this,i,m).call(this,!1)}get required(){return s(this,g)}hasState(e){return s(this,r).states.has(e)}get isAutoValidationDisabled(){return this.getAttribute("disable-auto-validation")===""||this.getAttribute("disable-auto-validation")==="true"}get validation(){return s(this,p)}get displayValue(){return s(this,u).displayValue}get value(){return s(this,u).value}set value(e){n(this,i,c).call(this,e,"SET_VALUE")}get isDirty(){return s(this,u).value!==this.initialValue}get selectionStart(){return this.elements.input.selectionStart}set selectionStart(e){this.elements.input.selectionStart=e}get selectionEnd(){return this.elements.input.selectionEnd}set selectionEnd(e){this.elements.input.selectionEnd=e}get selectionDirection(){return this.elements.input.selectionDirection}set selectionDirection(e){this.elements.input.selectionDirection=e}get name(){return this.getAttribute("name")||""}connectedCallback(){n(this,i,k).call(this),this.initProp(),n(this,i,A).call(this)}addStandardValueCallback(e){s(this,f).push(e)}standardValue(e,t){let a={displayValue:e.toString(),value:e.toString()};return a=s(this,f).reduce((d,J)=>J(e.toString(),s(this,u),d,t),a),a}initProp(){n(this,i,c).call(this,this.getAttribute("value")||"","SET_VALUE")}static get observedAttributes(){return["label","type","message","value","name","autocomplete","placeholder","disabled","inputmode","readonly","disable-auto-validation","virtualkeyboardpolicy","required","error","size"]}attributeChangedCallback(e,t,a){this.onAttributeChange(e,a)}onAttributeChange(e,t){switch(e){case"name":case"autocomplete":case"inputmode":case"readonly":case"virtualkeyboardpolicy":this.elements.input.setAttribute(e,t);break;case"label":this.elements.labelValue.innerHTML=t,s(this,r).ariaLabel=t,t==null||t===void 0||t===""?this.elements.label.classList.add("--hide"):this.elements.label.classList.remove("--hide");break;case"type":this.elements.input.setAttribute("type",t),t=="number"&&this.getAttribute("inputmode")==null&&this.setAttribute("inputmode","numeric");break;case"message":s(this,r).ariaDescription=t,this.elements.messageBox.classList.contains("error")||(this.elements.messageBox.innerHTML=t);break;case"value":n(this,i,c).call(this,t,"SET_VALUE");break;case"placeholder":this.elements.input.placeholder=t,s(this,r).ariaPlaceholder=t;break;case"disabled":t===""||t==="true"?this.disabled=!0:t!=="false"&&t!=null&&t!==void 0||(this.disabled=!1,this.elements.input.removeAttribute("disabled"));break;case"required":this.required=(t||t==="")&&t!=="false";break;case"error":this.reportValidity()}}showValidationError(e){var t;this.elements.messageBox.innerHTML=e.message,(t=s(this,r).states)==null||t.add("invalid"),s(this,r).ariaInvalid="true"}clearValidationError(){var t;const e=this.getAttribute("message")||"";this.elements.messageBox.innerHTML=e,(t=s(this,r).states)==null||t.delete("invalid"),s(this,r).ariaInvalid="false"}focus(){this.elements.input.focus()}setSelectionRange(e,t,a){this.elements.input.setSelectionRange(e,t,a)}checkValidity(){const e=s(this,p).checkValiditySync({showError:!1});if(!e.isAllValid){const t=new CustomEvent("invalid");this.dispatchEvent(t)}return e.isAllValid}reportValidity(){const e=s(this,p).checkValiditySync({showError:!0});if(!e.isAllValid){const t=new CustomEvent("invalid");this.dispatchEvent(t)}return e.isAllValid}get validationMessage(){return s(this,r).validationMessage}},u=new WeakMap,v=new WeakMap,g=new WeakMap,r=new WeakMap,i=new WeakSet,m=function(e){if(!this.isAutoValidationDisabled)return s(this,p).checkValidity({showError:e})},p=new WeakMap,c=function(e,t){e==null&&(e="");const a=this.standardValue(e,t);n(this,i,V).call(this,a)},V=function(e){h(this,u,e),s(this,r)&&typeof s(this,r).setFormValue=="function"&&s(this,r).setFormValue(e.value),this.elements.input.value=e.displayValue},k=function(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)},A=function(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)},S=function(){const e=this.attachShadow({mode:"open",delegatesFocus:!0});O(),n(this,i,L).call(this),this.elements={input:e.querySelector(".input-box input"),inputBox:e.querySelector(".input-box"),label:e.querySelector("label"),labelValue:e.querySelector("label .label-value"),messageBox:e.querySelector(".message-box"),slots:{startSection:e.querySelector(".jb-input-start-section-wrapper slot"),endSection:e.querySelector(".jb-input-end-section-wrapper slot")}},n(this,i,q).call(this)},L=function(){const e=document.createElement("template");e.innerHTML=`<style>:host{margin:var(--jb-input-margin,0 0);display:block}:host(:focus),:host(:focus-visible){outline:none}.jb-input-web-component{width:100%}.jb-input-web-component:focus-visible{outline:none}.jb-input-web-component label{width:100%;margin:var(--label-margin);font-size:var(--label-font-size);color:var(--label-color);margin:var(--label-margin,0);font-weight:var(--jb-input-label-font-weight,300);display:block}.jb-input-web-component label.--hide{display:none}.jb-input-web-component .input-box{box-sizing:border-box;width:100%;height:var(--height);border:solid var(--border-width) var(--border-color);background-color:var(--input-box-bg-color);border-bottom:solid var(--border-bottom-width) var(--border-color);border-radius:var(--border-radius);overflow:var(--jb-input-box-overflow,hidden);box-shadow:var(--jb-input-box-shadow,none);grid-template-rows:minmax(0,1fr);grid-template-columns:auto 1fr auto;transition:all .3s;display:grid}.jb-input-web-component .input-box:focus-within{border-width:var(--jb-input-border-width-focus,var(--jb-input-border-width,1px));border-bottom-width:var(--jb-input-border-bottom-width-focus,var(--jb-input-border-bottom-width,3px));box-shadow:var(--jb-input-box-shadow-focus,none)}.jb-input-web-component .input-box input{box-sizing:border-box;width:100%;height:100%;padding:var(--input-padding);font-family:inherit;font-size:var(--value-font-size);color:var(--value-color);text-align:var(--jb-input-input-text-align,initial);direction:var(--jb-input-input-direction,inherit);font-weight:var(--jb-input-input-font-weight,initial);background-color:#0000;border:none;border-radius:0;margin:0;display:block}.jb-input-web-component .input-box input:focus{outline:none}.jb-input-web-component .input-box input::placeholder{color:var(--placeholder-color);font-size:var(--placeholder-font-size)}.jb-input-web-component .input-box input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.jb-input-web-component .input-box input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.jb-input-web-component .input-box input[type=number]{-moz-appearance:textfield}.jb-input-web-component .input-box .jb-input-start-section-wrapper{justify-content:center;align-items:center;width:auto;height:100%;display:flex}.jb-input-web-component .input-box ::slotted([slot=start-section]),.jb-input-web-component .input-box ::slotted([slot=end-section]){height:100%;max-height:100%;padding:var(--inline-slots-padding);box-sizing:border-box;background-color:#0000;justify-content:center;align-items:center;width:auto;display:flex;overflow-y:hidden}.jb-input-web-component .message-box{font-size:var(--message-font-size);padding:.125rem var(--inline-space);color:var(--message-color);display:var(--jb-input-message-box-display,block)}.jb-input-web-component .message-box:empty{padding:0} :host{--border-radius:var(--jb-input-border-radius,var(--jb-radius));--height:var(--jb-input-height,2.5rem);--border-width:var(--jb-input-border-width,1px);--border-bottom-width:var(--jb-input-border-bottom-width,3px);--inline-space:calc(var(--border-radius) / 1.75);--label-margin:var(--jb-input-label-margin,.125rem var(--inline-space));--label-font-size:var(--jb-input-label-font-size,.8rem);--value-font-size:var(--jb-input-value-font-size,1rem);--input-padding:var(--jb-input-input-padding,.125rem .75rem 0 .75rem);--placeholder-font-size:var(--jb-input-placeholder-font-size,var(--value-font-size));--message-font-size:var(--jb-input-message-font-size,.7rem);--inline-slots-padding:.375rem .625rem;--border-color:var(--jb-input-border-color,var(--jb-neutral-10));--message-color:var(--jb-input-message-color,var(--jb-text-secondary));--label-color:var(--jb-input-label-color,var(--jb-text-primary));--value-color:var(--jb-input-value-color,var(--jb-text-primary));--placeholder-color:var(--jb-input-placeholder-color,var(--jb-neutral-6));--input-box-bg-color:var(--jb-input-bgcolor,var(--jb-neutral-10))}:host(:state(invalid)){--message-color:var(--jb-input-message-error-color,var(--jb-red))}:host(:focus-within){--border-color:var(--jb-input-border-color-focus,var(--jb-neutral))}:host([size=xs]){--height:var(--jb-input-height-xs,1.5rem);--value-font-size:var(--jb-input-value-font-size-xs,.75rem);--label-font-size:var(--jb-input-label-font-size-xs,.6rem);--message-font-size:var(--jb-input-message-font-size-xs,.525rem);--input-padding:var(--jb-input-input-padding-xs,.125rem .375rem 0 .375rem);--border-radius:var(--jb-input-border-radius-xs,var(--jb-radius-xs));--inline-slots-padding:.125rem .25rem}:host([size=sm]){--height:var(--jb-input-height-sm,2rem);--value-font-size:var(--jb-input-value-font-size-sm,.875rem);--label-font-size:var(--jb-input-label-font-size-sm,.7rem);--message-font-size:var(--jb-input-message-font-size-sm,.6125rem);--input-padding:var(--jb-input-input-padding-sm,.125rem .5625rem 0 .5625rem);--border-radius:var(--jb-input-border-radius-sm,var(--jb-radius-sm));--inline-slots-padding:.25rem .5rem}:host([size=lg]){--height:var(--jb-input-height-lg,3rem);--value-font-size:var(--jb-input-value-font-size-lg,1.125rem);--label-font-size:var(--jb-input-label-font-size-lg,.9rem);--message-font-size:var(--jb-input-message-font-size-lg,.7875rem);--input-padding:var(--jb-input-input-padding-lg,.125rem .9375rem 0 .9375rem);--border-radius:var(--jb-input-border-radius-lg,var(--jb-radius-lg));--inline-slots-padding:.5rem .75rem}:host([size=xl]){--height:var(--jb-input-height-xl,4rem);--value-font-size:var(--jb-input-value-font-size-xl,1.25rem);--label-font-size:var(--jb-input-label-font-size-xl,1rem);--message-font-size:var(--jb-input-message-font-size-xl,.875rem);--input-padding:var(--jb-input-input-padding-xl,.125rem 1.125rem 0 1.125rem);--border-radius:var(--jb-input-border-radius-xl,var(--jb-radius-xl));--inline-slots-padding:.75rem 1rem}</style>

    <div class="jb-input-web-component">
    <label class="--hide"><span class="label-value" part="label"></span></label>
    <div class="input-box" part="input-box">
        <div class="jb-input-start-section-wrapper">
            <slot name="start-section"></slot>
        </div>
        <input part="input"/>
        <div class="jb-input-end-section-wrapper">
            <slot name="end-section"></slot>
        </div>
    </div>
    <div class="message-box" part="message"></div>
</div>
  `,this.shadowRoot.appendChild(e.content.cloneNode(!0))},f=new WeakMap,q=function(){this.elements.input.addEventListener("change",e=>n(this,i,F).call(this,e),{capture:!1}),this.elements.input.addEventListener("beforeinput",n(this,i,R).bind(this),{capture:!1}),this.elements.input.addEventListener("input",e=>n(this,i,B).call(this,e),{capture:!1}),this.elements.input.addEventListener("blur",e=>n(this,i,T).call(this),{capture:!1,passive:!0}),x(this.elements.input,"keyup",n(this,i,M).bind(this)),x(this.elements.input,"keydown",n(this,i,C).bind(this)),x(this.elements.input,"keypress",n(this,i,P).bind(this)),this.elements.label.addEventListener("click",e=>this.focus(),{capture:!1,passive:!0})},T=function(){n(this,i,m).call(this,!0)},C=function(e){n(this,i,D).call(this,e)},D=function(e){e.stopPropagation();const t=j("keydown",e,{cancelable:!0});this.dispatchEvent(t)||e.preventDefault()},P=function(e){e.stopPropagation();const t=j("keypress",e,{cancelable:!1});this.dispatchEvent(t)},M=function(e){n(this,i,$).call(this,e),e.keyCode==13&&n(this,i,H).call(this,e)},$=function(e){e.stopPropagation();const t=j("keyup",e,{cancelable:!1});this.dispatchEvent(t)},H=function(e){const t=j("enter",e,{cancelable:!1});this.dispatchEvent(t)},B=function(e){const t=e.target.selectionEnd||0;e.target.selectionStart;const a=e.target.value,d=e.target;n(this,i,c).call(this,a,"INPUT"),t!==a.length&&(["number"].includes(this.getAttribute("type"))||d.setSelectionRange(t,t)),n(this,i,m).call(this,!1),n(this,i,I).call(this,e)},I=function(e){e.stopPropagation();const t=z("input",e,{cancelable:!0});this.dispatchEvent(t)},R=function(e){n(this,i,U).call(this,e)},U=function(e){e.stopPropagation();const t=z("beforeinput",e,{cancelable:!0});return this.dispatchEvent(t),t.defaultPrevented&&e.preventDefault(),t.defaultPrevented},F=function(e){const t=e.target.value,a=s(this,u);n(this,i,c).call(this,t,"CHANGE"),n(this,i,m).call(this,!0),n(this,i,N).call(this,e)&&(h(this,u,a),e.preventDefault())},N=function(e){e.stopPropagation();const t={bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed},a=new Event("change",t);return this.dispatchEvent(a),!!a.defaultPrevented},_=function(){const e=[];if(this.required){const t=this.getAttribute("required").length>0?this.getAttribute("required"):Q(W,this.getAttribute("label"));e.push({validator:/.{1}/g,message:t,stateType:"valueMissing"})}return this.getAttribute("error")!==null&&this.getAttribute("error").trim().length>0&&e.push({validator:void 0,message:this.getAttribute("error"),stateType:"customError"}),e},G=function(e){if(e.isAllValid)s(this,r).setValidity({},"");else{const t={};let a="";e.validationList.forEach(d=>{d.isValid||(d.validation.stateType&&(t[d.validation.stateType]=!0),a==""&&(a=d.message))}),s(this,r).setValidity(t,a)}},E);customElements.get("jb-input")||window.customElements.define("jb-input",X);export{X as o};
