var f=e=>{throw TypeError(e)};var B=(e,r,t)=>r.has(e)||f("Cannot "+t);var m=(e,r,t)=>r.has(e)?f("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t);var l=(e,r,t)=>(B(e,r,"access private method"),t);import{R as p,r as a}from"./index-DhY--VwN.js";import{o as V}from"./index-lwRhtS7B.js";import{c as b}from"./index-C-kj9kL4.js";import{a as k,t as x}from"./index-NH_qbYOC.js";import"./jb-validation-BFHHOeHY.js";import"./index-DA-aheCX.js";const F=new k({fa:{invalidValue:"کد ملی وارد شده نامعتبر است"},en:{invalidValue:"The entered national code is invalid"}});var s,g,A,I,w,v,S=(v=class extends V{constructor(){super();m(this,s);this.initMobileInputWebComponent()}initMobileInputWebComponent(){const t=document.createElement("template");t.innerHTML="<style>.jb-input-web-component{--jb-input-input-direction:var(--jb-national-input-input-direction,ltr)}</style>",this.shadowRoot.appendChild(t.content.cloneNode(!0)),this.validation.addValidationListGetter(l(this,s,w).bind(this)),l(this,s,A).call(this),this.addStandardValueCallback(l(this,s,g).bind(this))}},s=new WeakSet,g=function(t){let n="",u="";const i=/(?<nationalId>[\u06F0-\u06F90-9]{1,10})/g.exec(t);return n=i&&i.groups?i.groups.nationalId:"",u=b(n),{value:u,displayValue:n}},A=function(){this.elements.input.addEventListener("beforeinput",l(this,s,I).bind(this))},I=function(t){const n=t.data;/[\u06F0-\u06F90-9]{1,10}/g.test(n)||t.inputType=="deleteContentBackward"||t.preventDefault()},w=function(){return[{validator:({value:t})=>(function(n){if(n.length===0)return!0;const u=b(n);if(!/^\d{10}$/.test(u))return!1;const i=+u[9],d=u.split("").slice(0,9).reduce((j,L,R)=>j+ +L*(10-R),0)%11;return d<2?i===d:i+d===11})(t),message:F.get(x,"invalidValue"),stateType:"badInput"}]},v);customElements.get("jb-national-input")||window.customElements.define("jb-national-input",S);function o(e,r,t,n=!1){let u=a.useCallback(i=>{e.current&&typeof t=="function"&&t(i)},[e,t]);a.useEffect(()=>{let i=e.current;return i&&i.addEventListener(r,u,{passive:n,capture:!1}),function(){i&&i.removeEventListener(r,u,{passive:n,capture:!1})}},[e,r,t,n])}function N(e,r){o(e,"enter",r.onEnter),o(e,"input",r.onInput),o(e,"beforeinput",r.onBeforeinput),o(e,"change",r.onChange),o(e,"keydown",r.onKeydown),o(e,"keyup",r.onKeyup),o(e,"focus",r.onFocus),o(e,"blur",r.onBlur)}function q(e,r){a.useEffect(()=>{let t=r.value;(r.value==null||r.value===void 0)&&(t=""),e&&e.current&&e.current&&(e.current.value=(t==null?void 0:t.toString())||"")},[r.value]),a.useEffect(()=>{var t;r.type&&((t=e==null?void 0:e.current)==null||t.setAttribute("type",r.type))},[r.type]),a.useEffect(()=>{var t,n;r.name?(t=e==null?void 0:e.current)==null||t.setAttribute("name",r.name||""):(n=e==null?void 0:e.current)==null||n.removeAttribute("name")},[r.name]),a.useEffect(()=>{e&&e.current&&(e.current.validation.list=r.validationList||[])},[r.validationList]),a.useEffect(()=>{var t;(t=e==null?void 0:e.current)==null||t.setAttribute("label",r.label||"")},[r.label]),a.useEffect(()=>{var t,n;typeof r.disabled=="boolean"&&r.disabled?(t=e==null?void 0:e.current)==null||t.setAttribute("disabled",""):(n=e==null?void 0:e.current)==null||n.removeAttribute("disabled")},[r.disabled]),a.useEffect(()=>{var t,n,u;typeof r.required=="string"&&((t=e==null?void 0:e.current)==null||t.setAttribute("required",r.required)),typeof r.required=="boolean"&&(r.required?(n=e==null?void 0:e.current)==null||n.setAttribute("required",""):(u=e==null?void 0:e.current)==null||u.removeAttribute("required"))},[r.required]),a.useEffect(()=>{var t,n;r.inputmode?(t=e.current)==null||t.setAttribute("inputmode",r.inputmode):(n=e.current)==null||n.removeAttribute("inputmode")},[r.inputmode]),a.useEffect(()=>{var t;(t=e==null?void 0:e.current)==null||t.setAttribute("message",r.message||"")},[r.message]),a.useEffect(()=>{var t;(t=e==null?void 0:e.current)==null||t.setAttribute("placeholder",r.placeholder||"")},[r.placeholder]),a.useEffect(()=>{var t,n;r.error?(t=e==null?void 0:e.current)==null||t.setAttribute("error",r.error):(n=e==null?void 0:e.current)==null||n.removeAttribute("error")},[r.error])}a.forwardRef((e,r)=>{let t=a.useRef(null),[n,u]=a.useState(0);return a.useImperativeHandle(r,()=>t?t.current:{},[t]),a.useEffect(()=>{u(n+1)},[t.current]),N(t,e),q(t,e),p.createElement("jb-input",{ref:t,class:e.className},e.children)}).displayName="JBInput";let C=p.forwardRef((e,r)=>{let t=a.useRef(null),[n,u]=a.useState(0);return a.useImperativeHandle(r,()=>t?t.current:{},[t]),a.useEffect(()=>{u(n+1)},[t.current]),q(t,e),N(t,e),p.createElement("jb-national-input",{ref:t,class:e.className?e.className:""},e.children)});C.displayName="JBNationalInput";const D={title:"Components/form elements/Inputs/JBNationalInput",component:C},c={args:{label:"national id",message:"please enter your national code"}};var E,h,y;c.parameters={...c.parameters,docs:{...(E=c.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    label: 'national id',
    message: "please enter your national code"
  }
}`,...(y=(h=c.parameters)==null?void 0:h.docs)==null?void 0:y.source}}};const G=["Normal"];export{c as Normal,G as __namedExportsOrder,D as default};
