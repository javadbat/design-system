var Y=Object.defineProperty;var B=e=>{throw TypeError(e)};var J=(e,t,n)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var m=(e,t,n)=>J(e,typeof t!="symbol"?t+"":t,n),I=(e,t,n)=>t.has(e)||B("Cannot "+n);var v=(e,t,n)=>(I(e,t,"read from private field"),n?n.call(e):t.get(e)),N=(e,t,n)=>t.has(e)?B("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),C=(e,t,n,r)=>(I(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),M=(e,t,n)=>(I(e,t,"access private method"),n);import{R as s,r as l}from"./index-D4lIrffr.js";import{r as O}from"./index-B65NTg4l.js";var i=class{constructor(e,t){m(this,"lightness");m(this,"chroma");m(this,"hue");m(this,"variableName");this.variableName=t,this.lightness=e.lightness,this.chroma=e.chroma,this.hue=e.hue}get value(){return`oklch(${this.lightness} ${this.chroma} ${this.hue})`}};function o(e){return new i({lightness:6*(3+1.3*e)*.01,chroma:.001*(14+.09*e),hue:258.36},`--jb-neutral-${e}`)}function w(e){return new i({lightness:e.lightness+.07,chroma:e.chroma+.07,hue:e.hue},`${e.variableName}-hover`)}function x(e){return new i({lightness:e.lightness-.1,chroma:e.chroma-.05,hue:e.hue},`${e.variableName}-pressed`)}function y(e){const t=Math.min(e.lightness+.12*(1-e.lightness),.985),n=e.chroma*(1-.15*(t-e.lightness));return new i({lightness:t,chroma:Number(n.toFixed(3)),hue:e.hue},`${e.variableName}-l`)}function f(e){const t=Math.max(e.lightness-.12*e.lightness,.02),n=e.chroma*(1-.15*(t-e.lightness));return new i({lightness:t,chroma:n,hue:e.hue},`${e.variableName}-d`)}function E(e){const t=Math.min(e.lightness+.65*(1-e.lightness),.93),n=.55*e.chroma*(1-.08*(t-e.lightness)),r=e.hue>=70&&e.hue<=162?5:-3,g=e.hue+r;return new i({lightness:t,chroma:Number(n.toFixed(3)),hue:g},`${e.variableName}-subtle`)}function k(e){const t=Math.max(e.lightness-.35,.22),n=Math.min(1.6*e.chroma,.28);return new i({lightness:Number(t.toFixed(3)),chroma:Number(n.toFixed(3)),hue:e.hue},`${e.variableName}-contrast`)}const h=new i({lightness:.6,chroma:.26,hue:256},"--jb-primary"),u=new i({lightness:.6,chroma:.26,hue:286},"--jb-secondary"),d=new i({lightness:.75,chroma:.18,hue:70},"--jb-yellow"),p=new i({lightness:.68,chroma:.1484,hue:162.1},"--jb-green"),b=new i({lightness:.6,chroma:.22,hue:23.21},"--jb-red"),A={single:{black:new i({lightness:.14,chroma:0,hue:0},"--jb-black"),white:new i({lightness:1,chroma:0,hue:0},"--jb-white"),highlight:new i({lightness:.93,chroma:.2302,hue:125.18},"--jb-highlight")},neutral:[o(0),o(1),o(2),o(3),o(4),o(5),o(6),o(7),o(8),o(9),o(10)],primary:{main:h,hover:w(h),pressed:x(h),light:y(h),dark:f(h),subtle:E(h),contrast:k(h)},secondary:{main:u,hover:w(u),pressed:x(u),light:y(u),dark:f(u),subtle:E(u),contrast:k(u)},yellow:{main:d,hover:w(d),pressed:x(d),light:y(d),dark:f(d),subtle:E(d),contrast:k(d)},green:{main:p,hover:w(p),pressed:x(p),light:y(p),dark:f(p),subtle:E(p),contrast:k(p)},red:{main:b,hover:w(b),pressed:x(b),light:y(b),dark:f(b),subtle:E(b),contrast:k(b)}};function a(e){try{const{value:t,...n}=e;window.CSS.registerProperty({...n}),function(r,g){try{g&&(document.documentElement.style.getPropertyValue(r)||document.documentElement.style.setProperty(r,g))}catch{}}(e.name,t)}catch{}}function K(){var e;a({name:"--jb-radius",inherits:!0,value:"1rem",initialValue:"16px",syntax:"<length-percentage>"}),a({name:"--jb-radius-xs",inherits:!0,value:"0.5rem",initialValue:"8px",syntax:"<length-percentage>"}),a({name:"--jb-radius-sm",inherits:!0,value:"0.75rem",initialValue:"12px",syntax:"<length-percentage>"}),a({name:"--jb-radius-lg",inherits:!0,value:"1.25rem",initialValue:"20px",syntax:"<length-percentage>"}),a({name:"--jb-radius-xl",inherits:!0,value:"1.5rem",initialValue:"24px",syntax:"<length-percentage>"}),function(t){a({name:t.primary.main.variableName,syntax:"<color>",inherits:!0,initialValue:t.primary.main.value}),a({name:t.secondary.main.variableName,syntax:"<color>",inherits:!0,initialValue:t.secondary.main.value}),a({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:t.neutral[0].value}),a({name:t.single.black.variableName,syntax:"<color>",inherits:!0,initialValue:t.single.black.value}),a({name:t.single.white.variableName,syntax:"<color>",inherits:!0,initialValue:t.single.white.value}),a({name:t.single.highlight.variableName,syntax:"<color>",inherits:!0,initialValue:t.single.highlight.value}),a({name:t.yellow.main.variableName,syntax:"<color>",inherits:!0,initialValue:t.yellow.main.value}),a({name:t.green.main.variableName,syntax:"<color>",inherits:!0,initialValue:t.green.main.value}),a({name:t.red.main.variableName,syntax:"<color>",inherits:!0,initialValue:t.red.main.value}),a({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:t.neutral[0].value});for(let n=1;n<=10;n++)a({name:t.neutral[n].variableName,syntax:"<color>",inherits:!0,initialValue:t.neutral[n].value})}(A),a({name:"--jb-text-primary",syntax:"<color>",inherits:!0,initialValue:(e=A).single.black.value}),a({name:"--jb-text-secondary",syntax:"<color>",inherits:!0,initialValue:e.neutral[7].value}),a({name:"--jb-text-contrast",syntax:"<color>",inherits:!0,initialValue:e.single.white.value})}var c,j,S,H,P,q=(P=class extends HTMLElement{constructor(){super();N(this,S);N(this,c,!1);N(this,j,"");m(this,"elements");m(this,"config",{autoCloseOnBackgroundClick:!1});this.initWebComponent()}get id(){const t=this.getAttribute("id")||"";return v(this,j)||t}set id(t){C(this,j,t),this.checkInitialOpenness()}get isOpen(){return v(this,c)}connectedCallback(){this.callOnLoadEvent(),this.initProp(),this.callOnInitEvent()}callOnLoadEvent(){const t=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(t)}callOnInitEvent(){const t=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(t)}initWebComponent(){const t=this.attachShadow({mode:"open"});K();const n=document.createElement("template");n.innerHTML=`<style>:host{--z-index: var(--jb-modal-z-index, 1);--border-radius:var(--jb-modal-border-radius, var(--jb-radius-xl));--back-bg-color:var(--jb-modal-back-bg-color, oklch(from var(--jb-white) l c h / 0.1));--bg-color:var(--jb-modal-bg-color, var(--jb-white))}.jb-modal-web-component{position:fixed;top:0;left:0;z-index:var(--z-index);width:100%;height:100%}.jb-modal-web-component.--closed{display:none}@media(min-width: 320px)and (max-width: 767px){.jb-modal-web-component.--closed .modal-content-wrapper{transform:translateY(100%)}}.jb-modal-web-component.--opened{display:block}@media(min-width: 320px)and (max-width: 767px){.jb-modal-web-component.--opened .modal-content-wrapper{animation-name:swipe-up;animation-duration:.3s;animation-delay:0s;animation-iteration-count:1;animation-timing-function:ease}}@keyframes swipe-up{0%{transform:translateY(100%)}100%{transform:translateY(0%)}}.jb-modal-web-component .modal-background{position:absolute;top:0;left:0;background-color:var(--back-bg-color);backdrop-filter:blur(10px);z-index:2;width:100%;height:100%}.jb-modal-web-component .modal-content-wrapper{position:absolute;top:0;left:0;z-index:3;width:100%;height:100%;display:flex;align-items:center;justify-content:center;pointer-events:none}@media(min-width: 320px)and (max-width: 767px){.jb-modal-web-component .modal-content-wrapper{bottom:0;top:initial;align-items:flex-end}}.jb-modal-web-component .modal-content-wrapper .modal-content{pointer-events:all;width:auto;height:auto;background-color:var(--bg-color);border-radius:var(--border-radius)}@media(min-width: 320px)and (max-width: 767px){.jb-modal-web-component .modal-content-wrapper .modal-content{width:100%;height:auto;max-height:calc(100% - 80px);min-height:32px;border-radius:var(--border-radius) var(--border-radius) 0 0;overflow-y:auto}}</style>
<div class="jb-modal-web-component --closed">
    <div class="modal-background"></div>
    <div class="modal-content-wrapper">
        <div class="modal-content">
            <slot name="content"></slot>
        </div>
    </div>
</div>`,t.appendChild(n.content.cloneNode(!0)),this.elements={componentWrapper:t.querySelector(".jb-modal-web-component"),background:t.querySelector(".modal-background")}}registerEventListener(){this.elements.background.addEventListener("click",this.onBackgroundClick.bind(this)),window.addEventListener("popstate",M(this,S,H).bind(this))}initProp(){this.registerEventListener()}checkInitialOpenness(){window.location.hash==`#${this.id}`&&(this.triggerUrlOpenEvent(),this.open())}triggerUrlOpenEvent(){const t=new CustomEvent("urlOpen",{bubbles:!0,composed:!0});this.dispatchEvent(t)}static get observedAttributes(){return["is-open","id"]}attributeChangedCallback(t,n,r){this.onAttributeChange(t,r)}onAttributeChange(t,n){switch(t){case"is-open":n=="true"?v(this,c)||this.open():v(this,c)&&this.close();break;case"id":this.id=n}}onBackgroundClick(){this.dispatchCloseEvent("BACKGROUND_CLICK"),this.config.autoCloseOnBackgroundClick&&this.close()}dispatchCloseEvent(t){const n=new CustomEvent("close",{detail:{eventType:t}});this.dispatchEvent(n)}close(){C(this,c,!1),this.elements.componentWrapper.classList.remove("--opened"),this.elements.componentWrapper.classList.add("--closed");const t=window.history;window.location.hash==`#${this.id}`&&t.go(-1)}open(){if(C(this,c,!0),this.elements.componentWrapper.classList.remove("--closed"),this.elements.componentWrapper.classList.add("--opened"),this.id){const t=window.history;window.location.hash!=`#${this.id}`&&t.pushState({JBModal:{}},"",`#${this.id}`)}}},c=new WeakMap,j=new WeakMap,S=new WeakSet,H=function(){this.isOpen&&(this.dispatchCloseEvent("HISTORY_BACK_EVENT"),this.config.autoCloseOnBackgroundClick&&this.close())},P);!customElements.get("jb-modal")&&window.customElements.define("jb-modal",q);let L=s.forwardRef((e,t)=>{let n=l.useRef(null),[r,g]=l.useState(0);return l.useImperativeHandle(t,()=>n?n.current:{},[n]),l.useEffect(()=>{g(r+1)},[n.current]),l.useEffect(()=>{n.current&&(e.isOpen==!0?n.current.open():n.current.close())},[e.isOpen]),l.useEffect(()=>{n.current&&(n.current.id=e.id)},[e.id]),O(n,"load",e.onLoad,!0),O(n,"init",e.onInit,!0),O(n,"close",e.onClose),O(n,"urlOpen",e.onUrlOpen),s.createElement("jb-modal",{ref:n,class:e.className?e.className:""},s.createElement("div",{slot:"content"},e.children))});L.displayName="JBModal";const D="test long string ".repeat(200);function U(){const[e,t]=l.useState(!1),[n,r]=l.useState(!1);return s.createElement("div",{className:"normal-page"},s.createElement("div",{className:"button-wrapper"},s.createElement("button",{onClick:()=>t(!0)},"open"),s.createElement(L,{isOpen:e,onClose:()=>{t(!1)}},s.createElement("div",{className:"modal-test-content"},"salam")),s.createElement("button",{onClick:()=>r(!0)},"open long  txt modal"),s.createElement(L,{isOpen:n,onClose:()=>{r(!1)}},s.createElement("div",{className:"modal-test-content"},D))))}U.__docgenInfo={description:"",methods:[],displayName:"Normal"};const ee={title:"Components/JBModal",component:L},V={args:{isOpen:!0}},$={render:()=>s.createElement(U,null)};var T,W,_;V.parameters={...V.parameters,docs:{...(T=V.parameters)==null?void 0:T.docs,source:{originalSource:`{
  args: {
    isOpen: true
  }
}`,...(_=(W=V.parameters)==null?void 0:W.docs)==null?void 0:_.source}}};var z,R,F;$.parameters={...$.parameters,docs:{...(z=$.parameters)==null?void 0:z.docs,source:{originalSource:`{
  render: () => <NormalP></NormalP>
}`,...(F=(R=$.parameters)==null?void 0:R.docs)==null?void 0:F.source}}};const te=["Normal","ActionTest"];export{$ as ActionTest,V as Normal,te as __namedExportsOrder,ee as default};
