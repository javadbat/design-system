var be=Object.defineProperty;var X=e=>{throw TypeError(e)};var fe=(e,t,a)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var p=(e,t,a)=>fe(e,typeof t!="symbol"?t+"":t,a),_=(e,t,a)=>t.has(e)||X("Cannot "+a);var s=(e,t,a)=>(_(e,t,"read from private field"),a?a.call(e):t.get(e)),m=(e,t,a)=>t.has(e)?X("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a),u=(e,t,a,r)=>(_(e,t,"write to private field"),r?r.call(e,a):t.set(e,a),a),E=(e,t,a)=>(_(e,t,"access private method"),a);import{R as V,r as c}from"./index-D4lIrffr.js";import{e as we}from"./jb-validation-BFHHOeHY.js";import{r as I}from"./index-B65NTg4l.js";import{a as P}from"./index-B-lxVbXh.js";import"./v4-CtRu48qb.js";var n=class{constructor(e,t){p(this,"lightness");p(this,"chroma");p(this,"hue");p(this,"variableName");this.variableName=t,this.lightness=e.lightness,this.chroma=e.chroma,this.hue=e.hue}get value(){return`oklch(${this.lightness} ${this.chroma} ${this.hue})`}};function g(e){return new n({lightness:6*(3+1.3*e)*.01,chroma:.001*(14+.09*e),hue:258.36},`--jb-neutral-${e}`)}function L(e){return new n({lightness:e.lightness+.07,chroma:e.chroma+.07,hue:e.hue},`${e.variableName}-hover`)}function k(e){return new n({lightness:e.lightness-.1,chroma:e.chroma-.05,hue:e.hue},`${e.variableName}-pressed`)}function S(e){const t=Math.min(e.lightness+.12*(1-e.lightness),.985),a=e.chroma*(1-.15*(t-e.lightness));return new n({lightness:t,chroma:Number(a.toFixed(3)),hue:e.hue},`${e.variableName}-l`)}function N(e){const t=Math.max(e.lightness-.12*e.lightness,.02),a=e.chroma*(1-.15*(t-e.lightness));return new n({lightness:t,chroma:a,hue:e.hue},`${e.variableName}-d`)}function A(e){const t=Math.min(e.lightness+.65*(1-e.lightness),.93),a=.55*e.chroma*(1-.08*(t-e.lightness)),r=e.hue>=70&&e.hue<=162?5:-3,l=e.hue+r;return new n({lightness:t,chroma:Number(a.toFixed(3)),hue:l},`${e.variableName}-subtle`)}function B(e){const t=Math.max(e.lightness-.35,.22),a=Math.min(1.6*e.chroma,.28);return new n({lightness:Number(t.toFixed(3)),chroma:Number(a.toFixed(3)),hue:e.hue},`${e.variableName}-contrast`)}const b=new n({lightness:.6,chroma:.26,hue:256},"--jb-primary"),f=new n({lightness:.6,chroma:.26,hue:286},"--jb-secondary"),w=new n({lightness:.75,chroma:.18,hue:70},"--jb-yellow"),y=new n({lightness:.68,chroma:.1484,hue:162.1},"--jb-green"),x=new n({lightness:.6,chroma:.22,hue:23.21},"--jb-red"),D={single:{black:new n({lightness:.14,chroma:0,hue:0},"--jb-black"),white:new n({lightness:1,chroma:0,hue:0},"--jb-white"),highlight:new n({lightness:.93,chroma:.2302,hue:125.18},"--jb-highlight")},neutral:[g(0),g(1),g(2),g(3),g(4),g(5),g(6),g(7),g(8),g(9),g(10)],primary:{main:b,hover:L(b),pressed:k(b),light:S(b),dark:N(b),subtle:A(b),contrast:B(b)},secondary:{main:f,hover:L(f),pressed:k(f),light:S(f),dark:N(f),subtle:A(f),contrast:B(f)},yellow:{main:w,hover:L(w),pressed:k(w),light:S(w),dark:N(w),subtle:A(w),contrast:B(w)},green:{main:y,hover:L(y),pressed:k(y),light:S(y),dark:N(y),subtle:A(y),contrast:B(y)},red:{main:x,hover:L(x),pressed:k(x),light:S(x),dark:N(x),subtle:A(x),contrast:B(x)}};function i(e){try{const{value:t,...a}=e;window.CSS.registerProperty({...a}),function(r,l){try{l&&(document.documentElement.style.getPropertyValue(r)||document.documentElement.style.setProperty(r,l))}catch{}}(e.name,t)}catch{}}function ye(){var e;i({name:"--jb-radius",inherits:!0,value:"1rem",initialValue:"16px",syntax:"<length-percentage>"}),i({name:"--jb-radius-xs",inherits:!0,value:"0.5rem",initialValue:"8px",syntax:"<length-percentage>"}),i({name:"--jb-radius-sm",inherits:!0,value:"0.75rem",initialValue:"12px",syntax:"<length-percentage>"}),i({name:"--jb-radius-lg",inherits:!0,value:"1.25rem",initialValue:"20px",syntax:"<length-percentage>"}),i({name:"--jb-radius-xl",inherits:!0,value:"1.5rem",initialValue:"24px",syntax:"<length-percentage>"}),function(t){i({name:t.primary.main.variableName,syntax:"<color>",inherits:!0,initialValue:t.primary.main.value}),i({name:t.secondary.main.variableName,syntax:"<color>",inherits:!0,initialValue:t.secondary.main.value}),i({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:t.neutral[0].value}),i({name:t.single.black.variableName,syntax:"<color>",inherits:!0,initialValue:t.single.black.value}),i({name:t.single.white.variableName,syntax:"<color>",inherits:!0,initialValue:t.single.white.value}),i({name:t.single.highlight.variableName,syntax:"<color>",inherits:!0,initialValue:t.single.highlight.value}),i({name:t.yellow.main.variableName,syntax:"<color>",inherits:!0,initialValue:t.yellow.main.value}),i({name:t.green.main.variableName,syntax:"<color>",inherits:!0,initialValue:t.green.main.value}),i({name:t.red.main.variableName,syntax:"<color>",inherits:!0,initialValue:t.red.main.value}),i({name:"--jb-neutral",syntax:"<color>",inherits:!0,initialValue:t.neutral[0].value});for(let a=1;a<=10;a++)i({name:t.neutral[a].variableName,syntax:"<color>",inherits:!0,initialValue:t.neutral[a].value})}(D),i({name:"--jb-text-primary",syntax:"<color>",inherits:!0,initialValue:(e=D).single.black.value}),i({name:"--jb-text-secondary",syntax:"<color>",inherits:!0,initialValue:e.neutral[7].value}),i({name:"--jb-text-contrast",syntax:"<color>",inherits:!0,initialValue:e.single.white.value})}var d,T,v,h,M,j,C,o,ce,he,ue,ge,de,Te,H,xe=(H=class extends HTMLElement{constructor(){super();m(this,o);m(this,d,!1);m(this,T,null);p(this,"elements");m(this,v,!1);m(this,h);m(this,M,!1);m(this,j,new we({clearValidationError:this.clearValidationError.bind(this),getValue:()=>this.value,getValidations:()=>[],getValueString:()=>this.value?"true":"false",setValidationResult:E(this,o,de).bind(this),showValidationError:this.showValidationError.bind(this)}));p(this,"initialValue",!1);m(this,C,!1);p(this,"isAutoValidationDisabled",!1);typeof this.attachInternals=="function"&&u(this,h,this.attachInternals()),this.initWebComponent()}static get formAssociated(){return!0}get value(){return s(this,T)!==null?s(this,T):s(this,d)}set value(t){s(this,d)!==t&&u(this,d,t),E(this,o,ge).call(this),s(this,h)&&typeof s(this,h).setFormValue=="function"&&s(this,h).setFormValue(`${t}`)}get isLoading(){return s(this,M)}set isLoading(t){u(this,M,t),t?this.elements.triggerCircleBar.classList.add("--loading"):this.elements.triggerCircleBar.classList.remove("--loading")}get validation(){return s(this,j)}get name(){return this.getAttribute("name")||""}get isDirty(){return s(this,d)!==this.initialValue}set required(t){u(this,C,t),s(this,j).checkValiditySync({showError:!1})}get required(){return s(this,C)}get disabled(){return s(this,v)}set disabled(t){var a,r;u(this,v,t),t?(a=s(this,h).states)==null||a.add("disabled"):(r=s(this,h).states)==null||r.delete("disabled")}connectedCallback(){this.callOnLoadEvent(),this.initProp(),this.callOnInitEvent()}callOnLoadEvent(){const t=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(t)}callOnInitEvent(){const t=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(t)}initWebComponent(){const t=this.attachShadow({mode:"open",delegatesFocus:!0});ye();const a=document.createElement("template");a.innerHTML=`<style>:host{--ring-color-active:var(--jb-switch-ring-color-active, var(--jb-green));--bg-color-active:var(--jb-switch-bg-color-active, var(--jb-green));--bg-color: var(--jb-switch-bg-color, var(--jb-neutral-10));--ring-color:var(--jb-switch-ring-color, var(--jb-primary))}:host(:focus),:host(:focus-visible){outline:none}:host(:dir(rtl)){direction:rtl}:host(:dir(ltr)){direction:ltr}.jb-switch-web-component{display:flex;flex-direction:row;align-items:center;justify-content:start;gap:.5rem}.jb-switch-web-component .caption{display:inline-block;color:inherit;transition:all .3s ease-in-out}.jb-switch-web-component .caption.--active{transition:all .3s ease-in-out;-webkit-text-stroke:1px}.jb-switch-web-component .svg-wrapper{width:71px;height:44px}.jb-switch-web-component .svg-wrapper .switch-svg{width:71px;height:44px}.jb-switch-web-component .svg-wrapper .switch-svg.--active .trigger-button:dir(rtl){transform:translateX(280px)}.jb-switch-web-component .svg-wrapper .switch-svg.--active .trigger-button:dir(ltr){transform:translateX(0px)}.jb-switch-web-component .svg-wrapper .switch-svg.--active .trigger-circle-bar{stroke:var(--ring-color-active)}.jb-switch-web-component .svg-wrapper .switch-svg.--active .bg-bar{fill:var(--bg-color-active)}.jb-switch-web-component .svg-wrapper .switch-svg .bg-bar{fill:var(--bg-color);transition:all .3s ease-in-out}.jb-switch-web-component .svg-wrapper .switch-svg .trigger-button{transition:all .3s ease-in-out}.jb-switch-web-component .svg-wrapper .switch-svg .trigger-button:dir(rtl){transform:translateX(0px)}.jb-switch-web-component .svg-wrapper .switch-svg .trigger-button:dir(ltr){transform:translateX(280px)}.jb-switch-web-component .svg-wrapper .switch-svg .trigger-circle{transition:all .3s ease-in-out}.jb-switch-web-component .svg-wrapper .switch-svg .trigger-circle-bar{fill:rgba(0,0,0,0);stroke:var(--ring-color);stroke-width:20px;transition:all .3s ease-in-out;stroke-dasharray:800,800;stroke-dashoffset:0;stroke-linecap:round}.jb-switch-web-component .svg-wrapper .switch-svg .trigger-circle-bar.--loading{animation:jb-switch-loading-dash 1.5s ease-in-out infinite}@keyframes jb-switch-loading-dash{0%{stroke-dasharray:1,800;stroke-dashoffset:0}50%{stroke-dasharray:600,800;stroke-dashoffset:-600}100%{stroke-dasharray:1,800;stroke-dashoffset:0}}</style>
<div class="jb-switch-web-component">
    <div class="caption true-text"></div>
    <div class="svg-wrapper">
        <svg class="switch-svg" viewBox=" 0 0 710 440">
            <defs>
                <filter xmlns="http://www.w3.org/2000/svg" id="drop-shadow" height="150%">
                    <feGaussianBlur in="SourceAlpha" stdDeviation="7"></feGaussianBlur>
                    <feOffset dx="0" dy="0" result="offsetblur"></feOffset>
                    <feComponentTransfer>
                        <feFuncA type="linear" slope="0.9"></feFuncA>
                    </feComponentTransfer>
                    <feMerge>
                        <feMergeNode></feMergeNode>
                        <feMergeNode in="SourceGraphic"></feMergeNode>
                    </feMerge>
                </filter>
                <radialGradient id="color1" cx="50%" cy="50%" r="75%">
                    <stop offset="0%" style="stop-color:rgb(255,255,255); stop-opacity:1"/>
                    <stop offset="99%" style="stop-color:rgb(224,224,224); stop-opacity:1"/>
                    <stop offset="100%" style="stop-color:rgb(224,224,224); stop-opacity:1"/>
                </radialGradient>
            </defs>
            <rect class="bg-bar" x="20" y="40" height="360" width="680" stroke="red" rx="180" stroke-width="0"/>
            <g class="trigger-button">
                <circle class="trigger-circle" fill="url(#color1)" cx="220" cy="220" r="200" filter="url(#drop-shadow)"/>
            <circle class="trigger-circle-bar" cx=" 220" cy="220" r="120" filter="url(#drop-shadow)"/>
            </g>

        </svg>
    </div>
    <div class="caption false-text"></div>
    </div>`,t.appendChild(a.content.cloneNode(!0)),this.elements={componentWrapper:t.querySelector(".jb-switch-web-component"),falseText:t.querySelector(".false-text"),trueText:t.querySelector(".true-text"),switch:t.querySelector(".switch-svg"),triggerCircleBar:t.querySelector(".trigger-circle-bar"),triggerButton:t.querySelector(".trigger-button")},this.registerEventListener()}registerEventListener(){this.elements.componentWrapper.addEventListener("click",()=>E(this,o,ce).call(this))}initProp(){u(this,v,!1),this.value=this.getAttribute("value")==="true"||!1}static get observedAttributes(){return["true-title","false-title","value","name","disabled"]}attributeChangedCallback(t,a,r){this.onAttributeChange(t,r)}onAttributeChange(t,a){switch(t){case"value":this.value=!!a;break;case"true-title":this.elements.trueText.innerText=a;break;case"false-title":this.elements.falseText.innerText=a;break;case"disabled":a==""||a==="true"?u(this,v,!0):a!="false"&&a!=null&&a!=null||u(this,v,!1)}}focus(){}showValidationError(t){}clearValidationError(){}get validationMessage(){return s(this,h).validationMessage}checkValidity(){return s(this,j).checkValiditySync({showError:!1}).isAllValid}reportValidity(){return s(this,j).checkValiditySync({showError:!0}).isAllValid}},d=new WeakMap,T=new WeakMap,v=new WeakMap,h=new WeakMap,M=new WeakMap,j=new WeakMap,C=new WeakMap,o=new WeakSet,ce=function(){if(s(this,v))return;u(this,T,!s(this,d));const t=E(this,o,he).call(this);u(this,T,null),!t&&(this.value=!s(this,d),E(this,o,ue).call(this).defaultPrevented&&(this.value=!s(this,d)))},he=function(){const t=new CustomEvent("before-change",{cancelable:!0});return this.dispatchEvent(t),t.defaultPrevented},ue=function(){const t=new Event("change",{bubbles:!0,cancelable:!0,composed:!0});return this.dispatchEvent(t),t},ge=function(){this.value?(this.elements.falseText.classList.remove("--active"),this.elements.trueText.classList.add("--active"),this.elements.switch.classList.add("--active")):(this.elements.trueText.classList.remove("--active"),this.elements.falseText.classList.add("--active"),this.elements.switch.classList.remove("--active"))},de=function(t){if(t.isAllValid)s(this,h).setValidity({},"");else{const a={};let r="";t.validationList.forEach(l=>{l.isValid||(l.validation.stateType&&(a[l.validation.stateType]=!0),r==""&&(r=l.message))}),s(this,h).setValidity(a,r)}},Te=function(){return s(this,C)?[{validator:t=>t!==!1,message:"سوییچ میبایست فعال شود"}]:[]},H);!customElements.get("jb-switch")&&window.customElements.define("jb-switch",xe);let R=V.forwardRef((e,t)=>{let a=c.useRef(null),[r,l]=c.useState(0);return c.useImperativeHandle(t,()=>a?a.current:void 0,[a]),c.useEffect(()=>{l(r+1)},[a.current]),c.useEffect(()=>{a.current&&e.isLoading!==void 0&&e.isLoading!==null&&typeof e.isLoading=="boolean"&&(a.current.isLoading=e.isLoading)},[e.isLoading]),c.useEffect(()=>{a.current&&e.value!==null&&e.value!==void 0&&(a.current.value=e.value)},[e.value]),c.useEffect(()=>{a.current&&typeof e.style=="string"&&a.current.setAttribute("style",e.style)},[e.style]),c.useEffect(()=>{a.current&&typeof e.name=="string"?a.current.setAttribute("name",e.name):a.current&&e.name==null&&a.current.removeAttribute("name")},[e.name]),c.useEffect(()=>{a.current&&Array.isArray(e.validationList)&&(a.current.validation.list=e.validationList)},[e.validationList]),I(a,"load",e.onLoad,!0),I(a,"init",e.onInit,!0),I(a,"change",e.onChange),I(a,"before-change",e.onBeforeChange),V.createElement("jb-switch",{class:e.className?e.className:"","true-title":e.trueTitle?e.trueTitle:"","false-title":e.falseTitle?e.falseTitle:"",ref:a})});R.displayName="JBSwitch";function me(e){const[t,a]=c.useState(!1);return V.createElement(R,{trueTitle:e.trueTitle,falseTitle:e.falseTitle,value:t,onChange:r=>{a(r.target.value)}})}me.__docgenInfo={description:"",methods:[],displayName:"JBSwitchTest"};function ve(e){const[t,a]=c.useState(!1),[r,l]=c.useState(!1);function G(W){const pe=W.target.value;l(!0),setTimeout(()=>{a(pe),l(!1)},1500)}return V.createElement(R,{trueTitle:e.trueTitle,falseTitle:e.falseTitle,value:t,onChange:W=>{G(W)},isLoading:r})}ve.__docgenInfo={description:"",methods:[],displayName:"JBSwitchIsLoadingTest"};const Se={title:"Components/form elements/JBSwitch",component:R},$={args:{value:!1,trueTitle:"فعال",falseTitle:"غیر فعال",onChange:e=>{console.log(e),P("onChange")(e)}}},F={args:{value:!1,trueTitle:"فعال",falseTitle:"غیر فعال",onChange:e=>{console.log(e),P("onChange")(e)}},parameters:{themes:{themeOverride:"rtl"}}},J={render:e=>V.createElement(me,{...e}),args:{trueTitle:"فعال",falseTitle:"غیر فعال"}},O={render:e=>V.createElement(ve,{...e}),args:{trueTitle:"فعال",falseTitle:"غیر فعال",value:!1,isLoading:!0,onChange:e=>{console.log(e),P("onChange")(e)}}},q={render:e=>V.createElement("jb-switch",{"true-title":e.trueTitle,"false-title":e.falseTitle}),args:{value:!1,trueTitle:"فعال",falseTitle:"غیر فعال",onChange:e=>{console.log(e),P("onChange")(e)}}};var z,K,Q;$.parameters={...$.parameters,docs:{...(z=$.parameters)==null?void 0:z.docs,source:{originalSource:`{
  args: {
    value: false,
    trueTitle: 'فعال',
    falseTitle: 'غیر فعال',
    onChange: e => {
      console.log(e);
      action('onChange')(e);
    }
  }
}`,...(Q=(K=$.parameters)==null?void 0:K.docs)==null?void 0:Q.source}}};var U,Y,Z;F.parameters={...F.parameters,docs:{...(U=F.parameters)==null?void 0:U.docs,source:{originalSource:`{
  args: {
    value: false,
    trueTitle: 'فعال',
    falseTitle: 'غیر فعال',
    onChange: e => {
      console.log(e);
      action('onChange')(e);
    }
  },
  parameters: {
    themes: {
      themeOverride: 'rtl'
    }
  }
}`,...(Z=(Y=F.parameters)==null?void 0:Y.docs)==null?void 0:Z.source}}};var ee,te,ae;J.parameters={...J.parameters,docs:{...(ee=J.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  render: args => <JBSwitchTest {...args} />,
  args: {
    trueTitle: 'فعال',
    falseTitle: 'غیر فعال'
  }
}`,...(ae=(te=J.parameters)==null?void 0:te.docs)==null?void 0:ae.source}}};var se,re,ie;O.parameters={...O.parameters,docs:{...(se=O.parameters)==null?void 0:se.docs,source:{originalSource:`{
  render: args => <JBSwitchIsLoadingTest {...args}></JBSwitchIsLoadingTest>,
  args: {
    trueTitle: 'فعال',
    falseTitle: 'غیر فعال',
    value: false,
    isLoading: true,
    onChange: e => {
      console.log(e);
      action('onChange')(e);
    }
  }
}`,...(ie=(re=O.parameters)==null?void 0:re.docs)==null?void 0:ie.source}}};var ne,le,oe;q.parameters={...q.parameters,docs:{...(ne=q.parameters)==null?void 0:ne.docs,source:{originalSource:`{
  render: (args: any) => <jb-switch true-title={args.trueTitle} false-title={args.falseTitle}></jb-switch>,
  args: {
    value: false,
    trueTitle: 'فعال',
    falseTitle: 'غیر فعال',
    onChange: e => {
      console.log(e);
      action('onChange')(e);
    }
  }
}`,...(oe=(le=q.parameters)==null?void 0:le.docs)==null?void 0:oe.source}}};const Ne=["Normal","RTL","ActionTest","LoadingActionTest","WebComponent"];export{J as ActionTest,O as LoadingActionTest,$ as Normal,F as RTL,q as WebComponent,Ne as __namedExportsOrder,Se as default};
