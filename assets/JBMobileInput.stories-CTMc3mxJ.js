var m=e=>{throw TypeError(e)};var L=(e,r,t)=>r.has(e)||m("Cannot "+t);var b=(e,r,t)=>r.has(e)?m("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t);var l=(e,r,t)=>(L(e,r,"access private method"),t);import{r as s,R}from"./index-0yr9KlQE.js";import{o as S,t as B,a as k}from"./index-Bo5DBbl0.js";import"./jb-validation-BFHHOeHY.js";import"./index-BHpGtycm.js";import"./index-C1o-zhIV.js";const W=new B({fa:{validNumberMessage:"شماره موبایل معتبر نیست"},en:{validNumberMessage:"mobile number is not valid"}});var i,M,N,w,f,H=(f=class extends S{constructor(){super();b(this,i);this.initMobileInputWebComponent()}initMobileInputWebComponent(){const r=document.createElement("template");r.innerHTML="<style>.jb-input-web-component{--jb-input-input-direction:var(--jb-mobile-input-input-direction,ltr)}</style>",this.shadowRoot.appendChild(r.content.cloneNode(!0)),this.validation.addValidationListGetter(l(this,i,M).bind(this)),this.addStandardValueCallback(l(this,i,w).bind(this))}},i=new WeakSet,M=function(){const r=[],t={validator:/^(?:09[0-9]{2} [0-9]{7})?$/g,message:W.get(k,"validNumberMessage")};return r.push(t),r},N=function(r){const t=r.replace(/\s/g,"").replace(/\u06F0/g,"0").replace(/\u06F1/g,"1").replace(/\u06F2/g,"2").replace(/\u06F3/g,"3").replace(/\u06F4/g,"4").replace(/\u06F5/g,"5").replace(/\u06F6/g,"6").replace(/\u06F7/g,"7").replace(/\u06F8/g,"8").replace(/\u06F9/g,"9").replace(/[^0-9]/g,""),n=/(?<opCode>(09|0|9)?)(?<number>.{0,})/g.exec(t);if(n&&n.groups){let u,a=n.groups.number;if(a=a.substring(0,9),n.groups.opCode)u=n.groups.opCode==="9"?"09":n.groups.opCode;else{if(!(a.length>0))return"";u="09"}return u.length==1?u:u+a}return""},w=function(r){let t="",n="";n=l(this,i,N).call(this,r);const u=/(09[0-9]{0,2})([0-9]{0,7})/g.exec(n);return t=u&&u.length>0?u.slice(1).filter(a=>a!=="").join(" "):n,{value:n,displayValue:t}},f);customElements.get("jb-mobile-input")||window.customElements.define("jb-mobile-input",H);function o(e,r,t,n=!1){let u=s.useCallback(a=>{e.current&&typeof t=="function"&&t(a)},[e,t]);s.useEffect(()=>{let a=e.current;return a&&a.addEventListener(r,u,{passive:n,capture:!1}),function(){a&&a.removeEventListener(r,u,{passive:n,capture:!1})}},[e,r,t,n])}function I(e,r){o(e,"enter",r.onEnter),o(e,"input",r.onInput),o(e,"beforeinput",r.onBeforeinput),o(e,"change",r.onChange),o(e,"keydown",r.onKeydown),o(e,"keyup",r.onKeyup),o(e,"focus",r.onFocus),o(e,"blur",r.onBlur)}function j(e,r){s.useEffect(()=>{let t=r.value;(r.value==null||r.value===void 0)&&(t=""),e&&e.current&&e.current&&(e.current.value=(t==null?void 0:t.toString())||"")},[r.value]),s.useEffect(()=>{var t;r.type&&((t=e==null?void 0:e.current)==null||t.setAttribute("type",r.type))},[r.type]),s.useEffect(()=>{var t,n;r.name?(t=e==null?void 0:e.current)==null||t.setAttribute("name",r.name||""):(n=e==null?void 0:e.current)==null||n.removeAttribute("name")},[r.name]),s.useEffect(()=>{e&&e.current&&(e.current.validation.list=r.validationList||[])},[r.validationList]),s.useEffect(()=>{var t;(t=e==null?void 0:e.current)==null||t.setAttribute("label",r.label||"")},[r.label]),s.useEffect(()=>{var t,n;typeof r.disabled=="boolean"&&r.disabled?(t=e==null?void 0:e.current)==null||t.setAttribute("disabled",""):(n=e==null?void 0:e.current)==null||n.removeAttribute("disabled")},[r.disabled]),s.useEffect(()=>{var t,n,u;typeof r.required=="string"&&((t=e==null?void 0:e.current)==null||t.setAttribute("required",r.required)),typeof r.required=="boolean"&&(r.required?(n=e==null?void 0:e.current)==null||n.setAttribute("required",""):(u=e==null?void 0:e.current)==null||u.removeAttribute("required"))},[r.required]),s.useEffect(()=>{var t,n;r.inputmode?(t=e.current)==null||t.setAttribute("inputmode",r.inputmode):(n=e.current)==null||n.removeAttribute("inputmode")},[r.inputmode]),s.useEffect(()=>{var t;(t=e==null?void 0:e.current)==null||t.setAttribute("message",r.message||"")},[r.message]),s.useEffect(()=>{var t;(t=e==null?void 0:e.current)==null||t.setAttribute("placeholder",r.placeholder||"")},[r.placeholder]),s.useEffect(()=>{var t,n;r.error?(t=e==null?void 0:e.current)==null||t.setAttribute("error",r.error):(n=e==null?void 0:e.current)==null||n.removeAttribute("error")},[r.error])}s.forwardRef((e,r)=>{let t=s.useRef(null),[n,u]=s.useState(0);return s.useImperativeHandle(r,()=>t?t.current:{},[t]),s.useEffect(()=>{u(n+1)},[t.current]),I(t,e),j(t,e),R.createElement("jb-input",{ref:t,class:e.className},e.children)}).displayName="JBInput";let x=s.forwardRef((e,r)=>{let t=s.useRef(null);return s.useImperativeHandle(r,()=>t?t.current:void 0,[t]),j(t,e),I(t,e),R.createElement("jb-mobile-input",{ref:t,class:e.className},e.children)});x.displayName="JBMobileInput";const G={title:"Components/form elements/Inputs/JBMobileInput",component:x,argTypes:{error:{control:{type:"text"},description:"error message"}}},c={args:{label:"mobile",message:"please enter your mobile number"}},p={args:{label:"required",required:!0}},d={args:{label:"mobile",required:"please enter the full number"}};var g,v,h;c.parameters={...c.parameters,docs:{...(g=c.parameters)==null?void 0:g.docs,source:{originalSource:`{
  args: {
    label: 'mobile',
    message: "please enter your mobile number"
  }
}`,...(h=(v=c.parameters)==null?void 0:v.docs)==null?void 0:h.source}}};var E,y,q;p.parameters={...p.parameters,docs:{...(E=p.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    label: 'required',
    required: true
  }
}`,...(q=(y=p.parameters)==null?void 0:y.docs)==null?void 0:q.source}}};var A,C,F;d.parameters={...d.parameters,docs:{...(A=d.parameters)==null?void 0:A.docs,source:{originalSource:`{
  args: {
    label: 'mobile',
    required: 'please enter the full number'
  }
}`,...(F=(C=d.parameters)==null?void 0:C.docs)==null?void 0:F.source}}};const O=["Normal","Required","RequiredWithMessage"];export{c as Normal,p as Required,d as RequiredWithMessage,O as __namedExportsOrder,G as default};
