var he=Object.defineProperty;var T=r=>{throw TypeError(r)};var be=(r,s,e)=>s in r?he(r,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[s]=e;var f=(r,s,e)=>be(r,typeof s!="symbol"?s+"":s,e),A=(r,s,e)=>s.has(r)||T("Cannot "+e);var a=(r,s,e)=>(A(r,s,"read from private field"),e?e.call(r):s.get(r)),b=(r,s,e)=>s.has(r)?T("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(r):s.set(r,e),u=(r,s,e,t)=>(A(r,s,"write to private field"),t?t.call(r,e):s.set(r,e),e),g=(r,s,e)=>(A(r,s,"access private method"),e);import{R as k,r as n}from"./index-0yr9KlQE.js";import{e as de}from"./jb-validation-BFHHOeHY.js";import{j as ue}from"./index-C1o-zhIV.js";import{t as ge,a as me}from"./index-B9NHg_Qw.js";const pe=new ge({fa:{requiredMessage:"چک میبایست فعال شود"},en:{requiredMessage:"must be checked"}});var h,m,p,i,d,v,l,se,oe,ce,ie,le,ne,_,ve=(_=class extends HTMLElement{constructor(){super();b(this,l);b(this,h,!1);b(this,m,null);f(this,"elements");b(this,p,!1);b(this,i);b(this,d,new de({getValue:()=>this.value,getValidations:g(this,l,ne).bind(this),getValueString:()=>this.value?"true":"false",setValidationResult:g(this,l,le).bind(this),showValidationError:this.showValidationError.bind(this),clearValidationError:this.clearValidationError.bind(this)}));f(this,"initialValue",!1);b(this,v,!1);f(this,"isAutoValidationDisabled",!1);typeof this.attachInternals=="function"&&u(this,i,this.attachInternals()),this.initWebComponent()}static get formAssociated(){return!0}get value(){return a(this,m)!==null?a(this,m):a(this,h)}set value(e){var t,o;a(this,h)!==e&&u(this,h,e),g(this,l,ie).call(this),a(this,i)&&(a(this,i).ariaSelected=e?"true":"false",e?(t=a(this,i).states)==null||t.add("checked"):(o=a(this,i).states)==null||o.delete("checked"),typeof a(this,i).setFormValue=="function"&&a(this,i).setFormValue(`${e}`))}get validation(){return a(this,d)}get name(){return this.getAttribute("name")||""}get isDirty(){return a(this,h)!==this.initialValue}set required(e){u(this,v,e),a(this,d).checkValiditySync({showError:!1})}get required(){return a(this,v)}get disabled(){return a(this,p)}set disabled(e){var t,o;u(this,p,e),e?((t=a(this,i).states)==null||t.add("disabled"),a(this,i).ariaDisabled="true"):((o=a(this,i).states)==null||o.delete("disabled"),a(this,i).ariaDisabled="false")}connectedCallback(){this.callOnLoadEvent(),this.initProp(),this.callOnInitEvent()}callOnLoadEvent(){const e=new CustomEvent("load",{bubbles:!0,composed:!0});this.dispatchEvent(e)}callOnInitEvent(){const e=new CustomEvent("init",{bubbles:!0,composed:!0});this.dispatchEvent(e)}initWebComponent(){const e=this.attachShadow({mode:"open",delegatesFocus:!0});ue();const t=document.createElement("template");t.innerHTML=`<style>:host{cursor:pointer}:host(:state(disabled)){cursor:not-allowed}.jb-checkbox-web-component{grid-template:"check label"max-content"check message"max-content/2rem max-content;justify-content:start;align-items:center;gap:0 .5rem;display:grid}.jb-checkbox-web-component .label-wrapper{color:var(--label-color);grid-area:label;font-weight:400;display:inline-block}.jb-checkbox-web-component:has(.message-box:empty){grid-template-areas:"check label""check label"}.jb-checkbox-web-component .message-box{font-size:var(--jb-checkbox-message-font-size,.7rem);color:var(--message-color);display:var(--jb-checkbox-message-box-display,block);grid-area:message}.jb-checkbox-web-component .message-box:empty{padding:0;display:none}.jb-checkbox-web-component .svg-wrapper{grid-area:check;width:2rem;height:2rem}.jb-checkbox-web-component .svg-wrapper .check-box-svg{width:100%;height:100%}.jb-checkbox-web-component .svg-wrapper .check-box-svg.--active .checkmark__cube{rx:58px;ry:58px;stroke:#0000;transition:all .3s ease-in-out}.jb-checkbox-web-component .svg-wrapper .check-box-svg.--active .checkmark__check{animation:.3s cubic-bezier(.65,0,.45,1) .1s forwards stroke}.jb-checkbox-web-component .svg-wrapper .check-box-svg .checkmark__cube{fill:var(--check-bg-color);stroke:var(--check-border-color);stroke-width:1px;transition:all .3s ease-in-out}.jb-checkbox-web-component .svg-wrapper .check-box-svg .checkmark__check{stroke-width:5px;stroke:var(--check-mark-color);transform-origin:50%;stroke-dasharray:48;stroke-dashoffset:48px}@keyframes stroke{to{stroke-dashoffset:0}} :host{--label-color:var(--jb-checkbox-label-color,var(--jb-neutral-5));--message-color:var(--jb-checkbox-message-color,var(--jb-text-secondary));--check-bg-color:var(--jb-checkbox-check-bg-color,var(--jb-white));--check-border-color:var(--jb-checkbox-check-border-color,var(--jb-neutral-7));--check-mark-color:var(--jb-checkbox-check-mark-color,var(--jb-text-contrast))}:host(:state(invalid)){--message-color:var(--jb-checkbox-message-error-color,var(--jb-red))}:host(:state(checked)){--label-color:var(--jb-checkbox-label-color,var(--jb-text-primary));--check-bg-color:var(--jb-checkbox-check-bg-color-checked,var(--jb-green));--check-mark-color:var(--jb-checkbox-check-mark-color-checked,var(--jb-white))}:host(:state(disabled)){--check-bg-color:var(--jb-checkbox-check-bg-color-disabled,var(--jb-neutral-9))}</style>

    <div class="jb-checkbox-web-component">
      <div class="svg-wrapper">
        <svg class="check-box-svg" viewBox="0 0 52 52" part="checkbox">
          <rect class="checkmark__cube" x="0" y="0" width="52" height="52" rx="5" ry="5" part="check-bg"/>
          <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" part="check-mark"/>
        </svg>
      </div>
      <div class="label-wrapper" >
        <slot name="label" part="label"></slot>
      </div>
      <div class="message-box" part="message"></div>
    </div>
  `,e.appendChild(t.content.cloneNode(!0)),this.elements={componentWrapper:e.querySelector(".jb-checkbox-web-component"),label:e.querySelector(".label-wrapper slot"),svgWrapper:e.querySelector(".svg-wrapper"),svg:e.querySelector(".check-box-svg"),message:e.querySelector(".message-box")},this.registerEventListener()}registerEventListener(){this.elements.componentWrapper.addEventListener("click",()=>g(this,l,se).call(this))}initProp(){this.value=this.getAttribute("value")==="true"||!1}static get observedAttributes(){return["label","message","value","name","disabled","required","error"]}attributeChangedCallback(e,t,o){this.onAttributeChange(e,o)}onAttributeChange(e,t){switch(e){case"value":this.value=!!t;break;case"label":this.elements.label.innerText=t,a(this,i).ariaLabel=t;break;case"disabled":t==""||t==="true"?this.disabled=!0:t!="false"&&t!=null&&t!=null||(this.disabled=!1);break;case"required":this.required=(t||t==="")&&t!=="false";break;case"message":this.elements.message.innerHTML=t;case"error":this.reportValidity()}}focus(){}showValidationError(e){var t;this.elements.message.innerHTML=e.message,(t=a(this,i).states)==null||t.add("invalid"),a(this,i).ariaInvalid="true"}clearValidationError(){var t;const e=this.getAttribute("message")||"";this.elements.message.innerHTML=e,(t=a(this,i).states)==null||t.delete("invalid"),a(this,i).ariaInvalid="false"}get validationMessage(){return a(this,i).validationMessage}checkValidity(){return a(this,d).checkValiditySync({showError:!1}).isAllValid}reportValidity(){return a(this,d).checkValiditySync({showError:!0}).isAllValid}},h=new WeakMap,m=new WeakMap,p=new WeakMap,i=new WeakMap,d=new WeakMap,v=new WeakMap,l=new WeakSet,se=function(){if(a(this,p))return;u(this,m,!a(this,h));const e=g(this,l,oe).call(this);u(this,m,null),e||(this.value=!a(this,h),a(this,d).checkValidity({showError:!0}),g(this,l,ce).call(this).defaultPrevented&&(this.value=!a(this,h)))},oe=function(){const e=new CustomEvent("before-change",{cancelable:!0});return this.dispatchEvent(e),e.defaultPrevented},ce=function(){const e=new Event("change",{bubbles:!0,cancelable:!0,composed:!0});return this.dispatchEvent(e),e},ie=function(){this.value?this.elements.svg.classList.add("--active"):this.elements.svg.classList.remove("--active")},le=function(e){if(e.isAllValid)a(this,i).setValidity({},"");else{const t={};let o="";e.validationList.forEach(c=>{c.isValid||(c.validation.stateType&&(t[c.validation.stateType]=!0),o==""&&(o=c.message))}),a(this,i).setValidity(t,o)}},ne=function(){const e=[];if(a(this,v)){const t=this.getAttribute("required").length>0?this.getAttribute("required"):pe.get(me,"requiredMessage");e.push({validator:o=>o!==!1,message:t,stateType:"valueMissing"})}return this.getAttribute("error")!==null&&this.getAttribute("error").trim().length>0&&e.push({validator:void 0,message:this.getAttribute("error"),stateType:"customError"}),e},_);customElements.get("jb-checkbox")||window.customElements.define("jb-checkbox",ve);function M(r,s,e,t=!1){let o=n.useCallback(c=>{r.current&&typeof e=="function"&&e(c)},[r,e]);n.useEffect(()=>{let c=r.current;return c&&c.addEventListener(s,o,{passive:t,capture:!1}),function(){c&&c.removeEventListener(s,o,{passive:t,capture:!1})}},[r,s,e,t])}let L=k.forwardRef((r,s)=>{var e;let t=n.useRef(null);return n.useImperativeHandle(s,()=>t?t.current:void 0,[t]),n.useEffect(()=>{var o,c;e.name?(o=t==null?void 0:t.current)==null||o.setAttribute("name",e.name||""):(c=t==null?void 0:t.current)==null||c.removeAttribute("name")},[(e=r).name]),n.useEffect(()=>{e.message?t.current.setAttribute("message",e.message):t.current.removeAttribute("message")},[e.message]),n.useEffect(()=>{t&&t.current&&(t.current.validation.list=e.validationList||[])},[e.validationList]),n.useEffect(()=>{var o,c;typeof e.disabled=="boolean"&&e.disabled?(o=t==null?void 0:t.current)==null||o.setAttribute("disabled",""):(c=t==null?void 0:t.current)==null||c.removeAttribute("disabled")},[e.disabled]),n.useEffect(()=>{var o,c,S;typeof e.required=="string"&&((o=t==null?void 0:t.current)==null||o.setAttribute("required",e.required)),typeof e.required=="boolean"&&(e.required?(c=t==null?void 0:t.current)==null||c.setAttribute("required",""):(S=t==null?void 0:t.current)==null||S.removeAttribute("required"))},[e.required]),n.useEffect(()=>{t.current&&e.value!==null&&e.value!==void 0&&(t.current.value=e.value)},[e.value]),n.useEffect(()=>{var o,c;e.error?(o=t==null?void 0:t.current)==null||o.setAttribute("error",e.error):(c=t==null?void 0:t.current)==null||c.removeAttribute("error")},[e.error]),M(t,"before-change",r.onBeforeChange,!0),M(t,"change",r.onChange,!0),k.createElement("jb-checkbox",{class:r.className?r.className:"",label:r.label?r.label:"",ref:t,style:r.style},r.children)});L.displayName="JBSwitch";function ke(r){const[s,e]=n.useState("");return k.createElement(L,{label:r.label,value:s,onChange:t=>{e(t.target.value)}})}const je={title:"Components/form elements/JBCheckbox",component:L},x={args:{label:"checkbox",onChange:r=>{console.log("onChange",r.target.value)}}},w={args:{label:"Checkbox Label",message:"message of checkbox"}},y={args:{label:"required checkbox",message:"please check and then uncheck the checkbox to see validation error",required:!0}},E={args:{label:"disabled",disabled:!0,onChange:r=>{console.log("onChange",r.target.value)}}},C={args:{label:"disabled with true value",value:!0,disabled:!0,onChange:r=>{console.log("onChange",r.target.value)}}},j={args:{children:k.createElement("div",{style:{color:"blue"},slot:"label"},"label in children"),onChange:r=>{console.log("onChange",r.target.value)}}},q={args:{label:"with error",error:"error message passed from props"}},V={render:r=>k.createElement(ke,{...r}),args:{label:"check box"}};var W,B,D;x.parameters={...x.parameters,docs:{...(W=x.parameters)==null?void 0:W.docs,source:{originalSource:`{
  args: {
    label: 'checkbox',
    onChange: e => {
      console.log('onChange', e.target.value);
    }
  }
}`,...(D=(B=x.parameters)==null?void 0:B.docs)==null?void 0:D.source}}};var I,R,H;w.parameters={...w.parameters,docs:{...(I=w.parameters)==null?void 0:I.docs,source:{originalSource:`{
  args: {
    label: 'Checkbox Label',
    message: 'message of checkbox'
  }
}`,...(H=(R=w.parameters)==null?void 0:R.docs)==null?void 0:H.source}}};var N,J,O;y.parameters={...y.parameters,docs:{...(N=y.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    label: 'required checkbox',
    message: 'please check and then uncheck the checkbox to see validation error',
    required: true
  }
}`,...(O=(J=y.parameters)==null?void 0:J.docs)==null?void 0:O.source}}};var P,z,F;E.parameters={...E.parameters,docs:{...(P=E.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    label: 'disabled',
    disabled: true,
    onChange: e => {
      console.log('onChange', e.target.value);
    }
  }
}`,...(F=(z=E.parameters)==null?void 0:z.docs)==null?void 0:F.source}}};var $,G,K;C.parameters={...C.parameters,docs:{...($=C.parameters)==null?void 0:$.docs,source:{originalSource:`{
  args: {
    label: 'disabled with true value',
    value: true,
    disabled: true,
    onChange: e => {
      console.log('onChange', e.target.value);
    }
  }
}`,...(K=(G=C.parameters)==null?void 0:G.docs)==null?void 0:K.source}}};var Q,U,X;j.parameters={...j.parameters,docs:{...(Q=j.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {
    children: <div style={{
      color: 'blue'
    }} slot="label">label in children</div>,
    onChange: e => {
      console.log('onChange', e.target.value);
    }
  }
}`,...(X=(U=j.parameters)==null?void 0:U.docs)==null?void 0:X.source}}};var Y,Z,ee;q.parameters={...q.parameters,docs:{...(Y=q.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  args: {
    label: 'with error',
    error: 'error message passed from props'
  }
}`,...(ee=(Z=q.parameters)==null?void 0:Z.docs)==null?void 0:ee.source}}};var te,re,ae;V.parameters={...V.parameters,docs:{...(te=V.parameters)==null?void 0:te.docs,source:{originalSource:`{
  render: args => <JBCheckboxTest {...args}></JBCheckboxTest>,
  args: {
    label: 'check box'
  }
}`,...(ae=(re=V.parameters)==null?void 0:re.docs)==null?void 0:ae.source}}};const qe=["Normal","WithMessage","Required","Disabled","DisabledTrue","ChildrenLabel","WithError","TestCheckbox"];export{j as ChildrenLabel,E as Disabled,C as DisabledTrue,x as Normal,y as Required,V as TestCheckbox,q as WithError,w as WithMessage,qe as __namedExportsOrder,je as default};
