{"version":3,"file":"JBTimeInput.umd.js","sources":["../../../common/hooks/use-event.ts","../lib/JBTimeInput.tsx"],"sourcesContent":["import { useEffect } from \"react\";\r\n\r\nexport function useEvent(dom:HTMLElement, event:any, handler:any, passive = false) {\r\n  useEffect(() => {\r\n    if (dom) {\r\n      // initiate the event handler\r\n      dom.addEventListener(event, handler, passive); \r\n    }\r\n    // this will clean up the event every time the component is re-rendered\r\n    return function cleanup() {\r\n      if(dom){\r\n        dom.removeEventListener(event, handler, passive);\r\n      }\r\n    };\r\n  });\r\n}","import React, {useRef, useEffect, useImperativeHandle, useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport 'jb-time-input';\r\nimport {useEvent} from '../../../common/hooks/use-event';\r\n\r\n//TODO: replace it after you migrate web-component to typescript\r\ntype JBTimeInputWebComponent = any;\r\ndeclare global {\r\n  // eslint-disable-next-line @typescript-eslint/no-namespace\r\n  namespace JSX {\r\n    interface IntrinsicElements {\r\n      'jb-time-input': JBTimeInputType;\r\n    }\r\n    interface JBTimeInputType extends React.DetailedHTMLProps<React.HTMLAttributes<JBTimeInputWebComponent>, JBTimeInputWebComponent> {\r\n      \"class\"?: string,\r\n      \"type\"?: string,\r\n      \"label\"?:string,\r\n      \"message\"?:string,\r\n      \"placeholder\"?:string,\r\n    }\r\n  }\r\n}\r\n// eslint-disable-next-line react/display-name\r\nconst JBTimeInput = React.forwardRef((props:any, ref)=>{\r\n  const element = useRef<JBTimeInputWebComponent>(null);\r\n  const [refChangeCount, refChangeCountSetter] = useState(0);\r\n  useImperativeHandle(\r\n    ref,\r\n    () => (element?element.current:{}),\r\n    [element],\r\n  );\r\n  useEffect(() => {\r\n    refChangeCountSetter(refChangeCount + 1);\r\n  }, [element.current]);\r\n  function onChange(e) {\r\n    if (props.onChange) {\r\n      props.onChange(e);\r\n    }\r\n  }\r\n  function onKeydown(e) {\r\n    if (props.onKeydown) {\r\n      props.onKeydown(e);\r\n    }\r\n  }\r\n  function onKeyup(e) {\r\n    if (props.onKeyup) {\r\n      props.onKeyup(e);\r\n    }\r\n  }\r\n  function onEnter(e) {\r\n    if (props.onEnter) {\r\n      props.onEnter(e);\r\n    }\r\n  }\r\n  function onFocus(e) {\r\n    if (props.onFocus && e instanceof FocusEvent) {\r\n      props.onFocus(e);\r\n    }\r\n  }\r\n  function onBlur(e) {\r\n    if (props.onBlur && e instanceof FocusEvent) {\r\n      props.onBlur(e);\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    let value = props.value;\r\n    if(props.value == null || props.value === undefined){\r\n      value = '00:00:00';\r\n    }\r\n    element.current.value = value;\r\n  }, [props.value]);\r\n  useEffect(()=>{\r\n    element.current.setAttribute('direction',props.direction);\r\n  },[props.direction]);\r\n  useEffect(()=>{\r\n    element.current.validationList = props.validationList;\r\n  },[props.validationList]);\r\n  useEffect(()=>{\r\n    if(props.secondEnabled !== null && props.secondEnabled !== undefined){\r\n      element.current.secondEnabled = props.secondEnabled;\r\n    }\r\n  },[props.secondEnabled]);\r\n  useEffect(() => {\r\n    if(typeof props.frontalZero == \"boolean\"){\r\n      element.current.frontalZero = props.frontalZero;\r\n    }\r\n  }, [props.frontalZero]);\r\n  useEffect(() => {\r\n    if(Array.isArray(props.optionalUnits)){\r\n      element.current.optionalUnits = props.optionalUnits;\r\n    }\r\n  }, [props.optionalUnits]);\r\n  useEvent(element.current, 'change', onChange);\r\n  useEvent(element.current, 'keydown', onKeydown);\r\n  useEvent(element.current, 'keyup', onKeyup);\r\n  useEvent(element.current, 'focus', onFocus);\r\n  useEvent(element.current, 'blur', onBlur);\r\n  useEvent(element.current, 'enter', onEnter);\r\n  return (\r\n    <jb-time-input placeholder={props.placeholder} ref={element} class={props.className} label={props.label} message={props.message} close-button-text={props.closeButtonText}></jb-time-input>\r\n  );\r\n});\r\n\r\nJBTimeInput.propTypes = {\r\n  label: PropTypes.string,\r\n  closeButtonText: PropTypes.string,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n  onKeyUp: PropTypes.func,\r\n  onEnter: PropTypes.func,\r\n  className: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  direction: PropTypes.string,\r\n  validationList: PropTypes.array,\r\n  secondEnabled: PropTypes.bool,\r\n  frontalZero: PropTypes.bool,\r\n  optionalUnits: PropTypes.array\r\n};\r\n\r\nexport default JBTimeInput;\r\n\r\n"],"names":["useEffect","useRef","useState","useImperativeHandle"],"mappings":"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"}