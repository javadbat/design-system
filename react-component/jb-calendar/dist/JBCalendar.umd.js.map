{"version":3,"file":"JBCalendar.umd.js","sources":["../../../common/hooks/use-event.ts","../lib/JBCalendar.tsx"],"sourcesContent":["import { useEffect } from \"react\";\r\n\r\nexport function useEvent(dom:HTMLElement, event:any, handler:any, passive = false) {\r\n  useEffect(() => {\r\n    if (dom) {\r\n      // initiate the event handler\r\n      dom.addEventListener(event, handler, passive); \r\n    }\r\n    // this will clean up the event every time the component is re-rendered\r\n    return function cleanup() {\r\n      if(dom){\r\n        dom.removeEventListener(event, handler, passive);\r\n      }\r\n    };\r\n  });\r\n}","import React, { useRef, useEffect, useState, useImperativeHandle } from 'react';\r\nimport 'jb-calendar';\r\n// eslint-disable-next-line no-duplicate-imports\r\nimport { JBCalendarWebComponent } from 'jb-calendar';\r\nimport { useEvent } from '../../../common/hooks/use-event';\r\nimport PropTypes from 'prop-types';\r\n\r\ndeclare global {\r\n  // eslint-disable-next-line @typescript-eslint/no-namespace\r\n  namespace JSX {\r\n    interface IntrinsicElements {\r\n      'jb-calendar': JBCalendarType;\r\n    }\r\n    interface JBCalendarType extends React.DetailedHTMLProps<React.HTMLAttributes<JBCalendarWebComponent>, JBCalendarWebComponent> {\r\n      \"class\"?: string,\r\n      \"type\"?: string,\r\n      \"label\"?:string,\r\n      \"message\"?:string,\r\n      \"placeholder\"?:string,\r\n    }\r\n  }\r\n}\r\n// eslint-disable-next-line react/display-name\r\nconst JBCalendar = React.forwardRef((props:any, ref) => {\r\n  const element = useRef<JBCalendarWebComponent>(null);\r\n  const [refChangeCount, refChangeCountSetter] = useState(0);\r\n  useImperativeHandle(\r\n    ref,\r\n    () => (element ? element.current : {}),\r\n    [element],\r\n  );\r\n  useEffect(() => {\r\n    refChangeCountSetter(refChangeCount + 1);\r\n  }, [element.current]);\r\n  useEffect(() => {\r\n    if (props.inputType) {\r\n      element.current.inputType = props.inputType;\r\n    }\r\n  }, [props.inputType]);\r\n  useEffect(()=>{\r\n    element.current.setAttribute('direction', props.direction);\r\n  },[props.direction]);\r\n  useEffect(()=>{\r\n    if(props.jalaliMonthList){\r\n      element.current.setMonthList('JALALI',props.jalaliMonthList);\r\n    }\r\n  },[props.jalaliMonthList]);\r\n  function onSelect(e) {\r\n    if (props.onSelect && e instanceof CustomEvent) {\r\n      props.onSelect(e);\r\n    }\r\n  }\r\n  useEvent(element.current, 'select', onSelect);\r\n  return (\r\n    <jb-calendar ref={element}></jb-calendar>\r\n  );\r\n});\r\nJBCalendar.propTypes = {\r\n  onSelect: PropTypes.func,\r\n  value: PropTypes.string,\r\n  jalaliMonthList: PropTypes.array,\r\n  inputType: PropTypes.oneOf(['GREGORIAN', 'JALALI'])\r\n};\r\nexport {JBCalendar};\r\n"],"names":["useEffect","useRef","useState","useImperativeHandle"],"mappings":";;;;;;EAEM,SAAU,QAAQ,CAAC,GAAe,EAAE,KAAS,EAAE,OAAW,EAAE,OAAO,GAAG,KAAK,EAAA;MAC/EA,eAAS,CAAC,MAAK;UACb,IAAI,GAAG,EAAE;;cAEP,GAAG,CAAC,gBAAgB,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;WAC/C;;EAED,QAAA,OAAO,SAAS,OAAO,GAAA;cACrB,IAAG,GAAG,EAAC;kBACL,GAAG,CAAC,mBAAmB,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;eAClD;EACH,SAAC,CAAC;EACJ,KAAC,CAAC,CAAC;EACL;;ECOA;AACM,QAAA,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,KAAS,EAAE,GAAG,KAAI;EACrD,IAAA,MAAM,OAAO,GAAGC,YAAM,CAAyB,IAAI,CAAC,CAAC;MACrD,MAAM,CAAC,cAAc,EAAE,oBAAoB,CAAC,GAAGC,cAAQ,CAAC,CAAC,CAAC,CAAC;MAC3DC,yBAAmB,CACjB,GAAG,EACH,OAAO,OAAO,GAAG,OAAO,CAAC,OAAO,GAAG,EAAE,CAAC,EACtC,CAAC,OAAO,CAAC,CACV,CAAC;MACFH,eAAS,CAAC,MAAK;EACb,QAAA,oBAAoB,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;EAC3C,KAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;MACtBA,eAAS,CAAC,MAAK;EACb,QAAA,IAAI,KAAK,CAAC,SAAS,EAAE;cACnB,OAAO,CAAC,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;WAC7C;EACH,KAAC,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;MACtBA,eAAS,CAAC,MAAI;UACZ,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,WAAW,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;EAC7D,KAAC,EAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;MACrBA,eAAS,CAAC,MAAI;EACZ,QAAA,IAAG,KAAK,CAAC,eAAe,EAAC;cACvB,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,EAAC,KAAK,CAAC,eAAe,CAAC,CAAC;WAC9D;EACH,KAAC,EAAC,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;MAC3B,SAAS,QAAQ,CAAC,CAAC,EAAA;UACjB,IAAI,KAAK,CAAC,QAAQ,IAAI,CAAC,YAAY,WAAW,EAAE;EAC9C,YAAA,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;WACnB;OACF;MACD,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;EAC9C,IAAA,QACE,KAAa,CAAA,aAAA,CAAA,aAAA,EAAA,EAAA,GAAG,EAAE,OAAO,EAAA,CAAgB,EACzC;EACJ,CAAC,EAAE;EACH,UAAU,CAAC,SAAS,GAAG;MACrB,QAAQ,EAAE,SAAS,CAAC,IAAI;MACxB,KAAK,EAAE,SAAS,CAAC,MAAM;MACvB,eAAe,EAAE,SAAS,CAAC,KAAK;MAChC,SAAS,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;GACpD;;;;;;;;"}